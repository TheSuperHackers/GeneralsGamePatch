

;------------------------------------------------------------------------------
Object CINE_USA08_AmericaJetB52

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVBomber
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End
    ConditionState = DAMAGED
      Model = AVBomber_D
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = REALLYDAMAGED
      Model = AVBomber_D
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = RUBBLE
      Model = AVBomber_D1
      Flags = MAINTAIN_FRAME_ACROSS_STATES
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    OkToChangeModelColor = Yes
  End
  
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVBomber_A2U
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_OPENING
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_CLOSING
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
    End

    ConditionState = REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST MAINTAIN_FRAME_ACROSS_STATES
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:B52
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0 
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = TankDamageFX
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = B52AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  ;SCRIPTED SUPPORT: These special powers are triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
  Behavior    = OCLSpecialPower ModuleTag_04
    SpecialPowerTemplate = SuperweaponDaisyCutter  ;@@KRIS@@
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End
  Behavior    = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SuperweaponParadropAmerica
    UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
    UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
    OCL                  = SUPERWEAPON_Paradrop1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponCarpetBomb
    OCL                  = SUPERWEAPON_CarpetBomb
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
   
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_08
    DoorDelay         = 500
    MaxAttempts       = 4
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 300     ; time in between each item dropped (if more than one)
    PutInContainer    = AmericaParachute
    DeliveryDistance  = 150
  End
  Locomotor = SET_NORMAL CINE_USA08_B52Locomotor

  Behavior = TransportContain ModuleTag_09
    Slots                       = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit         = No
    OrientLikeContainerOnExit   = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate               = 30
    ExitBone                    = WeaponA01
    AllowInsideKindOf           = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
    DoorOpenTime                = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths           = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
    
  Behavior                          = JetSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = TransitionDamageFX ModuleTag_11
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_U06_CruiseMissileFLY

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
  ParticlesAttachedToAnimatedBones = Yes
    DefaultConditionState
      Model         = AVCINECMF
      ;ParticleSysBone = Engine01 CINE_U06_JetBlackTrailThin
      ParticleSysBone = Engine01 CINE_U06_JetExhaust
      ParticleSysBone = Engine01 CINE_U06_SteamRocketFuselage
      ;ParticleSysBone = Engine02 CINE_U06_SteamRocketFuselage
      ;ParticleSysBone = Engine03 CINE_U06_SteamRocketFuselage
      ;ParticleSysBone = Engine04 CINE_U06_SteamRocketFuselage
    End
  End
  
  Scale = .66

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:MIG
  EditorSorting           = VEHICLE
  Side                    = America
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 200.0 
  ShroudClearingRange     = 300.0

  ArmorSet
    Conditions           = None
    Armor                = AirplaneArmor
    DamageFX             = None
  End


  ; *** AUDIO Parameters ***
  VoiceSelect             = MigVoiceSelect
  VoiceMove               = MigVoiceMove
  VoiceAttack             = MigVoiceAttack
  VoiceAttackAir          = MigVoiceAttackAir
  VoiceGuard              = MigVoiceAirPatrol
  SoundAmbient            = MigAmbientLoop
  UnitSpecificSounds
    VoiceCreate           = MigVoiceCreate
    Afterburner           = RaptorAfterburner
    VoiceGarrison         = MigVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 160.0
    InitialHealth        = 160.0
  End
  
  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_04
  End


  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 250.0
  End
  
  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause           = 500
    MinHeight              = 5
    ReturnToBaseIdleTime   = 1000000         ; if idle for this long, return to base, even if not out of ammo
  End


  Locomotor = SET_NORMAL CINE_CruiseMissile
  Locomotor = SET_TAXIING BasicJetTaxiLocomotor


  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000        ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500      ; this often.
  End

  Behavior                       = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End


  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_U06_CruiseMissileAttack

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
  ParticlesAttachedToAnimatedBones = Yes
    DefaultConditionState
      Model         = AVCINECMA
      Animation     = AVCINECMA.AVCINECMA
      AnimationMode = ONCE
      ;ParticleSysBone = Engine01 CINE_U06_JetBlackTrailThin
      ParticleSysBone = Engine01 CINE_U06_JetExhaust
      ParticleSysBone = Engine01 CINE_U06_SteamRocketFuselage
      ;ParticleSysBone = Engine02 CINE_U06_SteamRocketFuselage
      ;ParticleSysBone = Engine03 CINE_U06_SteamRocketFuselage
      ;ParticleSysBone = Engine04 CINE_U06_SteamRocketFuselage
    End
  End
  
  Scale = .66

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:MIG
  EditorSorting           = VEHICLE
  Side                    = America
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 200.0 
  ShroudClearingRange     = 300.0

  ArmorSet
    Conditions           = None
    Armor                = AirplaneArmor
    DamageFX             = None
  End

  ; *** AUDIO Parameters ***
;  SoundAmbient            = Cin_CruiseMissileAmbientLoop


  ; *** ENGINEERING Parameters ***  
  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End
  Shadow          = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
  
  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_04
  End
  
  Behavior = DestroyDie ModuleTag_05
    DeathTypes = ALL -TOPPLED
  End
  
  ; An Explosive Death
  Behavior = FXListDie ModuleTag_10
    DeathTypes = ALL -TOPPLED
    DeathFX = FX_PropExplode
  End

End

;------------------------------------------------------------------------------
Object CINE_U06_BBus

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 
  
    ConditionState    = NONE
      Model           = CINE_BBus
    End

    ConditionState    = DOOR_1_OPENING
      Model           = CINE_BBus
      Animation       = CINE_BBus.CINE_BBus
      AnimationMode   = ONCE
    End
    
    ConditionState    = DAMAGED
      Model           = CBBaikRock_A1
      Animation       = CBBaikRock_A1.CBBaikRock_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = CBBaikRock_A1
      Animation       = CBBaikRock_A1.CBBaikRock_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    
    ConditionState = RUBBLE
      Model = CBBaikRock_CR
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Structure
  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions    = None
    Armor         = StructureArmor
    DamageFX      = StructureDamageFXNoShake
  End
  CommandSet      = BaikonurLaunchTowerCommandSet

  ;***AUDIO parameters ***
;  SoundAmbient    = Cin_BaikonurRocketAmbientLoop
   SoundAmbient    = BuildingNeutronMissileHiss

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End

  ;Behavior = DestroyDie ModuleTag_03
  ;  ;nothing
  ;End
  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
    
  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_04
  End

  Behavior = FlammableUpdate ModuleTag_05
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior               = BaikonurLaunchPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponLaunchBaikonurRocket
    DetonationObject     = BaikonurRocketDetonation
  End

  Behavior             = CreateObjectDie ModuleTag_07
    CreationList  = OCL_PoisonFieldLarge
  End  

  Behavior             = FXListDie ModuleTag_08
    DeathFX       = FX_NukeGLA
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Geometry              = BOX
  GeometryMajorRadius   = 45.0
  GeometryMinorRadius   = 46.0
  GeometryHeight        = 160.0
  GeometryIsSmall       = No
  Shadow                = None
End

;------------------------------------------------------------------------------
Object CINE_U06_SatPhoto01

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model         = CINE_SatP01
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:MIG
  EditorSorting           = VEHICLE
  Side                    = America
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 200.0 
  ShroudClearingRange     = 300.0

  ArmorSet
    Conditions           = None
    Armor                = AirplaneArmor
    DamageFX             = None
  End

  ; *** ENGINEERING Parameters ***  
  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End
  Shadow          = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

  Behavior = DestroyDie ModuleTag_05
    DeathTypes = ALL -TOPPLED
  End
  
  ; An Explosive Death
  Behavior = FXListDie ModuleTag_10
    DeathTypes = ALL -TOPPLED
    DeathFX = FX_PropExplode
  End

End

;------------------------------------------------------------------------------
Object CINE_U06_SatPhoto02

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model         = CINE_SatP02
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:MIG
  EditorSorting           = VEHICLE
  Side                    = America
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 200.0 
  ShroudClearingRange     = 300.0

  ArmorSet
    Conditions           = None
    Armor                = AirplaneArmor
    DamageFX             = None
  End

  ; *** ENGINEERING Parameters ***  
  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End
  Shadow          = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

  Behavior = DestroyDie ModuleTag_05
    DeathTypes = ALL -TOPPLED
  End
  
  ; An Explosive Death
  Behavior = FXListDie ModuleTag_10
    DeathTypes = ALL -TOPPLED
    DeathFX = FX_PropExplode
  End

End

;------------------------------------------------------------------------------
Object CINE_U06_SatPhoto03

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model         = CINE_SatP03
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:MIG
  EditorSorting           = VEHICLE
  Side                    = America
  TransportSlotCount      = 0          ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 200.0 
  ShroudClearingRange     = 300.0

  ArmorSet
    Conditions           = None
    Armor                = AirplaneArmor
    DamageFX             = None
  End

  ; *** ENGINEERING Parameters ***  
  Body            = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End
  Shadow          = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

  Behavior = DestroyDie ModuleTag_05
    DeathTypes = ALL -TOPPLED
  End
  
  ; An Explosive Death
  Behavior = FXListDie ModuleTag_10
    DeathTypes = ALL -TOPPLED
    DeathFX = FX_PropExplode
  End

End

;------------------------------------------------------------------------------

;------------------------------Cinematic Only-----------------------------
Object CINE_Sattelite3

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 
  
    ConditionState    = NONE
      Model           = CINE_Sat02
      Animation       = CINE_Sat02.CINE_Sat02
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_1_OPENING
      Model           = CINE_Sat02
      Animation       = CINE_Sat02.CINE_Sat02
      AnimationMode   = ONCE
    End
    
    ConditionState    = DAMAGED
      Model           = CBBaikRock_A1
      Animation       = CBBaikRock_A1.CBBaikRock_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 SteamRocketFuselage
      ParticleSysBone = Smoke02 SteamRocketFuselage
      ParticleSysBone = Smoke03 SteamRocketFuselage
      ParticleSysBone = Smoke04 SteamRocketFuselage
;     ParticleSysBone = ESmoke01 SteamRocketFuselage
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = CBBaikRock_A1
      Animation       = CBBaikRock_A1.CBBaikRock_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
      ParticleSysBone = Smoke01 SteamRocketFuselage
      ParticleSysBone = Smoke02 SteamRocketFuselage
      ParticleSysBone = Smoke03 SteamRocketFuselage
      ParticleSysBone = Smoke04 SteamRocketFuselage
;     ParticleSysBone = ESmoke01 SteamRocketFuselage
    End
    
    ConditionState = RUBBLE
      Model = CBBaikRock_CR
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Structure
  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions    = None
    Armor         = StructureArmor
    DamageFX      = StructureDamageFXNoShake
  End
  CommandSet      = BaikonurLaunchTowerCommandSet

  ;***AUDIO parameters ***
   SoundAmbient    = CINE_SatSound01Loop
   SoundAmbient    = ParticleUplinkCannon_PowerupSoundLoop

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End

  ;Behavior = DestroyDie ModuleTag_03
  ;  ;nothing
  ;End
  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
    
  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_04
  End

  Behavior = FlammableUpdate ModuleTag_05
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior               = BaikonurLaunchPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponLaunchBaikonurRocket
    DetonationObject     = BaikonurRocketDetonation
  End

  Behavior             = CreateObjectDie ModuleTag_07
    CreationList  = OCL_PoisonFieldLarge
  End  

  Behavior             = FXListDie ModuleTag_08
    DeathFX       = FX_NukeGLA
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Geometry              = BOX
  GeometryMajorRadius   = 1.0
  GeometryMinorRadius   = 1.0
  GeometryHeight        = 1.0
  GeometryIsSmall       = No
  Shadow                = None
End


;------------------------------------------------------------------------------


;------------------------------------------------------------------------------
;**************************** Cinematic-Only unit *****************************
Object CINE_AmericaVehicleHumvee

  ; *** ART Parameters ***
  SelectPortrait         = SAHummer_L
  ButtonImage            = SAHummer
  
  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaTOWMissile
  ;UpgradeCameo4 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo5 = XXX
  
  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = AVHUMMER
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
    End

    ConditionState = REALLYDAMAGED
      Model = AVHUMMER_d
      Turret = Turret
      ShowSubObject = Turret
      HideSubObject = TurretUp01 Housecolor03 MuzzleFXUP01
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01
      ShowSubObject = TurretUp01 Housecolor03
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End

    ConditionState = REALLYDAMAGED WEAPONSET_PLAYER_UPGRADE
      Model = AVHUMMER_d
      Turret = TurretUp01
      HideSubObject = Turret MuzzleFX01
      ShowSubObject = TurretUp01 Housecolor03
      WeaponFireFXBone = PRIMARY MuzzleUp
      WeaponMuzzleFlash = PRIMARY MuzzleFXUp
      WeaponFireFXBone = SECONDARY WeaponB
      WeaponLaunchBone = SECONDARY WeaponB
      WeaponFireFXBone = TERTIARY WeaponB
      WeaponLaunchBone = TERTIARY WeaponB
    End

    TrackMarks = EXTireTrack.tga

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 1.25   ; This speed is added to the rotation speed when powersliding.

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:Humvee
  Side                  = America
  EditorSorting         = VEHICLE
  TransportSlotCount    = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY HumveeGun
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY HumveeGun
    Weapon = SECONDARY HumveeMissileWeapon
    Weapon = TERTIARY HumveeMissileWeaponAir
    PreferredAgainst = TERTIARY     AIRCRAFT
  End
  ArmorSet
    Conditions      = None
    Armor           = HumveeArmor
    DamageFX        = TruckDamageFX
  End
  BuildCost       = 700
  BuildTime       = 10.0          ;in seconds    
  VisionRange     = 320
  ShroudClearingRange = 320
  Prerequisites
    Object = AmericaWarFactory
  End
  ExperienceValue = 50 50 100 150   ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaVehicleHumveeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = HumveeVoiceSelect
  VoiceMove = HumveeVoiceMove
  VoiceGuard = HumveeVoiceMove
  VoiceAttack = HumveeVoiceAttack
  VoiceAttackAir = HumveeVoiceAttackTOW
  SoundMoveStart = HumveeMoveStart
  SoundMoveStartDamaged = HumveeMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    ;TurretMoveStart    = NoSound
    VoiceCreate         = HumveeVoiceCreate
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = HumveeVoiceCrush
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceUnload = HumveeVoiceUnload
    VoiceEnter = HumveeVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE TRANSPORT

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 240.0
    InitialHealth   = 240.0
  End
  Behavior = TransportAIUpdate ModuleTag_03
    Turret
      TurretTurnRate = 180
      RecenterTime = 5000   ; how long to wait during idle before recentering
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL CINE_USAHumveeLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 50.0
  End

  Behavior = TransportContain  ModuleTag_05
    PassengersAllowedToFire = Yes
    Slots             = 5
;    EnterSound          = GarrisonEnter
;    ExitSound           = GarrisonExit
    DamagePercentToUnits = 10%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 3 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_07
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone
  End
  Behavior = ProductionUpdate ModuleTag_08
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = WeaponSetUpgrade ModuleTag_09
    TriggeredBy = Upgrade_AmericaTOWMissile
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 25
    DestructionDelay = 1
    OCL = INITIAL  OCL_InitialHumveeDebris
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
    OCL = FINAL    OCL_FinalHumveeDebris
  End

  Behavior = DestroyDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = FXListDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_CratesChange
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

; This is commented out per hotlist request 10/9 ML
;  Behavior = CreateObjectDie ModuleTag_15
;    DeathTypes = ALL -CRUSHED -SPLATTED
;    CreationList = OCL_AmericanRangerDebris01
;    ExemptStatus = HIJACKED
;  End

  Behavior = EjectPilotDie ModuleTag_16
    DeathTypes = ALL -CRUSHED -SPLATTED
    ExemptStatus = HIJACKED
    ; The following added out per hotlist request 10/9 as above ML
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5     
  GeometryIsSmall = Yes 
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End




;------------------------------------------------------------------------------
Object CINE_USA08_AmericaVehicleComanche

  ; *** ART Parameters ***
  SelectPortrait         = SACCommanche_L
  ButtonImage            = SACCommanche
  
  UpgradeCameo1 = Upgrade_ComancheRocketPods
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AVComanche
      HideSubObject                   = MissileUpgrade
      HideSubObject                   = TurretFX01
      Animation                       = AVComanche.AVComanche
      AnimationMode                   = LOOP
      WeaponMuzzleFlash               = PRIMARY TurretFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponFireFXBone                = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComanche.AVComanche
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVComanche_d
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = RUBBLE
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = AVComanche_d
      HideSubObject                   = AVComanche_Prop
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Comanche
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 400.0 
  ShroudClearingRange = 600
  Prerequisites
    Object            = AmericaAirfield
  End

  WeaponSet
    Conditions          = None 
    ; -----
    Weapon              = PRIMARY     Comanche20mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   ComancheAntiTankMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = TERTIARY    NONE
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE 
    ; -----
    Weapon              = PRIMARY     Comanche20mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   ComancheAntiTankMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = TERTIARY    ComancheRocketPodWeapon
    AutoChooseSources   = TERTIARY    NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = ComancheArmor
    DamageFX        = None
  End
  BuildCost           = 1500
  BuildTime           = 20              ; in seconds  
  ExperienceValue     = 50 50 100 200   ; Experience point value at each level
  ExperienceRequired  = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = AmericaVehicleComancheCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect           = ComancheVoiceSelect
  VoiceMove             = ComancheVoiceMove
  VoiceGuard            = ComancheVoiceMove
  VoiceAttack           = ComancheVoiceAttack
  SoundAmbient          = ComancheAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = ComancheVoiceCreate
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    Afterburner         = RaptorAfterburner
    VoiceGarrison       = ComancheVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = NoSound
    VoiceFireRocketPods = ComancheVoiceAttackRocket
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Behavior = WeaponSetUpgrade ModuleTag_02
    TriggeredBy = Upgrade_ComancheRocketPods
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 220.0
    InitialHealth   = 220.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    ; note that comanches do not return to base when idle
    
    ; this is a bit of a trick... normally, units cannot move-and-fire at
    ; the same time. we need the comanche to be able to. so we give it
    ; a "turret" (invisible) and put the two main weapons on it, but with
    ; no turn rate. voila!
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY
    End

  End
  Locomotor = SET_NORMAL  CINE_USA08_ComancheLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_08
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100             ; in milliseconds
    SelfSpinUpdateAmount            = 10             ; in degrees   
    FallHowFast                     = 12.0%  ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500            ; in milliseconds
    MaxBladeFlyOffDelay             = 1500            ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    ; Most things that eject pilots do so immediately upon death,
    ; via use of EjectPilotDie, but Helicopters are a special case...
    ; they need to do so after their blades are ejected. 
    OCLEjectPilot                   = OCL_EjectPilotViaParachute
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 1500
    FinalRubbleObject               = ComancheRubbleHull
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight = 25.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End





;------------------------------------------------------------------------------
Object CINE_ComancheRubbleHull

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model        = AVComanche_D1
    End
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ComancheHull
  Side = America

  ; *** ENGINEERING Parameters ***
  KindOf = IMMOBILE

  Behavior = PhysicsBehavior ModuleTag_02
    Mass           = 25.0
    AllowBouncing  = Yes
  End

End




;------------------------------------------------------------------------------
Object CINE_AmericaInfantryRanger

  ; *** ART Parameters ***
  SelectPortrait          = SARanger_L
  ButtonImage            = SARanger
  
  UpgradeCameo1 = Upgrade_AmericaRangerFlashBangGrenade
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; --- Idle
    DefaultConditionState
      Model             = AIRngr_SKN
      IdleAnimation     = AIRngr_SKL.AIRngr_STA 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDA
      IdleAnimation     = AIRngr_SKL.AIRngr_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = AIRngr_SKL.AIRngr_STB 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDC
      IdleAnimation     = AIRngr_SKL.AIRngr_IDD
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_SA2SB
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = FIRING_A
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A

    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A REALLYDAMAGED
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringA TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringAInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    ; --- attacking (Grenade Launcher)
    ConditionState      = PREATTACK_B 
      Animation         = AIRngr_SKL.AIRngr_ATBA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringB
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = ONCE

      TransitionKey     = TRANS_FiringB
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_B
      Animation         = AIRngr_SKL.AIRngr_ATBB
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringB
      WaitForStateToFinishIfPossible = TRANS_FiringB
    End
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stand TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATBST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringB TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATBST2
      AnimationMode     = ONCE
    End

    ConditionState      = PREATTACK_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2A
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringBInjured
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringBInjured
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATB2B
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_FiringBInjured
      WaitForStateToFinishIfPossible = TRANS_FiringBInjured
    End
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StandInjured TRANS_FiringBInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST1
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_FiringBInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_ATB2ST2
      AnimationMode     = ONCE
    End

    ; -- cross-attack transitions

    TransitionState     = TRANS_FiringA TRANS_FiringB
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringB TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATA2AB
      AnimationMode     = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 4 4
    End


    ; --- moving
    ConditionState      = MOVING
      Animation         = AIRngr_SKL.AIRngr_RNA 40
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_RNB 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
    End
    
    ; --- dying anims
    ConditionState      = DYING
      Animation         = AIRngr_SKL.AIRngr_DTA
      Animation         = AIRngr_SKL.AIRngr_DTB
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIRngr_SKL.AIRngr_ADTF1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIRngr_SKL.AIRngr_ADTF2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIRngr_SKL.AIRngr_ADTF3
      AnimationMode     = ONCE
      TransitionKey     = None
    End
    AliasConditionState = DYING SPLATTED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIRngr_SKL.AIRngr_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_CHB
      AnimationMode     = LOOP
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState      = PARACHUTING
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End
    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture

    ConditionState      = UNPACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED


    ConditionState      = RAISING_FLAG
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState      = PACKING
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState     = TRANS_Raising TRANS_Packing
      Model             = AIRngr_F_SKN
      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

    ; --- RAPPELLING ANIMATIONS
    ConditionState      = RAPPELLING
      Animation         = AIRngr_SKL.AIRngr_RPL1 ;30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Rappelling
    End
    AliasConditionState = MOVING RAPPELLING

    TransitionState     = TRANS_Rappelling TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Rappelling TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_RPL2
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Ranger
  Side                = America
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CINE_RangerAdvancedCombatRifle
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY RangerAdvancedCombatRifle
    Weapon = SECONDARY RangerFlashBangGrenadeWeapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 100
  ShroudClearingRange = 400
  Prerequisites
    Object = AmericaBarracks
  End
  BuildCost = 225
  BuildTime = 5.0          ;in seconds  
  
  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 20 40 60 120  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryRangerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RangerVoiceSelect
  VoiceMove = RangerVoiceMove
  VoiceGuard = RangerVoiceMove
  VoiceAttack = RangerVoiceAttack
  VoiceFear = RangerVoiceFear
  VoiceTaskComplete = RangerVoiceCaptureComplete

  UnitSpecificSounds
    VoiceEnter = RangerVoiceMove
    VoiceEnterHostile = RangerVoiceMove
    VoiceGarrison = RangerVoiceGarrison
    VoiceCreate         = RangerVoiceCreate
    VoiceSubdue         = RangerVoiceSubdue
    VoiceClearBuilding  = RangerVoiceClearBuilding
    VoiceGetHealed      = RangerVoiceMove
  End

  UnitSpecificFX
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    CombatDropKillFX = FX_RangerCombatDropKill
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY CAN_RAPPEL SCORE

  Behavior = CommandButtonHuntUpdate ModuleTag_02
  End

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = AIUpdateInterface ModuleTag_06
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 5.0
  End

  Behavior = ProductionUpdate ModuleTag_08
    ; nothing
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
  End

  Behavior = WeaponSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = SquishCollide ModuleTag_12
    ;nothing
  End

  Behavior = PoisonedBehavior ModuleTag_17
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Behavior = SpecialAbility ModuleTag_18
    SpecialPowerTemplate      = SpecialAbilityRangerCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes ; Unpaused by upgrade module
    InitiateSound         = RangerVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_19
    SpecialPowerTemplate  = SpecialAbilityRangerCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 10000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_20
    SpecialPowerTemplate = SpecialAbilityRangerCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End


  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 13.0

  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object CINE_AmericanInfantryPathfinder

    ; *** ART Parameters ***
  SelectPortrait         = SAPathfinder1_L
  ButtonImage            = SAPathfinder1
  
  UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AIPFDR_SKN
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA 0 14
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_Standing
    End

    ConditionState = MOVING
      Animation = AIPFDR_SKL.AIPFDR_RNA 30
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Standing
      ParticleSysBone   = None InfantryDustTrails
    End

    TransitionState = TRANS_Standing TRANS_PreAttack 
      Animation = AIPFDR_SKL.AIPFDR_DVA                           ; dive to the ground
      AnimationMode = ONCE
    End

    ConditionState = PREATTACK_A   
      Animation = AIPFDR_SKL.AIPFDR_STB                           ; motionless in prone position
      AnimationMode = ONCE
      TransitionKey = TRANS_PreAttack 
    End
    AliasConditionState = PREATTACK_A MOVING
    AliasConditionState = PREATTACK_A FIRING_A
    AliasConditionState = PREATTACK_A BETWEEN_FIRING_SHOTS_A

    ConditionState = FIRING_A
      Animation = AIPFDR_SKL.AIPFDR_ATA                          ; recoil in prone position
      AnimationMode = ONCE
      TransitionKey = TRANS_LyingDown 
    End
    AliasConditionState = RELOADING_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_A

    ConditionState = MOVING FIRING_A 
      Animation = AIPFDR_SKL.AIPFDR_CLA 15                        ; crawling
      AnimationMode = LOOP
      TransitionKey = TRANS_LyingDown 
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A

;    TransitionState = TRANS_Standing TRANS_LyingDown 
;      Animation = AIPFDR_SKL.AIPFDR_DVA                           ; dive to the ground
;      AnimationMode = ONCE
;    End

    TransitionState = TRANS_LyingDown TRANS_Dying 
      Animation = AIPFDR_SKL.AIPFDR_SUA                           ; getting up
      AnimationMode = ONCE
    End
    TransitionState = TRANS_LyingDown TRANS_Standing 
      Animation = AIPFDR_SKL.AIPFDR_SUA                           ; getting up
      AnimationMode = ONCE
    End

    ConditionState = DYING
      Animation = AIPFDR_SKL.AIPFDR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIPFDR_SKL.AIPFDR_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIPFDR_SKL.AIPFDR_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIPFDR_SKL.AIPFDR_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = FREEFALL
      Animation = AIPFDR_SKL.AIPFDR_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIPFDR_SKL.AIPFDR_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING


    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AIPFDR_SKL.AIPFDR_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  
      ;our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_Chute TRANS_Standing
      Animation = AIPFDR_SKL.AIPFDR_PTD
      AnimationMode = ONCE
    End
  End

  
  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Pathfinder
  Side = America
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CINE_USAPathfinderSniperRifle
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 300
  ShroudClearingRange = 400
  Prerequisites
    Object = AmericaBarracks
    Science = SCIENCE_Pathfinder
  End
  BuildCost = 600
  BuildTime = 10.0          ;in seconds  
  
  ExperienceValue = 40 40 60 80    ;Experience point value at each level
  ExperienceRequired = 0 50 100 200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaInfantryPathfinderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = PathfinderVoiceSelect
  VoiceMove = PathfinderVoiceMove
  VoiceGuard = PathfinderVoiceMove
  VoiceAttack = PathfinderVoiceAttack
  VoiceFear = PathfinderVoiceFear
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  VoiceFear = PathfinderVoiceFear
  
  UnitSpecificSounds
    VoiceCreate          = PathfinderVoiceCreate
    VoiceGarrison = PathfinderVoiceGarrison
    VoiceEnter = PathfinderVoiceMove
    VoiceEnterHostile =  PathfinderVoiceMove
    VoiceGetHealed      = PathfinderVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY STEALTH_GARRISON SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 120.0
    InitialHealth   = 120.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
    MoodAttackCheckRate        = 250
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor

  Behavior = ExperienceScalarUpgrade ModuleTag_05
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

 
  Behavior = SquishCollide ModuleTag_10
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End








;------------------------------------------------------------------------------
;******************************* Cinematic-Only unit **************************
Object CINE_AmericaTankCrusader

  ; *** ART Parameters ***
  SelectPortrait         = SACLeopard_L
  ButtonImage            = SACLeopard
  
  UpgradeCameo1 = Upgrade_AmericaBattleDrone
  UpgradeCameo2 = Upgrade_AmericaScoutDrone
  UpgradeCameo3 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo4 = Upgrade_AmericaCompositeArmor
  ;UpgradeCameo5 = NONE
  
  Draw = W3DTankDraw ModuleTag_01
    DefaultConditionState
      Model               = AVLeopard
      Turret              = Turret
      WeaponFireFXBone    = PRIMARY TurretMS
      WeaponRecoilBone    = PRIMARY Barrel
      WeaponMuzzleFlash   = PRIMARY TurretFX
      WeaponLaunchBone = PRIMARY TurretMS
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVLeopard_D
    End
    ConditionState       = RUBBLE
      Model              = AVLeopard_D
    End

    TrackMarks           = EXTnkTrack.tga
    TreadAnimationRate      = 2.0  ; amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.
    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Crusader
  Side                   = America
  EditorSorting          = VEHICLE
  TransportSlotCount     = 3
  WeaponSet
    Conditions           = None 
    Weapon               = PRIMARY CrusaderTankGun
    ; Uncomment this when we want the crusader to have a machine too again
    ;Weapon               = SECONDARY CrusaderMachineGun
  End
  ArmorSet
    Conditions           = None
    Armor                = TankArmor
    DamageFX             = TankDamageFX
  End
  ;ArmorSet
  ;  Conditions           = PLAYER_UPGRADE
  ;  Armor                = UpgradedTankArmor
  ;  DamageFX             = TankDamageFX
  ;End
  BuildCost              = 900
  BuildTime              = 10.0          ;in seconds    
  VisionRange            = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = AmericaWarFactory
  End
  ExperienceValue        = 100 100 200 400 ;Experience point value at each level
  ExperienceRequired     = 0 200 300 600 ;Experience points needed to gain each level
  IsTrainable            = Yes  ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet             = AmericaTankCrusaderCommandSet
  
  ; *** AUDIO Parameters ***
  VoiceSelect           = CrusaderTankVoiceSelect
  VoiceMove             = CrusaderTankVoiceMove
  VoiceGuard            = CrusaderTankVoiceMove
  VoiceAttack           = CrusaderTankVoiceAttack
  SoundMoveStart        = CrusaderTankMoveStart
  SoundMoveStartDamaged = CrusaderTankMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = CrusaderTankVoiceCreate
    VoiceEnter             = CrusaderTankVoiceMove
    TurretMoveStart     = NoSound
    TurretMoveLoop      = TurretMoveLoop
    SoundEject          = PilotSoundEject
    VoiceEject          = PilotVoiceEject
    VoiceCrush          = CrusaderTankVoiceCrush
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SCORE
  
  Body                   = ActiveBody ModuleTag_02
    MaxHealth       = 480
    InitialHealth   = 480
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate       = 180 ;60   // turn rate, in degrees per sec
      ControlledWeaponSlots= PRIMARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor            = SET_NORMAL CINE_CrusaderLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass                 = 50.0
  End

  Behavior = ObjectCreationUpgrade ModuleTag_05
    UpgradeObject = OCL_AmericanBattleDrone
    TriggeredBy   = Upgrade_AmericaBattleDrone
    ConflictsWith = Upgrade_AmericaScoutDrone
  End
  Behavior = ObjectCreationUpgrade ModuleTag_06
    UpgradeObject = OCL_AmericanScoutDrone
    TriggeredBy   = Upgrade_AmericaScoutDrone
    ConflictsWith = Upgrade_AmericaBattleDrone
  End
  Behavior = ProductionUpdate ModuleTag_07
    MaxQueueEntries = 1; So you can't build multiple upgrades in the same frame
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = MaxHealthUpgrade ModuleTag_09
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  ; Turret fly off death
  Behavior = SlowDeathBehavior ModuleTag_10
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 500
    DestructionDelayVariance  = 100
    FX  = INITIAL  FX_GenericTankDeathEffect
    OCL = MIDPOINT OCL_GenericTankDeathEffect
    FX  = FINAL    FX_GenericTankDeathExplosion
    OCL = FINAL    OCL_CrusaderTurret
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 50
    DestructionDelay  = 2000
    DestructionDelayVariance  = 300
    FX  = INITIAL  FX_CrusaderCatchFire
    OCL = FINAL    OCL_GenericTankDeathEffect  
    FX  = FINAL    FX_GenericTankDeathExplosion
  End

  Behavior                 = TransitionDamageFX ModuleTag_12
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateObjectDie ModuleTag_15
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                    = CreateCrateDie ModuleTag_CratesChange
   CrateData             = SalvageCrateData
   ;CrateData             = EliteTankCrateData
   ;CrateData             = HeroicTankCrateData
  End

  ;Behavior = EjectPilotDie ModuleTag_17
  ;  GroundCreationList = OCL_EjectPilotOnGround
  ;  AirCreationList = OCL_EjectPilotViaParachute
  ;  ExemptStatus = HIJACKED
  ;  VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  ;End

  Behavior = MaxHealthUpgrade ModuleTag_18
    TriggeredBy   = Upgrade_AmericaCompositeArmor
    AddMaxHealth  = 100.0
    ChangeType    = ADD_CURRENT_HEALTH_TOO   ;Choices are PRESERVE_RATIO, ADD_CURRENT_HEALTH_TOO, and SAME_CURRENTHEALTH
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 10.0
  GeometryHeight         = 10.0     
  GeometryIsSmall        = Yes    
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_AmericaInfantryBiohazardTech

  ; This unit is by default NOT buildable. In GLA06 this is buildable from the
  ; barracks of the enemy AI. (The map.ini file is overridden there make it 
  ; buildable = Yes (jkmcd)
  Buildable = No

    ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;NORMAL STANDING
    DefaultConditionState
      Model = AITECH_SKN
      IdleAnimation = AITECH_SKL.AITECH_STA 0 21
      ;Regular spice animations
      IdleAnimation = AITECH_SKL.AITECH_IDA
      IdleAnimation = AITECH_SKL.AITECH_IDB
      AnimationMode = ONCE
      WeaponLaunchBone = PRIMARY BIOGUNFX
      TransitionKey = TRANS_Stand
    End

    ; NORMAL ATTACK
    ConditionState = FIRING_A
      Animation = AITECH_SKL.AITECH_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringA
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A
    AliasConditionState = FIRING_A REALLYDAMAGED
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A REALLYDAMAGED


    ConditionState = MOVING FIRING_A 
      Animation = AITECH_SKL.AITECH_WKB 15
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = None
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A

    ConditionState = MOVING
      Animation = AITECH_SKL.AITECH_WKA 15
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = None
      ParticleSysBone     = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = AITECH_SKL.AITECH_DTA
      Animation = AITECH_SKL.AITECH_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AITECH_SKL.AITECH_ADTD1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AITECH_SKL.AITECH_ADTD2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AITECH_SKL.AITECH_ADTD3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SPECIAL_CHEERING
      Animation = AITECH_SKL.AITECH_CHA
      AnimationMode = LOOP
    End

    ;PARACHUTING ANIMATIONS
    ConditionState = FREEFALL
      Animation = AITECH_SKL.AITECH_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState = PARACHUTING
      Animation = AITECH_SKL.AITECH_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AITECH_SKL.AITECH_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AITECH_SKL.AITECH_PDN
      AnimationMode = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:BioHazardTech
  Side                = America
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet 
    ;*** Fully automated and driven by the CleanupHazardUpdate ***
    Conditions        = None 
    Weapon            = PRIMARY BioHazardTechCleanHazardWeapon 
    AutoChooseSources = PRIMARY NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HazMatHumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 100
  ShroudClearingRange = 400
  Prerequisites
    Object = AmericaBarracks
  End
  BuildCost = 200
  BuildTime = 5.0          ;in seconds  
  
  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryHazMatCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect   = NoSound
  VoiceMove     = NoSound
  VoiceAttack   = NoSound
  UnitSpecificFX
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

  Body = ActiveBody ModuleTag_02

    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = CleanupHazardUpdate ModuleTag_03
    WeaponSlot            = PRIMARY
    ScanRate              = 1000
    ScanRange             = 100.0
  End

  ;Can be ordered to clean up a larger area with the ability to move around at an extended range.
  Behavior = CleanupAreaPower ModuleTag_04
    SpecialPowerTemplate          = SpecialAbilityAmbulanceCleanupArea
    MaxMoveDistanceFromLocation   = 300.0 ;allows the unit to move around while cleaning up
  End

  Behavior = AIUpdateInterface ModuleTag_05
    AutoAcquireEnemiesWhenIdle = No
  End
  Behavior = AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL CINE_HazMatHumanLocomotor

  Behavior = ExperienceScalarUpgrade ModuleTag_07
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = PhysicsBehavior ModuleTag_08
    Mass = 5.0
  End
  Behavior = ProductionUpdate ModuleTag_09
    ; nothing
  End

  Behavior = SquishCollide ModuleTag_10
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RebelDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RebelDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_RebelDie
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 13.0

  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT
End



;------------------------------------------------------------------------------
; NOTE NOTE NOTE NOTE
; NOTE NOTE NOTE NOTE
; NOTE NOTE NOTE NOTE
; NOTE NOTE NOTE NOTE
;
; Although POW Trucks are cut, this one remains, for cinematic purposes only.
; (It is used in USA03.) It can't do anything interesting, other than move
; and get blown up.
; (srj)
;
;

Object AmericaVehiclePOWTruck
  ; *** ART Parameters ***
  SelectPortrait         = SAPowTruck
  ButtonImage            = SAPowTruck
  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  Draw                   = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    ConditionState       = NONE
      Model              = AVPOWTRUCK
    End
    ConditionState       = REALLYDAMAGED
      Model              = AVPOWTRUCK_D
    End
    ConditionState       = RUBBLE
      Model              = AVPOWTruck_D
    End
    TrackMarks           = EXTireTrack.tga
    Dust                 = RocketBuggyDust
    DirtSpray            = RocketBuggyDirtSpray
    PowerslideSpray      = RocketBuggyDirtPowerSlide
    ; These parameters are only used if the model has a separate suspension, 
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone          = Tire01
    RightFrontTireBone         = Tire02
    MidLeftRearTireBone        = Tire03
    MidRightRearTireBone       = Tire05
    LeftRearTireBone           = Tire04
    RightRearTireBone          = Tire06
    TireRotationMultiplier     = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End
  ; ***DESIGN parameters ***
  DisplayName          = OBJECT:POWTruck
  Side                 = America
  EditorSorting        = VEHICLE
  TransportSlotCount   = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions         = None
    Armor              = TruckArmor
    DamageFX           = TankDamageFX
  End
  ; nope, sorry, can't build it. (srj)
  Buildable = No
  ;BuildCost            = 500
  ;BuildTime            = 10.0          ;in seconds    
  VisionRange          = 200
  ShroudClearingRange  = 300
  ExperienceValue      = 50 50 50 50    ;Experience point value at each level
  ExperienceRequired   = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable          = Yes             ;Can gain experience
  CrusherLevel         = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel       = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  
  ; nope, sorry, can't control it. (srj)
  ;CommandSet           = VehiclePOWTruckCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = POWTruckUSAVoiceSelect
  VoiceMove = POWTruckUSAVoiceMove
  VoiceGuard = POWTruckUSAVoiceMove
  SoundEnter = POWTruckEnter
  SoundExit = POWTruckExit
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = POWTruckUSAVoiceCreate
    TurretMoveLoop       = TurretMoveLoop
    SoundMoveStart       = POWTruckUSAMoveStart
    SoundMoveStartDamaged = POWTruckUSAMoveStart
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    VoiceCrush           = POWTruckUSAVoiceCrush
    ; Required for the W3DTruckDraw module
    TruckLandingSound    = RocketBuggyLand
    TruckPowerslideSound = POWTruckUSAMoveStart
    VoiceEnter           = POWTruckUSAVoiceMove
  End
  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE TRANSPORT SCORE
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 500.0
    InitialHealth        = 500.0
  End
  ; but we must have an AIUpdate in order for our Locomotor to work.
  Behavior = AIUpdateInterface ModuleTag_04
    ; no data
  End
  Locomotor              = SET_NORMAL POWTruckLocomotor
  Behavior               = PhysicsBehavior ModuleTag_05
    Mass                 = 50.0
  End
  Behavior               = SlowDeathBehavior ModuleTag_06
    DeathTypes           = ALL -CRUSHED -SPLATTED
    ProbabilityModifier  = 25
    DestructionDelay     = 1
    FX                   = FINAL    FX_BattleMasterExplosionOneFinal
    OCL                  = FINAL    OCL_AmericanPOWTruckDeathEffect
  End
  Behavior               = FXListDie ModuleTag_07
    DeathTypes           = NONE +CRUSHED +SPLATTED
    DeathFX              = FX_CarCrush
  End
  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuous01
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_10
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End
  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End
  Geometry               = BOX
  GeometryMajorRadius    = 15.0
  GeometryMinorRadius    = 7.0
  GeometryHeight         = 13.5     
  GeometryIsSmall        = Yes 
  Shadow                 = SHADOW_VOLUME   
End



;------------------------------------------------------------------------------
Object CINE_AmericaJetRaptor

  ; *** ART Parameters ***
  SelectPortrait         = SACRaptor_L
  ButtonImage            = SACRaptor
  
  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw                   = W3DModelDraw ModuleTag_01
 
    DefaultConditionState
      Model               = AVRaptor
      HideSubObject       = BurnerFX01 BurnerFX02
      WeaponLaunchBone = PRIMARY WeaponA
    End

    ConditionState        = JETEXHAUST
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVRaptor_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End
    
    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVRaptor_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVRaptor_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; afterburner
      ShowSubObject       = BurnerFX01 BurnerFX02
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = RUBBLE
      Model               = AVRaptor_D1B
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVRaptor_D1B
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName             = OBJECT:Raptor
  EditorSorting           = VEHICLE
  Side                    = America
  TransportSlotCount      = 0 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange             = 400.0 
  ShroudClearingRange     = 400
  Prerequisites
    Object                = AmericaAirfield
  End

  WeaponSet
    Conditions            = None 
    Weapon                = PRIMARY RaptorJetMissileWeapon
  End
  ArmorSet
    Conditions            = None
    Armor                 = AirplaneArmor
    DamageFX              = None
  End

  BuildCost               = 1400
  BuildTime               = 1   
  ExperienceValue         = 50 50 100 150  ;Experience point value at each level
  ExperienceRequired      = 0 100 200 400   ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = AmericaJetRaptorCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect            = RaptorVoiceSelect
  VoiceMove              = RaptorVoiceMove
  VoiceAttack            = RaptorVoiceAttack
  VoiceAttackAir         = RaptorVoiceAttackAir
  VoiceGuard             = RaptorVoiceAirPatrol
  SoundAmbient           = RaptorAmbientLoop
  SoundAmbientRubble    = NoSound
  ; SoundMoveLoop          = RaptorAmbientLoop  ; don't want sound while sitting at airfield
  ; SoundAmbient           = NoSound
  UnitSpecificSounds
    VoiceCreate          = RaptorVoiceCreate
    SoundEject           = PilotSoundEject
    VoiceEject           = PilotVoiceEject
    Afterburner          = RaptorAfterburner
    VoiceLowFuel         = RaptorVoiceLowFuel
    VoiceGarrison        = RaptorVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority          = UNIT
  KindOf                 = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body                   = ActiveBody ModuleTag_02
    MaxHealth            = 160.0
    InitialHealth        = 160.0
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_04
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_05
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_RaptorDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_RaptorDeathInitial
    OCLInitialDeath                 = OCL_RaptorDeathInitial
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    OCLSecondary                    = OCL_RaptorDeathSecondary
    FXHitGround                     = FX_JetDeathHitGround
    OCLHitGround                    = OCL_RaptorDeathHitGround
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_RaptorDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior                    = EjectPilotDie ModuleTag_06
    ExemptStatus         = HIJACKED
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
  
  Behavior               = PhysicsBehavior ModuleTag_07
    Mass                 = 500.0
  End

  Behavior                 = TransitionDamageFX ModuleTag_08
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End

  Behavior = JetAIUpdate ModuleTag_09
    OutOfAmmoDamagePerSecond  = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause              = 500
    MinHeight                 = 5
    ParkingOffset             = 3             ; scooch it a little forward so the tail doesn't hit the doors
    ReturnToBaseIdleTime      = 3         ; if idle for this long, return to base, even if not out of ammo
  End
  Locomotor = SET_NORMAL RaptorJetLocomotor
  Locomotor = SET_TAXIING CINE_BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End


  Geometry                 = Box
  GeometryIsSmall          = Yes
  GeometryMajorRadius      = 14.0
  GeometryMinorRadius      = 7.0
  GeometryHeight           = 5.0
  Shadow                   = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length.

End

;------------------------------------------------------------------------------
; *********************** Cinematic-only unit *********************************
Object CINE_AmericaJetB52

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model = AVBomber
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = WingTip01 JetContrailThin
      ParticleSysBone = WingTip02 JetContrailThin
    End
    ConditionState = DAMAGED
      Model = AVBomber_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = REALLYDAMAGED
      Model = AVBomber_D
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Engine00 JetBlackTrailThin
      ParticleSysBone = Engine02 JetBlackTrailThin
      ParticleSysBone = Engine03 JetBlackTrailThin
      ParticleSysBone = Engine04 JetBlackTrailThin
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    ConditionState = RUBBLE
      Model = AVBomber_D1
      ParticleSysBone = Smoke01 JetFireLarge
      ParticleSysBone = Smoke02 JetFireLarge
      ParticleSysBone = Smoke01 JetSmokeLarge
      ParticleSysBone = Smoke02 JetSmokeLarge
    End
    OkToChangeModelColor = Yes
  End
  
  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVBomber_A2U
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End

    ConditionState = REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING REALLYDAMAGED
      Model           = AVBomber_A2DU
      Animation       = AVBomber_A2K.AVBomber_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:B52
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0 
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = TankDamageFX
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = CINE_B52AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK  VEHICLE SCORE TRANSPORT AIRCRAFT IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 1000.0
    InitialHealth   = 1000.0
  End

  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  ;SCRIPTED SUPPORT: These special powers are triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
  Behavior    = OCLSpecialPower ModuleTag_04
    SpecialPowerTemplate = SuperweaponDaisyCutter  ;@@KRIS@@
    OCL                  = SUPERWEAPON_DaisyCutter
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End
  Behavior    = OCLSpecialPower ModuleTag_05
    SpecialPowerTemplate = SuperweaponParadropAmerica
    UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
    UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
    OCL                  = SUPERWEAPON_Paradrop1
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
  Behavior    = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponCarpetBomb
    OCL                  = SUPERWEAPON_CarpetBomb
    CreateLocation       = USE_OWNER_OBJECT
    ScriptedSpecialPowerOnly = Yes
  End 
   
  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 500.0
  End

  Behavior = DeliverPayloadAIUpdate ModuleTag_08
    DoorDelay         = 500
    MaxAttempts       = 4
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 300     ; time in between each item dropped (if more than one)
    PutInContainer    = AmericaParachute
    DeliveryDistance  = 150
  End
  Locomotor = SET_NORMAL CINE_B52Locomotor

  Behavior = TransportContain ModuleTag_09
    Slots                       = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit         = No
    OrientLikeContainerOnExit   = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate               = 30
    ExitBone                    = WeaponA01
    AllowInsideKindOf           = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE
    DoorOpenTime                = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths           = 0
    DestroyRidersWhoAreNotFreeToExit = Yes
  End
    
  Behavior                          = JetSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

  Behavior = TransitionDamageFX ModuleTag_11
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End

  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 60.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End





;------------------------------------------------------------------------------
; ************************* Cinematic-only unit *******************************
Object CINE_AmericaVehicleComanche

  ; *** ART Parameters ***
  SelectPortrait         = SACCommanche_L
  ButtonImage            = SACCommanche
  
  UpgradeCameo1 = Upgrade_ComancheRocketPods
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AVComanche
      HideSubObject                   = MissileUpgrade
      Animation                       = AVComanche.AVComanche
      AnimationMode                   = LOOP
      WeaponMuzzleFlash               = PRIMARY TurretFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponFireFXBone                = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComanche.AVComanche
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVComanche_d
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = RUBBLE
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = AVComanche_d
      HideSubObject                   = AVComanche_Prop
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Comanche
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 400.0 
  ShroudClearingRange = 600
  Prerequisites
    Object            = AmericaAirfield
  End

  WeaponSet
    Conditions          = None 
    ; -----
    Weapon              = PRIMARY     Comanche20mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   ComancheAntiTankMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = TERTIARY    NONE
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE 
    ; -----
    Weapon              = PRIMARY     Comanche20mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   ComancheAntiTankMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = TERTIARY    ComancheRocketPodWeapon
    AutoChooseSources   = TERTIARY    NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = ComancheArmor
    DamageFX        = None
  End
  BuildCost           = 1500
  BuildTime           = 20              ; in seconds  
  ExperienceValue     = 50 50 100 200   ; Experience point value at each level
  ExperienceRequired  = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = AmericaVehicleComancheCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect     = ComancheVoiceSelect
  VoiceMove       = ComancheVoiceMove
  VoiceGuard      = ComancheVoiceMove
  VoiceAttack     = ComancheVoiceAttack
  SoundAmbient    = ComancheAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate   = ComancheVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceGarrison = ComancheVoiceMove
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Behavior = WeaponSetUpgrade ModuleTag_02
    TriggeredBy = Upgrade_ComancheRocketPods
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 220.0
    InitialHealth   = 220.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    ; note that comanches do not return to base when idle
    
    ; this is a bit of a trick... normally, units cannot move-and-fire at
    ; the same time. we need the comanche to be able to. so we give it
    ; a "turret" (invisible) and put the two main weapons on it, but with
    ; no turn rate. voila!
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY
    End

  End
  Locomotor = SET_NORMAL  CINE_ComancheLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_08
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100             ; in milliseconds
    SelfSpinUpdateAmount            = 10             ; in degrees   
    FallHowFast                     = 12.0%  ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500            ; in milliseconds
    MaxBladeFlyOffDelay             = 1500            ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    ; Most things that eject pilots do so immediately upon death,
    ; via use of EjectPilotDie, but Helicopters are a special case...
    ; they need to do so after their blades are ejected. 
    OCLEjectPilot                   = OCL_EjectPilotViaParachute
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 1500
    FinalRubbleObject               = ComancheRubbleHull
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight = 25.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End




;------------------------------------------------------------------------------
;**************************** Cinematic-only unit *****************************
Object CINE_AmericaInfantryColonelBurton

  ; *** ART Parameters ***
  SelectPortrait         = SABurton_L
  ButtonImage            = SABurton

  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes

    ; idle
    DefaultConditionState
      Model               = AIHERO_SKN
      IdleAnimation       = AIHERO_SKL.AIHERO_STA 0 25
      IdleAnimation       = AIHERO_SKL.AIHERO_IDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Stand
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    
    ; injured idle
    ConditionState        = REALLYDAMAGED
      IdleAnimation       = AIHERO_SKL.AIHERO_ISTA 0 30
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDA
      IdleAnimation       = AIHERO_SKL.AIHERO_IIDB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_ISTAHIT
      AnimationMode     = ONCE
    End
    
    ; moving
    ConditionState        = MOVING
      Animation           = AIHERO_SKL.AIHERO_RNA 34
      AnimationMode       = LOOP
      Flags               = RANDOMSTART
      TransitionKey       = TRANS_Stand
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B
    AliasConditionState = MOVING RELOADING_B

    ; injured moving
    ConditionState     = MOVING REALLYDAMAGED
      Animation        = AIHERO_SKL.AIHERO_IRNA 26
      AnimationMode    = LOOP
      Flags            = RANDOMSTART
      TransitionKey    = TRANS_StandInjured
      ParticleSysBone  = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED
    AliasConditionState = MOVING FIRING_B REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_B REALLYDAMAGED

    ; Firing animation
    ConditionState      = FIRING_A
      Animation         = AIHERO_SKL.AIHERO_ATA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringA
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A

    ; Injured Firing animation
    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringAInjured
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIHERO_SKL.AIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; Placing charge animation
    ConditionState      = UNPACKING
      Animation         = AIHERO_SKL.AIHERO_ATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING

    ; Injured Placing charge animation
    ConditionState      = UNPACKING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATB1
      AnimationMode     = ONCE
    End
    AliasConditionState = MOVING UNPACKING REALLYDAMAGED

    ; Stab animations
    ConditionState      = PREATTACK_B 
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Stabbing
    End
    AliasConditionState = PREATTACK_B MOVING
    AliasConditionState = PREATTACK_B FIRING_B
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B

    ConditionState      = FIRING_B
      Animation         = AIHERO_SKL.AIHERO_ATC
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Stabbing
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_B

    TransitionState     = TRANS_Stabbing TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_ATC2
      AnimationMode     = ONCE
    End

    ; Injured Stab animations
    ConditionState      = PREATTACK_B REALLYDAMAGED 
      Animation         = AIHERO_SKL.AIHERO_IATC1
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StabbingInjured
    End
    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED

    ConditionState      = FIRING_B REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_StabbingInjured
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
    AliasConditionState = RELOADING_B REALLYDAMAGED

    TransitionState     = TRANS_StabbingInjured TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_IATC2
      AnimationMode     = ONCE
    End

    ; cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIHERO_SKL.AIHERO_CHA
      AnimationMode     = ONCE
    End
    
    ; injured cheering
    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIHERO_SKL.AIHERO_ICHA
      AnimationMode     = ONCE
    End
    
    ; climbing
    ConditionState      = CLIMBING
      Animation         = AIHERO_SKL.AIHERO_CLMID
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING
    AliasConditionState = CLIMBING REALLYDAMAGED
    AliasConditionState = RAPPELLING REALLYDAMAGED

    ConditionState      = CLIMBING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = CLIMBING MOVING REALLYDAMAGED

    ConditionState      = RAPPELLING MOVING
      Animation         = AIHERO_SKL.AIHERO_CLMUP
      AnimationMode     = LOOP_BACKWARDS
      TransitionKey     = TRANS_Climbing
    End
    AliasConditionState = RAPPELLING MOVING REALLYDAMAGED

; these transitions don't really work well with our code. leave 'em out.
;    TransitionState     = TRANS_Climbing TRANS_Stand
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE
;    End
;
;    TransitionState     = TRANS_Stand TRANS_Climbing
;      Animation         = AIHERO_SKL.AIHERO_CLMST
;      AnimationMode     = ONCE_BACKWARDS
;    End

    ; dying anims
    ConditionState      = DYING
      Animation         = AIHERO_SKL.AIHERO_DTA
      Animation         = AIHERO_SKL.AIHERO_DTB
      Animation         = AIHero_SKL.AIHero_IDTA
      Animation         = AIHero_SKL.AIHero_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End
    AliasConditionState = RAPPELLING DYING
    AliasConditionState = CLIMBING DYING

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIHERO_SKL.AIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIHERO_SKL.AIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIHERO_SKL.AIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; misc anims
    ConditionState      = FREEFALL
      Animation         = AIHERO_SKL.AIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = AIHERO_SKL.AIHERO_PHG
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIHERO_SKL.AIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIHERO_SKL.AIHERO_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:ColonelBurton
  Side                = America
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions          = None 
    Weapon              = PRIMARY     ColonelBurtonSniperRifleWeapon
    Weapon              = SECONDARY   ColonelBurtonKnifeWeapon
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    AutoChooseSources   = SECONDARY   NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange         = 250
  ShroudClearingRange = 500
  Prerequisites
    Object = AmericaBarracks
    Object = AmericaStrategyCenter
  End
  BuildCost = 1500
  BuildTime = 20.0          ;in seconds  

  ExperienceValue     = 50 100 100 150  ; Experience point value at each level
  ExperienceRequired  = 0 200 300 600   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryColonelBurtonCommandSet

  MaxSimultaneousOfType = 1

  ; *** AUDIO Parameters ***
  VoiceSelect = ColonelBurtonVoiceSelect
  VoiceMove = ColonelBurtonVoiceMove
  VoiceAttack = ColonelBurtonVoiceAttack
  VoiceFear = ColonelBurtonVoiceFear
  VoiceGuard = ColonelBurtonVoiceMove
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  
  UnitSpecificSounds
    VoiceMelee = ColonelBurtonVoiceAttackKnife
    VoiceCreate           = ColonelBurtonVoiceCreate
    VoiceGarrison         = ColonelBurtonVoiceGarrison
    VoiceEnter            = ColonelBurtonVoiceMove
    VoiceEnterHostile     = ColonelBurtonVoiceMove
    VoiceGetHealed      = ColonelBurtonVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit. 
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL CINE_ColonelBurtonGroundLocomotor CINE_ColonelBurtonCliffLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    EnemyDetectionEvaEvent      = EnemyColonelBurtonDetected
    OwnDetectionEvaEvent        = OwnColonelBurtonDetected
  End

  Behavior = SpecialAbility ModuleTag_08
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantRemoteCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_09
    SpecialPowerTemplate = SpecialAbilityColonelBurtonRemoteCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = RemoteC4Charge
    MaxSpecialObjects = 8
    SpecialObjectsPersistWhenOwnerDies = No ;Charges are removed instantly when owner dies (nobody can detonate).
    AlwaysValidateSpecialObjects = Yes      ;Coupled with the above setting, this one is necessary for code optimization.
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500
    PackTime                = 0
    SkipPackingWithNoTarget = Yes           ;When yes, the packing/unpacking will be ignored when detonating charges.
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
  End

  Behavior = SpecialAbility ModuleTag_10
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    UpdateModuleStartsAttack = Yes
    InitiateSound             = ColonelBurtonVoicePlantTimedCharge
  End
  Behavior = SpecialAbilityUpdate ModuleTag_11
    SpecialPowerTemplate = SpecialAbilityColonelBurtonTimedCharges
    StartAbilityRange = 0.0
    PreparationTime = 0
    SpecialObject = TimedC4Charge
    MaxSpecialObjects = 10
    SpecialObjectsPersistWhenOwnerDies = Yes 
    SpecialObjectsPersistent = Yes          ;Charges are persistent till lifetime expires or owner detonates them.
    UniqueSpecialObjectTargets = Yes        ;This prevents multiple charges placed on the same object.
    UnpackTime              = 5500
    FlipOwnerAfterUnpacking = Yes
    FleeRangeAfterCompletion = 100.0         ;Runs away after finishing ability
    UnpackSound               = ColonelBurtonPlantCharge
    LoseStealthOnTrigger      = Yes
  End
 
  Behavior = ExperienceScalarUpgrade ModuleTag_12
    TriggeredBy   = Upgrade_AmericaAdvancedTraining
    AddXPScalar   = 1.0 ;Increases experience gained by an additional 100%
  End
 
  Behavior = SquishCollide ModuleTag_13
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_ColonelBurtonDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_18
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI
  BuildCompletion = APPEARS_AT_RALLY_POINT

End




;------------------------------------------------------------------------------
;************************** Cinematic-only unit *******************************
Object CINE_AmericaVehicleChinook

  ; *** ART Parameters ***
  SelectPortrait         = SAChinook_L
  ButtonImage            = SAChinook
  
  ;UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw                         ModuleTag_01 ; Helicopter 

    ExtraPublicBone = RopeStart
    ExtraPublicBone = RopeEnd

    DefaultConditionState
      Model = AVChinook
      Animation = AVChinook.AVChinook
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE
      Model = AVChinook_d
      Animation = AVChinook_d.AVChinook_d
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model = AVChinook_d
      HideSubObject = Props01
      HideSubObject = Props02
    End

    OkToChangeModelColor = Yes
  End

  Draw = W3DModelDraw                         ModuleTag_02 ; Cargo net 
    ConditionState = NONE
      Model = None  ; Nothing here
      TransitionKey = TRANS_Empty
      WaitForStateToFinishIfPossible = TRANS_Unloading
    End

    ConditionState = DYING 
      Model = None  ; Nothing here
    End
    AliasConditionState = RUBBLE
    AliasConditionState = CARRYING RUBBLE
    AliasConditionState = DOCKING RUBBLE
    AliasConditionState = DOCKING CARRYING RUBBLE
 
     ConditionState = CARRYING
      Model = AVChinook_A ;Carrying a full wobbly net of stuff
      Animation = AVChinook_A.AVChinook_A
      AnimationMode = LOOP
      TransitionKey = TRANS_Full
      WaitForStateToFinishIfPossible = TRANS_PickingUp
    End

    ConditionState = DOCKING
      Model = AVChinook_A1MSH ;Lowering an empty net, pulling up with stuff
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE_BACKWARDS
      Flags = START_FRAME_LAST
      AnimationSpeedFactorRange = .75 .75
      TransitionKey = TRANS_PickingUp
      WaitForStateToFinishIfPossible = TRANS_Unloading  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End

    ConditionState = DOCKING CARRYING
      Model = AVChinook_A1MSH ; Lowering a full net, letting stuff fall out, and pulling up an empty net
      Animation = AVChinook_A1SK.AVChinook_A1
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.75 2.75
      TransitionKey = TRANS_Unloading
      WaitForStateToFinishIfPossible = TRANS_PickingUp  ;Trick.  Without hardcoding the difference between what we are docking with, need to use DOCKING for both.
    End
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Chinook
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 300.0 
  ShroudClearingRange = 600
  BuildCost           = 1200
  BuildTime           = 10.0          ;in seconds  
  Prerequisites
    Object = AmericaSupplyCenter
  End
  ExperienceValue     = 50 50 50 50 ;Experience point value at each level
  IsTrainable         = No  
  CommandSet          = AmericaVehicleChinookCommandSet
  ArmorSet
    Conditions      = None
    Armor           = ChinookArmor
    DamageFX        = None
  End

  ; *** AUDIO Parameters ***
  VoiceSelect     = ChinookVoiceSelect
  VoiceMove       = ChinookVoiceMove
  VoiceAttack     = ChinookVoiceAttack
  SoundAmbient    = ChinookAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundEnter      = HumveeEnter
  SoundExit       = HumveeExit
  UnitSpecificSounds
    VoiceCreate         = ChinookVoiceCreate
    VoiceSupply         = ChinookVoiceSupply
    VoiceUnload         = ChinookVoiceUnload
    VoiceCombatDrop     = ChinookVoiceCombatDrop
    VoiceClearBuilding  = RangerVoiceClearBuilding ;Special combat drop that clears buildings!
    VoiceGarrison       = ChinookVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  ; note that, although Chinooks aren't produced at helipads, we want to set this KINDOF so that they can land at
  ; (well, "near" actually) an Airfield to get healed...
  ; also note that we should NOT set CAN_ATTACK for chinooks. they can't attack. so there.
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS SELECTABLE VEHICLE TRANSPORT AIRCRAFT HARVESTER SCORE PRODUCED_AT_HELIPAD

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 300.0
    InitialHealth   = 300.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ChinookStartDeath
  End

  Behavior                       = TransitionDamageFX ModuleTag_06
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = ChinookAIUpdate ModuleTag_07
    MaxBoxes                = 8
    SupplyCenterActionDelay = 3000     ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay = 1250  ; 875 ; ms per box (many small transactions)
    SupplyWarehouseScanDistance = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = ChinookVoiceSuppliesDepleted
    NumRopes                = 4
    ; these define how long we can wait, once a guy is on-rope, before throwing another
    ; guy onto that same rope. (Hint: you don't want to use zero.) Omit entirely
    ; and we'll wait for each guy to clear before spawning another.
    PerRopeDelayMin         = 900
    PerRopeDelayMax         = 1500
    RopeWidth               = 0.5
    RopeColor               = R:0 G:0 B:0
    RopeWobbleLen           = 10
    RopeWobbleAmplitude     = 0.25
    RopeWobbleRate          = 180
    RopeFinalHeight         = 10    ; stop this far above ground
    RappelSpeed             = 30
    MinDropHeight           = 40      ; if dropping into a tall bldg, go at least this far above it

  End
  Locomotor = SET_NORMAL    CINE_ChinookLocomotor
  Locomotor = SET_TAXIING   BasicHelicopterTaxiLocomotor

  Behavior = TransportContain ModuleTag_08
    Slots                 = 8
    DamagePercentToUnits  = 100%
    AllowInsideKindOf     = INFANTRY VEHICLE
    ForbidInsideKindOf    = AIRCRAFT HUGE_VEHICLE
    ExitDelay             = 100
    NumberOfExitPaths     = 1
  End
  Behavior = PhysicsBehavior ModuleTag_09
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_10
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100                     ; in milliseconds
    SelfSpinUpdateAmount            = 10                      ; in degrees   
    FallHowFast                     = 12.0%                   ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500                    ; in milliseconds
    MaxBladeFlyOffDelay             = 1500                    ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 30
    FinalRubbleObject               = ChinookRubbleHull
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry              = BOX
  GeometryMajorRadius   = 20.0
  GeometryMinorRadius   = 6.0
  GeometryHeight        = 12.0     
  GeometryIsSmall       = No
  Shadow                = SHADOW_VOLUME    
  ShadowSizeX           = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End





;------------------------------------------------------------------------------
Object CINE_U04_AmericaJetCargoPlane_HIGH

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model            = AVCargoPln
      Animation       = AVCargoPln.AVCargoPln
      AnimationMode   = LOOP
;      ParticleSysBone = Propeller01 JetBlackTrailThin
;      ParticleSysBone = Propeller02 JetBlackTrailThin
;      ParticleSysBone = Propeller03 JetBlackTrailThin
;      ParticleSysBone = Propeller04 JetBlackTrailThin
;      ParticleSysBone = WingTip01 JetContrailThin
;      ParticleSysBone = WingTip02 JetContrailThin
    End

;    ConditionState = DAMAGED
;      Model           = AVCargoPln_D
;      Animation       = AVCargoPln_D.AVCargoPln_D
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST
;      ParticleSysBone = Smoke01 JetFireLarge
;      ParticleSysBone = Smoke02 JetFireLarge
;      ParticleSysBone = Propeller03 JetBlackTrailThin
;      ParticleSysBone = Propeller04 JetBlackTrailThin
;      ParticleSysBone = Smoke01 JetSmokeLarge
;      ParticleSysBone = Smoke02 JetSmokeLarge
;    End
;
;    ConditionState = REALLYDAMAGED
;      Model           = AVCargoPln_D
;      Animation       = AVCargoPln_D.AVCargoPln_D
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST
;      ParticleSysBone = Smoke01 JetFireLarge
;      ParticleSysBone = Smoke02 JetFireLarge
;      ParticleSysBone = Smoke03 JetFireLarge
;      ParticleSysBone = Smoke05 JetFireLarge
;      ParticleSysBone = Propeller03 JetBlackTrailThin
;      ParticleSysBone = Propeller04 JetBlackTrailThin
;      ParticleSysBone = Smoke01 JetSmokeLarge
;      ParticleSysBone = Smoke02 JetSmokeLarge
;      ParticleSysBone = Smoke03 JetSmokeLarge
;      ParticleSysBone = Smoke05 JetSmokeLarge
;    End
;
;    ConditionState = RUBBLE
;      Model           = AVCargoPln_D1
;      Animation       = AVCargoPln_D.AVCargoPln_D
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST
;      ParticleSysBone = Smoke01 JetFireLarge
;      ParticleSysBone = Smoke06 JetFireLarge
;      ParticleSysBone = Smoke03 JetFireLarge
;      ParticleSysBone = Smoke05 JetFireLarge
;      ParticleSysBone = Smoke01 JetSmokeLarge
;      ParticleSysBone = Smoke06 JetSmokeLarge
;      ParticleSysBone = Smoke03 JetSmokeLarge
;      ParticleSysBone = Smoke05 JetSmokeLarge
;    End
    
    OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 

  End

  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CargoPlane
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0 
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = TankDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = Cin_C130AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 10000.0
    InitialHealth   = 10000.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End



;------------------ Removed by Greg B to speed up USA04
  ;SCRIPTED SUPPORT: These special powers are triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
;  Behavior    = OCLSpecialPower ModuleTag_05
;    SpecialPowerTemplate = SuperweaponDaisyCutter ;@@KRIS@@
;    OCL                  = SUPERWEAPON_DaisyCutter
;    CreateLocation       = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End
;  Behavior    = OCLSpecialPower ModuleTag_06
;    SpecialPowerTemplate = SuperweaponParadropAmerica
;    UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
;    UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
;    OCL                  = SUPERWEAPON_Paradrop1
;    CreateLocation       = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End 
;  Behavior    = OCLSpecialPower ModuleTag_07
;    SpecialPowerTemplate = SuperweaponCarpetBomb
;    OCL                  = SUPERWEAPON_CarpetBomb
;    CreateLocation       = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End 
;  Behavior    = OCLSpecialPower ModuleTag_08
;    SpecialPowerTemplate = SuperweaponCrateDrop
;    OCL                  = SUPERWEAPON_CrateDrop
;    CreateLocation       = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End 

  Behavior = DeliverPayloadAIUpdate ModuleTag_09
    DoorDelay         = 500
    MaxAttempts       = 1
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 1200 ; time in between each item dropped (if more than one)
    PutInContainer    = CINE_U04_AmericaParachute
    DeliveryDistance  = 3000
  End
  Locomotor = SET_NORMAL CINE_U04_B52Locomotor_HIGH

  Behavior = TransportContain ModuleTag_10
    Slots = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit = No
    OrientLikeContainerOnExit = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate = 30
    ExitBone = WeaponA01
    AllowInsideKindOf  = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE 
    ;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
    DoorOpenTime = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
    
  Behavior                          = JetSlowDeathBehavior ModuleTag_11
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

;;;;;;;;  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_12
;;;;;;;;  End



;------------------ Removed by Greg B to speed up USA04
;  Behavior                = ArmorUpgrade ModuleTag_Armor01
;    TriggeredBy           = Upgrade_AmericaCountermeasures
;  End
  
  
  
  
;------------------ Removed by Greg B to speed up USA04
;  Behavior                = CountermeasuresBehavior ModuleTag_13
;    TriggeredBy           = Upgrade_AmericaCountermeasures
;    FlareTemplateName     = CountermeasureFlare
;    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
;    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
;    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
;    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
;    DelayBetweenVolleys   = 1000  ; Time between flare volleys
;    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
;    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
;    EvasionRate           = 50%   ; With active flares, the specified percentage will be diverted.
;    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
;    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
;  End

  Behavior = TransitionDamageFX ModuleTag_17
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End


  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End
;------------------------------------------------------------------------------

Object CINE_U04_AmericaJetCargoPlane_MEDIUM

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model            = AVCargoPln
      Animation       = AVCargoPln.AVCargoPln
      AnimationMode   = LOOP
;      ParticleSysBone = Propeller01 JetBlackTrailThin
;      ParticleSysBone = Propeller02 JetBlackTrailThin
;      ParticleSysBone = Propeller03 JetBlackTrailThin
;      ParticleSysBone = Propeller04 JetBlackTrailThin
;      ParticleSysBone = WingTip01 JetContrailThin
;      ParticleSysBone = WingTip02 JetContrailThin
    End

;    ConditionState = DAMAGED
;      Model           = AVCargoPln_D
;      Animation       = AVCargoPln_D.AVCargoPln_D
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST
;      ParticleSysBone = Smoke01 JetFireLarge
;      ParticleSysBone = Smoke02 JetFireLarge
;      ParticleSysBone = Propeller03 JetBlackTrailThin
;      ParticleSysBone = Propeller04 JetBlackTrailThin
;      ParticleSysBone = Smoke01 JetSmokeLarge
;      ParticleSysBone = Smoke02 JetSmokeLarge
;    End
;
;    ConditionState = REALLYDAMAGED
;      Model           = AVCargoPln_D
;      Animation       = AVCargoPln_D.AVCargoPln_D
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST
;      ParticleSysBone = Smoke01 JetFireLarge
;      ParticleSysBone = Smoke02 JetFireLarge
;      ParticleSysBone = Smoke03 JetFireLarge
;      ParticleSysBone = Smoke05 JetFireLarge
;      ParticleSysBone = Propeller03 JetBlackTrailThin
;      ParticleSysBone = Propeller04 JetBlackTrailThin
;      ParticleSysBone = Smoke01 JetSmokeLarge
;      ParticleSysBone = Smoke02 JetSmokeLarge
;      ParticleSysBone = Smoke03 JetSmokeLarge
;      ParticleSysBone = Smoke05 JetSmokeLarge
;    End
;
;    ConditionState = RUBBLE
;      Model           = AVCargoPln_D1
;      Animation       = AVCargoPln_D.AVCargoPln_D
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST
;      ParticleSysBone = Smoke01 JetFireLarge
;      ParticleSysBone = Smoke06 JetFireLarge
;      ParticleSysBone = Smoke03 JetFireLarge
;      ParticleSysBone = Smoke05 JetFireLarge
;      ParticleSysBone = Smoke01 JetSmokeLarge
;      ParticleSysBone = Smoke06 JetSmokeLarge
;      ParticleSysBone = Smoke03 JetSmokeLarge
;      ParticleSysBone = Smoke05 JetSmokeLarge
;    End
    
    OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 

  End

  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CargoPlane
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0 
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = TankDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = C130AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 10000.0
    InitialHealth   = 10000.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End



  ;------------------ Removed by Greg B to speed up USA04
  ;SCRIPTED SUPPORT: These special powers are triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
  ;Behavior    = OCLSpecialPower ModuleTag_05
  ;  SpecialPowerTemplate = SuperweaponDaisyCutter ;@@KRIS@@
  ;  OCL                  = SUPERWEAPON_DaisyCutter
  ;  CreateLocation       = USE_OWNER_OBJECT
  ;  ScriptedSpecialPowerOnly = Yes
  ;End
  ;Behavior    = OCLSpecialPower ModuleTag_06
  ;  SpecialPowerTemplate = SuperweaponParadropAmerica
  ;  UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
  ;  UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
  ;  OCL                  = SUPERWEAPON_Paradrop1
  ;  CreateLocation       = USE_OWNER_OBJECT
  ;  ScriptedSpecialPowerOnly = Yes
  ;End 
  ;Behavior    = OCLSpecialPower ModuleTag_07
  ;  SpecialPowerTemplate = SuperweaponCarpetBomb
  ;  OCL                  = SUPERWEAPON_CarpetBomb
  ;  CreateLocation       = USE_OWNER_OBJECT
  ;  ScriptedSpecialPowerOnly = Yes
  ;End 
  ;Behavior    = OCLSpecialPower ModuleTag_08
  ;  SpecialPowerTemplate = SuperweaponCrateDrop
  ;  OCL                  = SUPERWEAPON_CrateDrop
  ;  CreateLocation       = USE_OWNER_OBJECT
  ;  ScriptedSpecialPowerOnly = Yes
  ;End 

  Behavior = DeliverPayloadAIUpdate ModuleTag_09
    DoorDelay         = 500
    MaxAttempts       = 1
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 1200 ; time in between each item dropped (if more than one)
    PutInContainer    = CINE_U04_AmericaParachute
    DeliveryDistance  = 3000
  End
  Locomotor = SET_NORMAL CINE_U04_B52Locomotor_MEDIUM

  Behavior = TransportContain ModuleTag_10
    Slots = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit = No
    OrientLikeContainerOnExit = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate = 30
    ExitBone = WeaponA01
    AllowInsideKindOf  = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE 
    ;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
    DoorOpenTime = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
    
  Behavior                          = JetSlowDeathBehavior ModuleTag_11
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

;;;;;;;;  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_12
;;;;;;;;  End



;------------------ Removed by Greg B to speed up USA04
;
;  Behavior                = ArmorUpgrade ModuleTag_Armor01
;    TriggeredBy           = Upgrade_AmericaCountermeasures
;  End
;
;  Behavior                = CountermeasuresBehavior ModuleTag_13
;    TriggeredBy           = Upgrade_AmericaCountermeasures
;    FlareTemplateName     = CountermeasureFlare
;    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
;    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
;    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
;    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
;    DelayBetweenVolleys   = 1000  ; Time between flare volleys
;    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
;    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
;    EvasionRate           = 50%   ; With active flares, the specified percentage will be diverted.
;    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
;    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
;  End

  Behavior = TransitionDamageFX ModuleTag_17
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End


  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End

;------------------------------------------------------------------------------
Object CINE_U04_AmericaJetCargoPlane_LOW

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      Model            = AVCargoPln
      Animation       = AVCargoPln.AVCargoPln
      AnimationMode   = LOOP
;      ParticleSysBone = Propeller01 JetBlackTrailThin
;      ParticleSysBone = Propeller02 JetBlackTrailThin
;      ParticleSysBone = Propeller03 JetBlackTrailThin
;      ParticleSysBone = Propeller04 JetBlackTrailThin
;      ParticleSysBone = WingTip01 JetContrailThin
;      ParticleSysBone = WingTip02 JetContrailThin
    End

;    ConditionState = DAMAGED
;      Model           = AVCargoPln_D
;      Animation       = AVCargoPln_D.AVCargoPln_D
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST
;      ParticleSysBone = Smoke01 JetFireLarge
;      ParticleSysBone = Smoke02 JetFireLarge
;      ParticleSysBone = Propeller03 JetBlackTrailThin
;      ParticleSysBone = Propeller04 JetBlackTrailThin
;      ParticleSysBone = Smoke01 JetSmokeLarge
;      ParticleSysBone = Smoke02 JetSmokeLarge
;    End
;
;    ConditionState = REALLYDAMAGED
;      Model           = AVCargoPln_D
;      Animation       = AVCargoPln_D.AVCargoPln_D
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST
;      ParticleSysBone = Smoke01 JetFireLarge
;      ParticleSysBone = Smoke02 JetFireLarge
;      ParticleSysBone = Smoke03 JetFireLarge
;      ParticleSysBone = Smoke05 JetFireLarge
;      ParticleSysBone = Propeller03 JetBlackTrailThin
;      ParticleSysBone = Propeller04 JetBlackTrailThin
;      ParticleSysBone = Smoke01 JetSmokeLarge
;      ParticleSysBone = Smoke02 JetSmokeLarge
;      ParticleSysBone = Smoke03 JetSmokeLarge
;      ParticleSysBone = Smoke05 JetSmokeLarge
;    End
;
;    ConditionState = RUBBLE
;      Model           = AVCargoPln_D1
;      Animation       = AVCargoPln_D.AVCargoPln_D
;      AnimationMode   = MANUAL
;      Flags           = START_FRAME_FIRST
;      ParticleSysBone = Smoke01 JetFireLarge
;      ParticleSysBone = Smoke06 JetFireLarge
;      ParticleSysBone = Smoke03 JetFireLarge
;      ParticleSysBone = Smoke05 JetFireLarge
;      ParticleSysBone = Smoke01 JetSmokeLarge
;      ParticleSysBone = Smoke06 JetSmokeLarge
;      ParticleSysBone = Smoke03 JetSmokeLarge
;      ParticleSysBone = Smoke05 JetSmokeLarge
;    End
    
    OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 

  End

  Draw = W3DModelDraw ModuleTag_02
    DefaultConditionState
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = MANUAL
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_OPENING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE
      Flags           = START_FRAME_FIRST
    End
    ConditionState = DOOR_1_CLOSING
      Model           = AVCargoPln_A2
      Animation       = AVCargoPln_A2.AVCargoPln_A2
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_LAST
    End
  End
  
  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CargoPlane
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 0.0 
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = TankDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = CountermeasuresAirplaneArmor
    DamageFX              = None
  End
  CommandSet        = Command_ScriptedTransportDrops

  ; *** AUDIO Parameters ***
  SoundAmbient = C130AmbientLoop
  SoundAmbientRubble    = NoSound

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK VEHICLE SCORE TRANSPORT AIRCRAFT FORCEATTACKABLE IGNORED_IN_GUI EMP_HARDENED
  Body = ActiveBody ModuleTag_03
    MaxHealth       = 10000.0
    InitialHealth   = 10000.0
  End

  ExperienceValue     = 40 40 40 40  ; Experience point value at each level

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 500.0
  End



;------------------ Removed by Greg B to speed up USA04
  ;SCRIPTED SUPPORT: These special powers are triggered directly 
  ;from the transport without creating a transport. This is done 
  ;via new code support and CreateLocation USE_OWNER_OBJECT -- 
  ;which also prevents creating the payload transport.
;  Behavior    = OCLSpecialPower ModuleTag_05
;    SpecialPowerTemplate = SuperweaponDaisyCutter ;@@KRIS@@
;    OCL                  = SUPERWEAPON_DaisyCutter
;    CreateLocation       = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End
;  Behavior    = OCLSpecialPower ModuleTag_06
;    SpecialPowerTemplate = SuperweaponParadropAmerica
;    UpgradeOCL           = SCIENCE_Paradrop3 SUPERWEAPON_Paradrop3
;    UpgradeOCL           = SCIENCE_Paradrop2 SUPERWEAPON_Paradrop2
;    OCL                  = SUPERWEAPON_Paradrop1
;    CreateLocation       = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End 
;  Behavior    = OCLSpecialPower ModuleTag_07
;    SpecialPowerTemplate = SuperweaponCarpetBomb
;    OCL                  = SUPERWEAPON_CarpetBomb
;    CreateLocation       = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End 
;  Behavior    = OCLSpecialPower ModuleTag_08
;    SpecialPowerTemplate = SuperweaponCrateDrop
;    OCL                  = SUPERWEAPON_CrateDrop
;    CreateLocation       = USE_OWNER_OBJECT
;    ScriptedSpecialPowerOnly = Yes
;  End 

  Behavior = DeliverPayloadAIUpdate ModuleTag_09
    DoorDelay         = 500
    MaxAttempts       = 1
    DropOffset        = X:0 Y:0 Z:-10
    DropDelay         = 1200 ; time in between each item dropped (if more than one)
    PutInContainer    = CINE_U04_AmericaParachute
    DeliveryDistance  = 3000
  End
  Locomotor = SET_NORMAL CINE_U04_B52Locomotor_LOW

  Behavior = TransportContain ModuleTag_10
    Slots = 100                     ; hey, it's a BIG transport
    ScatterNearbyOnExit = No
    OrientLikeContainerOnExit = Yes
    KeepContainerVelocityOnExit = Yes
    ExitPitchRate = 30
    ExitBone = WeaponA01
    AllowInsideKindOf  = INFANTRY VEHICLE PROJECTILE DOZER PARACHUTABLE 
    ;gs I added parachutable as a catch all to prevent making new kindofs (like CRATE)
    DoorOpenTime = 0                ; this prevents the Contain module from messing with the doors, since we want DeliverPayload to handle 'em
    NumberOfExitPaths = 0
    DestroyRidersWhoAreNotFreeToExit = Yes  ; 'destroy' as opposed to 'kill'
  End
    
  Behavior                          = JetSlowDeathBehavior ModuleTag_11
    DestructionDelay                = 2000 
    RollRate                        = 0.0
    RollRateDelta                   = 100%      ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0
    FallHowFast                     = 25.0%    ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_JetBigDeathInitial
    OCLInitialDeath                 = OCL_AmericaJetCargoDeathStart
    DelaySecondaryFromInitialDeath  = 2000       ; in milliseconds     This guy won't hit the ground, so this time equals the above time
    OCLSecondary                    = OCL_AmericaJetCargoHulkDeath
    FXSecondary                     = FX_BigPlaneDeath
;   FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
;   OCLFinalBlowUp                  = OCL_AuroraDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End

;;;;;;;;  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_12
;;;;;;;;  End



;------------------ Removed by Greg B to speed up USA04
;  Behavior                = ArmorUpgrade ModuleTag_Armor01
;    TriggeredBy           = Upgrade_AmericaCountermeasures
;  End
;
;  Behavior                = CountermeasuresBehavior ModuleTag_13
;    TriggeredBy           = Upgrade_AmericaCountermeasures
;    FlareTemplateName     = CountermeasureFlare
;    FlareBoneBaseName     = Flare ; Name of the base flare bone (Flare01, Flare02, Flare03)
;    VolleySize            = 4     ; Number of flares launched per volley (requires bones)
;    VolleyArcAngle        = 90.0  ; Max angle of flare relative to forward direction (with VolleySize of 1, flare will always goes straight back).
;    VolleyVelocityFactor  = 2.0   ; Shoots out flares at a stronger velocity with a higher value.
;    DelayBetweenVolleys   = 1000  ; Time between flare volleys
;    NumberOfVolleys       = 5     ; Number of times the volleys will fire before reloading
;    ReloadTime            = 0     ; After all volleys launched, then reloading must occur. If 0, then reloading occurs at airstrip only.
;    EvasionRate           = 50%   ; With active flares, the specified percentage will be diverted.
;    ReactionLaunchLatency = 0     ; Reaction between getting shot at and the firing of the first volley of countermeasures.
;    MissileDecoyDelay     = 200   ; A reported missile that has been determined to hit a decoy will wait this long before acquiring countermeasures.
;  End

  Behavior = TransitionDamageFX ModuleTag_17
    DamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_JetBigDamageTransition
  End


  Geometry = Box
  GeometryIsSmall = No
  GeometryMajorRadius = 40.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 10.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length
End
;------------------------------------------------------------------------------
Object CINE_USA04_PARADROP_AmericaInfantryRanger

  ; *** ART Parameters ***
  SelectPortrait          = SARanger_L
  ButtonImage            = SARanger
  
  UpgradeCameo1 = Upgrade_AmericaRangerFlashBangGrenade
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  UpgradeCameo3 = Upgrade_InfantryCaptureBuilding
  UpgradeCameo4 = Upgrade_AmericaChemicalSuits
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; --- Idle
    DefaultConditionState
      Model             = AIRngr_SKN
      IdleAnimation     = AIRngr_SKL.AIRngr_STA 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDA
      IdleAnimation     = AIRngr_SKL.AIRngr_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
      TransitionKey     = TRANS_Stand

    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = AIRngr_SKL.AIRngr_STB 0 35
      IdleAnimation     = AIRngr_SKL.AIRngr_IDC
      IdleAnimation     = AIRngr_SKL.AIRngr_IDD
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_SA2SB
      AnimationMode     = ONCE
    End

    ; --- attacking (Machine Gun)
    ConditionState      = USING_WEAPON_A
      Animation         = AIRngr_SKL.AIRngr_ATA
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringA
    End

    ConditionState      = USING_WEAPON_A REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_ATA2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_FiringAInjured
    End

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_A2WAA
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Stand TRANS_FiringA
      Animation         = AIRngr_SKL.AIRngr_ATAST
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringA TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_ATAED
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_StandInjured TRANS_FiringAInjured
      Animation         = AIRngr_SKL.AIRngr_S2WAA
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End

    TransitionState     = TRANS_FiringAInjured TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_WAA2S
      AnimationMode     = ONCE
      AnimationSpeedFactorRange = 4 4
    End
    
    TransitionState     = TRANS_Stand TRANS_Move
      Animation         = AIRngr_SKL.AIRngr_STA2RNA
      AnimationMode     = ONCE
    End

    ; --- attacking (Grenade Launcher)
    ; - Removed to *hopefully* improve USA04 Framerate.
;    ConditionState      = PREATTACK_B 
;      Animation         = AIRngr_SKL.AIRngr_ATBA
;      AnimationMode     = ONCE
;      TransitionKey     = TRANS_FiringB
;    End
;    AliasConditionState = PREATTACK_B MOVING
;    AliasConditionState = PREATTACK_B FIRING_B
;    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B;
;
;    ConditionState      = FIRING_B
;      Animation         = AIRngr_SKL.AIRngr_ATBB
;      AnimationMode     = ONCE
;      TransitionKey     = TRANS_FiringB
;    End;
;
;    ConditionState      = BETWEEN_FIRING_SHOTS_B
;      Animation         = AIRngr_SKL.AIRngr_ATBB
;      AnimationMode     = MANUAL
;      Flags             = START_FRAME_LAST
;      TransitionKey     = TRANS_FiringB
;      WaitForStateToFinishIfPossible = TRANS_FiringB
;    End
;    AliasConditionState = RELOADING_B
;
;    TransitionState     = TRANS_Stand TRANS_FiringB
;      Animation         = AIRngr_SKL.AIRngr_ATBST1
;      AnimationMode     = ONCE
;    End
;
;    TransitionState     = TRANS_FiringB TRANS_Stand
;      Animation         = AIRngr_SKL.AIRngr_ATBST2
;      AnimationMode     = ONCE
;    End
;
;    ConditionState      = PREATTACK_B REALLYDAMAGED
;      Animation         = AIRngr_SKL.AIRngr_ATB2A
;      AnimationMode     = ONCE
;      TransitionKey     = TRANS_FiringBInjured
;    End
;    AliasConditionState = PREATTACK_B MOVING REALLYDAMAGED
;    AliasConditionState = PREATTACK_B FIRING_B REALLYDAMAGED
;    AliasConditionState = PREATTACK_B BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
;
;    ConditionState      = FIRING_B REALLYDAMAGED
;      Animation         = AIRngr_SKL.AIRngr_ATB2B
;      AnimationMode     = ONCE
;      TransitionKey     = TRANS_FiringBInjured
;    End
;
;    ConditionState      = BETWEEN_FIRING_SHOTS_B REALLYDAMAGED
;      Animation         = AIRngr_SKL.AIRngr_ATB2B
;      AnimationMode     = MANUAL
;      Flags             = START_FRAME_LAST
;      TransitionKey     = TRANS_FiringBInjured
;      WaitForStateToFinishIfPossible = TRANS_FiringBInjured
;    End
;    AliasConditionState = RELOADING_B REALLYDAMAGED
;
;    TransitionState     = TRANS_StandInjured TRANS_FiringBInjured
;      Animation         = AIRngr_SKL.AIRngr_ATB2ST1
;      AnimationMode     = ONCE
;    End
;
;    TransitionState     = TRANS_FiringBInjured TRANS_StandInjured
;      Animation         = AIRngr_SKL.AIRngr_ATB2ST2
;      AnimationMode     = ONCE
;    End
;
    ; -- cross-attack transitions
;
;    TransitionState     = TRANS_FiringA TRANS_FiringB
;      Animation         = AIRngr_SKL.AIRngr_ATA2AB
;      AnimationMode     = ONCE
;      AnimationSpeedFactorRange = 4 4
;    End
;
;    TransitionState     = TRANS_FiringB TRANS_FiringA
;      Animation         = AIRngr_SKL.AIRngr_ATA2AB
;      AnimationMode     = ONCE_BACKWARDS
;      AnimationSpeedFactorRange = 4 4
;    End


    ; --- moving
    ConditionState      = MOVING
      Animation         = AIRngr_SKL.AIRngr_RNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_RNB 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = TRANS_Move
    End
    AliasConditionState = MOVING REALLYDAMAGED ATTACKING
    
    ; --- dying anims
    ConditionState      = DYING
      Animation         = AIRngr_SKL.AIRngr_DTA
      Animation         = AIRngr_SKL.AIRngr_DTB
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = AIRngr_SKL.AIRngr_ADTF1
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = AIRngr_SKL.AIRngr_ADTF2
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = AIRngr_SKL.AIRngr_ADTF3
      AnimationMode     = ONCE
      TransitionKey     = None
    End
    AliasConditionState = DYING SPLATTED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = AIRngr_SKL.AIRngr_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = AIRngr_SKL.AIRngr_CHB
      AnimationMode     = LOOP
    End

    ; ----- PARACHUTING ANIMATIONS
    ConditionState      = FREEFALL
      Animation         = AIRngr_SKL.AIRngr_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING
    ConditionState      = PARACHUTING
      Animation         = AIRngr_SKL.AIRngr_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = AIRngr_SKL.AIRngr_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End
    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = AIRngr_SKL.AIRngr_PTD
      AnimationMode     = ONCE
    End

    ; ------- Bldg-capture
    ; - Removed to *hopefully* improve USA04 Framerate.
;
;    ConditionState      = UNPACKING
;      Model             = AIRngr_F_SKN
;      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
;      AnimationMode     = ONCE
;    End
;    AliasConditionState = UNPACKING REALLYDAMAGED
;
;
;    ConditionState      = RAISING_FLAG
;      Model             = AIRngr_F_SKN
;      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
;      AnimationMode     = ONCE
;      TransitionKey     = TRANS_Raising
;    End
;    AliasConditionState = RAISING_FLAG REALLYDAMAGED
;
;    ConditionState      = PACKING
;      Model             = AIRngr_F_SKN
;      Animation         = AIRngr_F_SKL.AIRngr_F_FDP1
;      AnimationMode     = ONCE_BACKWARDS
;      Flags             = START_FRAME_LAST
;      TransitionKey     = TRANS_Packing
;    End
;    AliasConditionState = PACKING REALLYDAMAGED
;
;    TransitionState     = TRANS_Raising TRANS_Packing
;      Model             = AIRngr_F_SKN
;      Animation         = AIRngr_F_SKL.AIRngr_F_FDP2
;      AnimationMode     = ONCE_BACKWARDS
;      Flags             = START_FRAME_LAST
;    End
;
;    ; --- RAPPELLING ANIMATIONS
;    ConditionState      = RAPPELLING
;      Animation         = AIRngr_SKL.AIRngr_RPL1 ;30
;      AnimationMode     = LOOP
;      Flags             = RANDOMSTART
;      TransitionKey     = TRANS_Rappelling
;    End
;    AliasConditionState = MOVING RAPPELLING
;
;    TransitionState     = TRANS_Rappelling TRANS_Stand
;      Animation         = AIRngr_SKL.AIRngr_RPL2
;      AnimationMode     = ONCE
;    End
;
;    TransitionState     = TRANS_Rappelling TRANS_StandInjured
;      Animation         = AIRngr_SKL.AIRngr_RPL2
;      AnimationMode     = ONCE
;    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Ranger
  Side                = America
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY RangerAdvancedCombatRifle
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE 
    Weapon = PRIMARY RangerAdvancedCombatRifle
    Weapon = SECONDARY RangerFlashBangGrenadeWeapon
    AutoChooseSources = PRIMARY FROM_SCRIPT FROM_AI DEFAULT_SWITCH_WEAPON
    AutoChooseSources = SECONDARY FROM_SCRIPT FROM_AI
    WeaponLockSharedAcrossSets = Yes ; This set is so similar to the default set that it can hold the weapon lock
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  ArmorSet
    Conditions            = PLAYER_UPGRADE
    Armor                 = ChemSuitHumanArmor
    DamageFX              = None
  End
  VisionRange = 100
  ShroudClearingRange = 400
  Prerequisites
    Object = AmericaBarracks
  End
  BuildCost = 225
  BuildTime = 5.0          ;in seconds  
  
  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 40 60 120  ;Experience points needed to gain each level
  IsTrainable = No             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = AmericaInfantryRangerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RangerVoiceSelect
  VoiceMove = RangerVoiceMove
  VoiceGuard = RangerVoiceMove
  VoiceAttack = RangerVoiceAttack
  VoiceFear = RangerVoiceFear
  VoiceTaskComplete = RangerVoiceCaptureComplete

  UnitSpecificSounds
    VoiceEnter = RangerVoiceMove
    VoiceEnterHostile = RangerVoiceMove
    VoiceGarrison = RangerVoiceGarrison
    VoiceCreate         = RangerVoiceCreate
    VoiceSubdue         = RangerVoiceSubdue
    VoiceClearBuilding  = RangerVoiceClearBuilding
    VoiceGetHealed      = RangerVoiceMove
    VoicePrimaryWeaponMode = RangerVoiceModeGun
    VoiceSecondaryWeaponMode = RangerVoiceModeFlashBang
  End

  UnitSpecificFX
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    CombatDropKillFX = FX_RangerCombatDropKill
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY  

  Behavior = CommandButtonHuntUpdate ModuleTag_02
  End

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 180.0
    InitialHealth   = 180.0
  End

; - Removed to *hopefully* improve USA04 Framerate.
;  Behavior = ExperienceScalarUpgrade ModuleTag_04
;    TriggeredBy = Upgrade_AmericaAdvancedTraining
;    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
;  End
; - Removed to *hopefully* improve USA04 Framerate.
;  Behavior = AutoFindHealingUpdate   ModuleTag_05 ; This update will have the unit go to a healing station if injured. jba 
;    ScanRate = 1000 ; once a second.
;    ScanRange = 300 ;
;    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
;    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
;  End

  Behavior = AIUpdateInterface ModuleTag_06
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 5.0
  End

  Behavior = ProductionUpdate ModuleTag_08
    ; nothing
  End
; - Removed to *hopefully* improve USA04 Framerate.
;  Behavior = CommandButtonHuntUpdate  ModuleTag_09 ; allows use of command button hunt script with this unit. 
;  End
; - Removed to *hopefully* improve USA04 Framerate.
;  Behavior = WeaponSetUpgrade ModuleTag_10
;    TriggeredBy = Upgrade_AmericaRangerFlashBangGrenade
;  End
  

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED; -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
; - Removed to *hopefully* improve USA04 Framerate.  
;  
;  Behavior = SlowDeathBehavior ModuleTag_Death03
;    DeathTypes          = NONE +EXPLODED
;    SinkDelay           = 3000
;    SinkRate            = 0.5     ; in Dist/Sec
;    DestructionDelay    = 8000
;    FX                  = INITIAL FX_RangerDie
;    FlingForce          = 8
;    FlingForceVariance  = 3
;    FlingPitch          = 60
;    FlingPitchVariance  = 10
;  End
;  Behavior = SlowDeathBehavior ModuleTag_Death04
;    DeathTypes          = NONE +BURNED
;    DestructionDelay    = 0
;    FX                  = INITIAL FX_DieByFireUSA
;    OCL                 = INITIAL OCL_FlamingInfantry
;  End
;  Behavior = SlowDeathBehavior ModuleTag_Death05
;    DeathTypes          = NONE +POISONED
;    DestructionDelay    = 0
;    FX                  = INITIAL FX_DieByToxinUSA
;    OCL                 = INITIAL OCL_ToxicInfantry
;  End
;  
;  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
;    DeathTypes          = NONE +POISONED_BETA
;    DestructionDelay    = 0
;    FX                  = INITIAL FX_DieByToxinUSA
;    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
;  End
;
;  Behavior = SlowDeathBehavior ModuleTag_Death07
;    DeathTypes          = NONE +POISONED_GAMMA
;    DestructionDelay    = 0
;    FX                  = INITIAL FX_DieByToxinUSA
;    OCL                 = INITIAL OCL_ToxicInfantryGamma
;  End
; --- end Death modules ---

  Behavior = SquishCollide ModuleTag_12
    ;nothing
  End
  Behavior                = ArmorUpgrade ModuleTag_Armor01
    TriggeredBy           = Upgrade_AmericaChemicalSuits
  End
; - Removed to *hopefully* improve USA04 Framerate.
;  Behavior = PoisonedBehavior ModuleTag_17
;    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
;    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
;  End
; 
;  Behavior = SpecialAbility ModuleTag_18
;    SpecialPowerTemplate      = SpecialAbilityRangerCaptureBuilding
;    UpdateModuleStartsAttack  = Yes
;    StartsPaused              = Yes ; Unpaused by upgrade module
;    InitiateSound         = RangerVoiceCapture
;  End
;  Behavior = SpecialAbilityUpdate ModuleTag_19
;    SpecialPowerTemplate  = SpecialAbilityRangerCaptureBuilding
;    StartAbilityRange  = 5.0
;    UnpackTime            = 3000  ; (changing this will scale anim speed)
;    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
;    PackTime              = 2000  ; (changing this will scale anim speed)
;    DoCaptureFX           = Yes
;    AwardXPForTriggering  = 15
;    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
;  End
;
;  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_20
;    SpecialPowerTemplate = SpecialAbilityRangerCaptureBuilding
;    TriggeredBy = Upgrade_InfantryCaptureBuilding
;  End

  Behavior = LockWeaponCreate ModuleTag_21
    SlotToLock = PRIMARY ; Prevents indeterminate state plus two unpickable weapons equaling no attack.
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 13.0

  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End

;------------------------------------------------------------------------------
Object CINE_U04_AmericaParachute

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_FAL
      AnimationMode = LOOP
    End
    ConditionState = PARACHUTING
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_OPN
      AnimationMode = ONCE
    End
    ConditionState = RUBBLE
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
    ; this is a weird state to resolve an ambiguity: sometimes
    ; we can have a "rubble" parachute momentarily, that doesn't
    ; know that it has finished parachuting yet...
    ConditionState = RUBBLE PARACHUTING
      Model = PMparacht_SKNc
      Animation = PMparacht_SKL.PMparacht_DRP
      AnimationMode = ONCE
    End
  End 

  ; ***DESIGN parameters ***
  Side                = America
  EditorSorting       = SYSTEM
  TransportSlotCount  = 0                 
  VisionRange         = 300.0 
  ShroudClearingRange = 300
  IsTrainable         = No  ;Can gain experience
  KindOf              = PRELOAD PARACHUTE UNATTACKABLE

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  Behavior = AIUpdateInterface ModuleTag_02
    ; nothing
  End
  Locomotor = SET_NORMAL CINE_U04_ParachuteLocomotor
  Locomotor = SET_FREEFALL FreeFallLocomotor

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100000.0
    InitialHealth   = 100000.0
  End

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  Behavior = ParachuteContain ModuleTag_05
    PitchRateMax = 60           ; deg/sec
    RollRateMax = 60            ; deg/sec
    LowAltitudeDamping  = 0.2   ; how much to damp swaying when we get "close" to the ground
    ParachuteOpenDist   = 100.0  ; how far we have to fall 'till we open our 'chute
    AllowInsideKindOf   = INFANTRY PARACHUTABLE
    ParachuteOpenSound  = ParachuteOpen
  End

  Behavior = SlowDeathBehavior ModuleTag_06
    SinkDelay = 1000
    SinkRate = 1     ; in Dist/Sec
    DestructionDelay = 4000
  End

  RadarPriority = NOT_ON_RADAR
  Geometry = CYLINDER
  GeometryMajorRadius = 15.0
  GeometryHeight = 10.0    
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME

End

;------------------------------------------------------------------------------



;------------------------------------------------------------------------------
;*************************** Cinematic-only unit ******************************
Object CINE_AmericaJetStealthFighter

  ; *** ART Parameters ***
  SelectPortrait         = SAStealth_L
  ButtonImage            = SAStealth
  
  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AVStealth
      HideSubObject                   = BurnerFX03 BurnerFX04
      WeaponLaunchBone  = PRIMARY WeaponA
    End
    
    ConditionState        = JETEXHAUST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = RUBBLE
      Model               = AVStealth_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVStealth_D1
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
    
    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:StealthFighter
  EditorSorting         = VEHICLE
  Side                  = America
  TransportSlotCount    = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange           = 300.0 
  ShroudClearingRange   = 300.0
  Prerequisites
    Object = AmericaAirfield
    Science = SCIENCE_StealthFighter
  End
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CINE_StealthJetMissileWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = None
  End

  BuildCost           = 1600
  BuildTime           = 25.0            ;in seconds  
  ExperienceValue     = 100 100 200 300 ;Experience point value at each level
  ExperienceRequired  = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetStealthFighterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect     = StealthFighterVoiceSelect
  VoiceMove       = StealthFighterVoiceMove
  VoiceAttack     = StealthFighterVoiceAttack
  VoiceAttackAir  = StealthFighterVoiceAttackAir
  VoiceGuard      = StealthFighterVoiceAirPatrol
  SoundAmbient    = StealthFighterAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
  UnitSpecificSounds
    VoiceCreate   = StealthFighterVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceLowFuel  = AuroraBomberVoiceLowFuel
    VoiceGarrison = StealthFighterVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = LOCAL_UNIT_ONLY
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 160.0
    InitialHealth   = 160.0
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_03
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_StealthDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_StealthFighterDeathInitial
    ;OCLInitialDeath                = None
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    ;OCLSecondary                   = None
    FXHitGround                     = FX_JetDeathHitGround
    ;OCLHitGround                   = None
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_StealthDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_04
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
 
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause           = 500
    MinHeight              = 5
    ReturnToBaseIdleTime   = 10000         ; if idle for this long, return to base, even if not out of ammo
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = StealthUpdate ModuleTag_09
    StealthDelay                          = 1 ; msec
    StealthForbiddenConditions            = FIRING_PRIMARY
    ; not currently used... but maybe someday? (srj)
    ;RevealDistanceFromTarget             = 0.0f
    FriendlyOpacityMin                    = 50.0%
    FriendlyOpacityMax                    = 100.0%
    InnateStealth                         = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Locomotor = SET_NORMAL CINE_StealthJetLocomotor
  Locomotor = SET_TAXIING CINE_BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                 = TransitionDamageFX ModuleTag_22
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End


  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 7.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
;*************************** Cinematic-only unit ******************************
Object CINE_AmericaJetStealthFighterUSA08

  ; *** ART Parameters ***
  SelectPortrait         = SAStealth_L
  ButtonImage            = SAStealth
  
  UpgradeCameo1 = Upgrade_AmericaLaserMissiles
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AVStealth
      HideSubObject                   = BurnerFX03 BurnerFX04
      WeaponLaunchBone  = PRIMARY WeaponA
    End
    
    ConditionState        = JETEXHAUST
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = JETEXHAUST JETAFTERBURNER
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = REALLYDAMAGED
      Model               = AVStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST
      Model               = AVStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End

    ConditionState        = REALLYDAMAGED JETEXHAUST JETAFTERBURNER
      Model               = AVStealth_D
      ; damage
      ParticleSysBone     = Smoke01 JetSmoke
      ParticleSysBone     = Engine01 JetEngineDamagedSmoke
      ; exhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
      ; afterburners
      ShowSubObject       = BurnerFX03 BurnerFX04
      ParticleSysBone     = Engine01 JetLenzflare
      ParticleSysBone     = Engine02 JetLenzflare
    End

    ConditionState        = RUBBLE
      Model               = AVStealth_D1
      HideSubObject       = None 
      ShowSubObject       = None
    End

    ConditionState        = RUBBLE JETEXHAUST JETAFTERBURNER
      Model               = AVStealth_D1
      ;HideSubObject is needed cause there're inherited from default condition state      
      HideSubObject       = None 
      ShowSubObject       = None
      ParticleSysBone     = Engine01 JetExhaust
      ParticleSysBone     = Engine02 JetExhaust
      ParticleSysBone     = Wingtip01 JetContrail
      ParticleSysBone     = Wingtip02 JetContrail
    End
    
    OkToChangeModelColor = Yes

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:StealthFighter
  EditorSorting         = VEHICLE
  Side                  = America
  TransportSlotCount    = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange           = 300.0 
  ShroudClearingRange   = 300.0
  Prerequisites
    Object = AmericaAirfield
    Science = SCIENCE_StealthFighter
  End
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY CINE_StealthJetMissileWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = AirplaneArmor
    DamageFX        = None
  End

  BuildCost           = 1600
  BuildTime           = 25.0            ;in seconds  
  ExperienceValue     = 100 100 200 300 ;Experience point value at each level
  ExperienceRequired  = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrusherLevel           = 1  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = AmericaJetStealthFighterCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect     = StealthFighterVoiceSelect
  VoiceMove       = StealthFighterVoiceMove
  VoiceAttack     = StealthFighterVoiceAttack
  VoiceAttackAir  = StealthFighterVoiceAttackAir
  VoiceGuard      = StealthFighterVoiceAirPatrol
  SoundAmbient    = StealthFighterAmbientLoop
  SoundAmbientRubble    = NoSound
  SoundStealthOn  = StealthOn
  SoundStealthOff = StealthOff
  UnitSpecificSounds
    VoiceCreate   = StealthFighterVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceLowFuel  = AuroraBomberVoiceLowFuel
    VoiceGarrison = StealthFighterVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = LOCAL_UNIT_ONLY
  KindOf = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT
  Body = ActiveBody ModuleTag_02
    MaxHealth       = 160.0
    InitialHealth   = 160.0
  End

  Behavior                          = JetSlowDeathBehavior ModuleTag_03
    FXOnGroundDeath                 = FX_JetOnGroundDeath
    OCLOnGroundDeath                = OCL_StealthDeathFinalBlowUp
    DestructionDelay                = 99999999; destruction will happen when we
    RollRate                        = 0.2
    RollRateDelta                   = 100% ;each frame, rollrate = rollrate * rollrateDelta
    PitchRate                       = 0.0
    FallHowFast                     = 110.0%  ;Bigger is faster (can be over 100%,it's a fraction of gravity)
    FXInitialDeath                  = FX_StealthFighterDeathInitial
    ;OCLInitialDeath                = None
    DelaySecondaryFromInitialDeath  = 500  ; in milliseconds
    FXSecondary                     = FX_JetDeathSecondary
    ;OCLSecondary                   = None
    FXHitGround                     = FX_JetDeathHitGround
    ;OCLHitGround                   = None
    DelayFinalBlowUpFromHitGround   = 200 ; in milliseconds
    FXFinalBlowUp                   = FX_JetDeathFinalBlowUp
    OCLFinalBlowUp                  = OCL_StealthDeathFinalBlowUp
;   DeathLoopSound                  = MICAL NEEDS TO MAKE ME
  End
  Behavior = EjectPilotDie ModuleTag_04
    GroundCreationList = OCL_EjectPilotOnGround
    AirCreationList = OCL_EjectPilotViaParachute
    ExemptStatus = HIJACKED
    VeterancyLevels =  ALL -REGULAR ;only vet+ gives pilot
  End
 
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 500.0
  End

  Behavior = JetAIUpdate ModuleTag_06
    OutOfAmmoDamagePerSecond = 10%  ; amount of damage to take per SEC (not per frame) when out of ammo
                                    ; note that it's expressed as a percent of max health, not an absolute
    TakeoffDistForMaxLift     = 0%   ; larger numbers give more lift sooner when taking off
    TakeoffPause           = 500
    MinHeight              = 5
    ReturnToBaseIdleTime   = 10000         ; if idle for this long, return to base, even if not out of ammo
  End

  Behavior = ExperienceScalarUpgrade ModuleTag_08
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

;  Behavior = StealthUpdate ModuleTag_09
;    StealthDelay                          = 1 ; msec
;    StealthForbiddenConditions            = FIRING_PRIMARY
;    ; not currently used... but maybe someday? (srj)
;    ;RevealDistanceFromTarget             = 0.0f
;    FriendlyOpacityMin                    = 50.0%
;    FriendlyOpacityMax                    = 100.0%
;    InnateStealth                         = Yes
;    OrderIdleEnemiesToAttackMeUponReveal  = Yes
;  End

  Locomotor = SET_NORMAL CINE_StealthJetLocomotor
  Locomotor = SET_TAXIING CINE_BasicJetTaxiLocomotor

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                 = TransitionDamageFX ModuleTag_22
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes Psys:SmokeSmallContinuous01
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_MIGDamageTransition
  End


  Geometry = Cylinder
  GeometryIsSmall = Yes
  GeometryMajorRadius = 7.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 7.0
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
Object CINE_CruiseMissileDetObject ;The explodes-next-frame object when demo trap is triggered.

  ; ***DESIGN parameters ***
  Side = GLA
  EditorSorting   = SYSTEM
  TransportSlotCount = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange = 0.0  ;Allow the stickybomb to show itself to user?

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  RadarPriority = NOT_ON_RADAR
  KindOf = PROJECTILE

  Behavior = PhysicsBehavior ModuleTag_01
    Mass = 5
  End

  ;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
  Behavior = LifetimeUpdate ModuleTag_02
    MinLifetime = 1   ; min lifetime in msec
    MaxLifetime = 1   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior ModuleTag_03
    DestructionDelay = 1
    FX                  = INITIAL CINE_WeaponFX_CruiseMissile
    Weapon              = FINAL   DummyWeapon
  End
End

;------------------------------------------------------------------------------
Object CINE_MiniNukeExplosion ;The explodes-next-frame object when demo trap is triggered.

  ; ***DESIGN parameters ***
  Side = GLA
  EditorSorting   = SYSTEM
  TransportSlotCount = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange = 0.0  ;Allow the stickybomb to show itself to user?

  ; *** AUDIO Parameters ***

  ; *** ENGINEERING Parameters ***
  RadarPriority = NOT_ON_RADAR
  KindOf = PROJECTILE

  Behavior = PhysicsBehavior ModuleTag_01
    Mass = 5
  End

  ;This determines how long the bomb lives before it explodes (via SlowDeathBehavior)
  Behavior = LifetimeUpdate ModuleTag_02
    MinLifetime = 1   ; min lifetime in msec
    MaxLifetime = 1   ; max lifetime in msec
  End

  Behavior = SlowDeathBehavior ModuleTag_03
    DestructionDelay = 1
    FX                  = INITIAL FX_ChinaPowerPlantDeath
    Weapon              = FINAL   DummyWeapon
  End
  
End
;------------------------------------------------------------------------------



;------------------------------------------------------------------------------
;*************************** Cinematic-only unit ******************************
;
; ??? This unit is used in a mission for "color".
; This unit is never human-controllable!
;
Object CINE_AmericaInfantryOfficer
    ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;NORMAL STANDING
    DefaultConditionState
      Model = AIOFCR_SKN
      IdleAnimation = AIOFCR_SKL.AIOFCR_STA 0 21
      ;Regular spice animations
      IdleAnimation = AIOFCR_SKL.AIOFCR_IDA
      IdleAnimation = AIOFCR_SKL.AIOFCR_IDB
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_STAND
    End

    ConditionState    = MOVING
      Animation       = AIOFCR_SKL.AIOFCR_RNA
      AnimationMode   = LOOP
      ParticleSysBone     = None InfantryDustTrails
    End

    ; NORMAL ATTACK
    ;--------------------------------------------------------
    ; Drawing gun
    ConditionState  = PREATTACK_A
      Animation     = AIOFCR_SKL.AIOFCR_ATAST
      AnimationMode = ONCE
    End
    AliasConditionState = PREATTACK_A MOVING
    AliasConditionState = PREATTACK_A FIRING_A
    AliasConditionState = PREATTACK_A BETWEEN_FIRING_SHOTS_A

    ; Firing gun
    ConditionState  = FIRING_A
      Animation     = AIOFCR_SKL.AIOFCR_ATALP
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_A
    End
    ConditionState  = BETWEEN_FIRING_SHOTS_A
      Animation     = AIOFCR_SKL.AIOFCR_ATALP
      AnimationMode = LOOP
      TransitionKey = TRANS_FIRING_A
    End
    AliasConditionState = RELOADING_A
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A

    ; This transition allows him to put his gun away when he's finished attacking.
    TransitionState = TRANS_FIRING_A TRANS_STAND
      Animation     = AIOFCR_SKL.AIOFCR_ATAED
      AnimationMode = ONCE
    End
    ;--------------------------------------------------------

    ConditionState  = DYING
      Animation     = AIOFCR_SKL.AIOFCR_DTA
      Animation     = AIOFCR_SKL.AIOFCR_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIOFCR_SKL.AIOFCR_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIOFCR_SKL.AIOFCR_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIOFCR_SKL.AIOFCR_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState  = SPECIAL_CHEERING
      Animation     = AIOFCR_SKL.AIOFCR_CHA
      AnimationMode = LOOP
    End

    ;PARACHUTING ANIMATIONS

    ;@TODO - MISSING ANIMATION FILE
    ;ConditionState   = FREEFALL
    ;  Animation      = AIOFCR_SKL.AIOFCR_PFL
    ;  AnimationMode  = LOOP
    ;  TransitionKey  = TRANS_Falling
    ;End
    ;AliasConditionState = FREEFALL REALLYDAMAGED
    ;AliasConditionState = FREEFALL DYING
    ConditionState  = PARACHUTING
      Animation     = AIOFCR_SKL.AIOFCR_PHG
      AnimationMode = LOOP
      Flags         = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute

    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation     = AIOFCR_SKL.AIOFCR_POP
      AnimationMode = ONCE
      Flags         = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation     = AIOFCR_SKL.AIOFCR_PTD
      AnimationMode = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Officer
  Side = America
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None 
    Weapon = PRIMARY AmericaOfficerMachineGun
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 150
  ShroudClearingRange = 150

  BuildCost     = 400
  BuildTime     = 10.0          ;in seconds      

  ; *** AUDIO Parameters ***
  VoiceSelect = RangerVoiceSelect
  VoiceGroupSelect = BattleCrySound
  VoiceMove = RangerVoiceMove
  VoiceAttack = RangerVoiceAttack

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS INFANTRY SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Behavior = AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL CINE_BasicHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
 
  Behavior = SquishCollide ModuleTag_07
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RangerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_10
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End




;------------------------------------------------------------------------------
;--- Being used to spawn a Cinematic Pilot for the USA02 intro.
Object CINE_AmericaVehicleComanche02

  ; *** ART Parameters ***
  SelectPortrait         = SACCommanche_L
  ButtonImage            = SACCommanche
  
  UpgradeCameo1 = Upgrade_ComancheRocketPods
  UpgradeCameo2 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01

    DefaultConditionState
      Model                           = AVComanche
      HideSubObject                   = MissileUpgrade
      Animation                       = AVComanche.AVComanche
      AnimationMode                   = LOOP
      WeaponMuzzleFlash               = PRIMARY TurretFX
      WeaponFireFXBone                = PRIMARY Muzzle
      WeaponFireFXBone                = SECONDARY Muzzle
      WeaponLaunchBone  = SECONDARY Muzzle
    End

    ConditionState = REALLYDAMAGED
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComanche.AVComanche
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = WEAPONSET_PLAYER_UPGRADE REALLYDAMAGED
      Model                           = AVComanche_d
      ShowSubObject                   = MissileUpgrade
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
      WeaponFireFXBone                = TERTIARY WeaponB
      WeaponLaunchBone  = TERTIARY WeaponB
    End

    ConditionState = RUBBLE
      Model                           = AVComanche_d
      Animation                       = AVComanche_d.AVComanche_d
      AnimationMode                   = LOOP
    End

    ConditionState = RUBBLE SPECIAL_DAMAGED
      Model                           = AVComanche_d
      HideSubObject                   = AVComanche_Prop
    End

    OkToChangeModelColor = Yes
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Comanche
  EditorSorting       = VEHICLE
  Side                = America
  TransportSlotCount  = 0                 ;how many "slots" we take in a transport (0 == not transportable)
  VisionRange         = 400.0 
  ShroudClearingRange = 600
  Prerequisites
    Object            = AmericaAirfield
  End

  WeaponSet
    Conditions          = None 
    ; -----
    Weapon              = PRIMARY     Comanche20mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   ComancheAntiTankMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = TERTIARY    NONE
  End
  WeaponSet
    Conditions          = PLAYER_UPGRADE 
    ; -----
    Weapon              = PRIMARY     Comanche20mmCannonWeapon
    PreferredAgainst    = PRIMARY     INFANTRY
    AutoChooseSources   = PRIMARY     FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = SECONDARY   ComancheAntiTankMissileWeapon
    PreferredAgainst    = SECONDARY   VEHICLE STRUCTURE
    AutoChooseSources   = SECONDARY   FROM_PLAYER FROM_SCRIPT FROM_AI
    ; -----
    Weapon              = TERTIARY    ComancheRocketPodWeapon
    AutoChooseSources   = TERTIARY    NONE
  End
  ArmorSet
    Conditions      = None
    Armor           = ComancheArmor
    DamageFX        = None
  End
  BuildCost           = 1500
  BuildTime           = 20              ; in seconds  
  ExperienceValue     = 50 50 100 200   ; Experience point value at each level
  ExperienceRequired  = 0 100 200 400   ; Experience points needed to gain each level
  IsTrainable         = Yes             ; Can gain experience
  CommandSet          = AmericaVehicleComancheCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect     = ComancheVoiceSelect
  VoiceMove       = ComancheVoiceMove
  VoiceGuard      = ComancheVoiceMove
  VoiceAttack     = ComancheVoiceAttack
  SoundAmbient    = ComancheAmbientLoop
  SoundAmbientRubble    = NoSound
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate   = ComancheVoiceCreate
    SoundEject    = PilotSoundEject
    VoiceEject    = PilotVoiceEject
    Afterburner   = RaptorAfterburner
    VoiceGarrison = ComancheVoiceMove
    TurretMoveStart = NoSound
    TurretMoveLoop  = NoSound
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority   = UNIT
  KindOf          = PRELOAD CAN_CAST_REFLECTIONS CAN_ATTACK SELECTABLE VEHICLE SCORE AIRCRAFT PRODUCED_AT_HELIPAD

  Behavior = WeaponSetUpgrade ModuleTag_02
    TriggeredBy = Upgrade_ComancheRocketPods
  End
  Behavior = ExperienceScalarUpgrade ModuleTag_03
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 220.0
    InitialHealth   = 220.0
  End

  Behavior = FXListDie ModuleTag_05
    DeathFX = FX_ComancheStartDeath
  End

  Behavior = JetAIUpdate ModuleTag_06
    MinHeight                     = 5
    NeedsRunway                   = No
    KeepsParkingSpaceWhenAirborne = No
    AutoAcquireEnemiesWhenIdle    = Yes
    ; note that comanches do not return to base when idle
    
    ; this is a bit of a trick... normally, units cannot move-and-fire at
    ; the same time. we need the comanche to be able to. so we give it
    ; a "turret" (invisible) and put the two main weapons on it, but with
    ; no turn rate. voila!
    Turret
      TurretTurnRate = 0      ; this "turret" does not turn
      TurretPitchRate = 0     ; nor does it pitch
      ControlledWeaponSlots = PRIMARY SECONDARY
    End

  End
  Locomotor = SET_NORMAL  ComancheLocomotor
  Locomotor = SET_TAXIING BasicHelicopterTaxiLocomotor

  Behavior = PhysicsBehavior ModuleTag_07
    Mass = 50.0
  End
  Behavior = HelicopterSlowDeathBehavior ModuleTag_08
    DestructionDelay                = 99999999        ; the destruction delay
    SpiralOrbitTurnRate             = 140.0           ; in degrees per second, bigger # = tighter spiral
    SpiralOrbitForwardSpeed         = 350.0           ; bigger # = larger spiral
    SpiralOrbitForwardSpeedDamping  = .9999           ; smaller #'s = slow down faster
    MaxBraking                      = 190   ; max braking we can use during death spiral (lower num = wilder spiral)    
    SoundDeathLoop                  = ComancheDamagedLoop
    MinSelfSpin                     = 100                     ; in degrees per second
    MaxSelfSpin                     = 300                     ; in degrees per second
    SelfSpinUpdateDelay             = 100             ; in milliseconds
    SelfSpinUpdateAmount            = 10             ; in degrees   
    FallHowFast                     = 12.0%  ; fraction of gravity, lower = take longer to fall
    MinBladeFlyOffDelay             = 1500            ; in milliseconds
    MaxBladeFlyOffDelay             = 1500            ; in milliseconds
    AttachParticle                  = SootySmokeTrail
    AttachParticleBone              = Propeller02
    BladeObjectName                 = ComancheBlades
    BladeBoneName                   = Propeller01    
    ; Most things that eject pilots do so immediately upon death,
    ; via use of EjectPilotDie, but Helicopters are a special case...
    ; they need to do so after their blades are ejected. 
    OCLEjectPilot                   = OCL_CINE_EjectPilotViaParachute
    FXBlade                         = FX_HelicopterBladeExplosion
    OCLBlade                        = OCL_HelicopterBladeExplosion
    FXHitGround                     = FX_HelicopterHitGround
    OCLHitGround                    = OCL_HelicopterHitGround
    FXFinalBlowUp                   = FX_GroundedHelicopterBlowUp
    OCLFinalBlowUp                  = OCL_GroundedHelicopterBlowUp
    DelayFromGroundToFinalDeath     = 1500
    FinalRubbleObject               = ComancheRubbleHull
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmokeSmallContinuousDown
    ReallyDamagedFXList1         = Loc: X:0 Y:0 Z:0 FXList:FX_ComancheDamageTransition
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 20.0
  GeometryMinorRadius = 3.0
  GeometryHeight = 25.0     
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME    
  ShadowSizeX = 89  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
;------------------------------------------------------------------------------
; This pilot is being used for USA02, he surrenders as soon as he hits the ground.
Object CINE_AmericaInfantryPilot

  ; *** ART Parameters ***
  SelectPortrait         = SAPilot_L
  ButtonImage            = SAPilot
  
  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE
  
  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AIRPlt_SKN
      IdleAnimation = AIRPlt_SKL.AIRPlt_SST 0 20 
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End
    ;AliasConditionState = REALLYDAMAGED

    ConditionState = FREEFALL
      Animation = AIRPlt_SKL.AIRPLT_PFL
      AnimationMode = ONCE
      TransitionKey = TRANS_Falling
    End
    ;AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIRPlt_SKL.AIRPlt_PHG
      AnimationMode = LOOP
      TransitionKey = TRANS_Chute
      WaitForStateToFinishIfPossible = TRANS_Falling
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    ConditionState = MOVING
      Animation = AIRPlt_SKL.AIRPlt_RNA 
      AnimationMode = LOOP
      TransitionKey = TRANS_Move
      ParticleSysBone     = None InfantryDustTrails
    End
    ;AliasConditionState = MOVING REALLYDAMAGED

    ConditionState = DYING
      Animation = AIRPlt_SKL.AIRPlt_DTA 
      Animation = AIRPlt_SKL.AIRPlt_DTB 
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    
    TransitionState = TRANS_Move TRANS_Stand
      Animation = AIRPlt_SKL.AIRPlt_SUR
      AnimationMode = ONCE
    End
    
    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIRPlt_SKL.AIRPlt_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIRPlt_SKL.AIRPlt_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIRPlt_SKL.AIRPlt_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SPECIAL_CHEERING
      Animation = AIRPLT_SKL.AIRPLT_CHA
      AnimationMode = LOOP
    End

    ;@TODO -- MISSING ANIMATION FILE
    ;TransitionState = TRANS_Falling TRANS_Chute
    ;  Animation = AIRPLT_SKL.AIRPLT_POP
    ;  AnimationMode = ONCE
    ;  Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    ;End
    
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = AIRPlt_SKL.AIRPlt_SUR
      AnimationMode = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Pilot
  Side = America
  EditorSorting = INFANTRY
  TransportSlotCount = 1               ;how many "slots" we take in a transport (0 == not transportable)
  ExperienceValue    = 10 10 10 10 ;Experience point value at each level
  ExperienceRequired =  0 1 2 3 ;Experience points needed to gain each level
  IsTrainable     = Yes  ;Can gain experience
  CommandSet = AmericaInfantryPilotCommandSet

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 150
  ShroudClearingRange = 300
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect = PilotVoiceSelect
  VoiceMove = PilotVoiceMove
  VoiceAttack = PilotVoiceMove
  VoiceGarrison = NoSound
  VoiceFear = PilotVoiceFear
  UnitSpecificSounds
    VoiceEnter = PilotVoiceEnter
    VoiceEnterHostile     = PilotVoiceEnter
    VoiceGetHealed      = PilotVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY NO_GARRISON SCORE

  Behavior = VeterancyGainCreate ModuleTag_02
    ; omit the "ScienceRequired" so that this upgrade always occurs.
    ; Pilots should never (repeat, never) be less than VETERAN status.
    StartingLevel = VETERAN
  End

  Behavior = VeterancyCrateCollide       ModuleTag_03
    RequiredKindOf = VEHICLE      ; we only give our bonus to VEHICLEs we collide with
    ForbiddenKindOf = DOZER       ; but not to TRANSPORTs or DOZERs!
    EffectRange = 0               ; 0=="affect only the thing you collide with"
    AddsOwnerVeterancy = Yes      ; we add our own veterancy to the target (rather than just +1 level)
    IsPilot = Yes                 ; set the pilot flag because it's different than the veterancy crate and has extra checking
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_05
    AutoAcquireEnemiesWhenIdle = Yes
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_06 ; This update will have the unit go to a healing station if injured. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Behavior = PilotFindVehicleUpdate   ModuleTag_07 ; This update will have the unit go to a vehicle. jba 
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    MinHealth = 0.5 ;  don't enter a vehicl less than 50% healthy.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor
  Locomotor = SET_NORMAL_UPGRADED BasicHumanLocomotorPlus25

  Behavior = PhysicsBehavior ModuleTag_08
    Mass = 5.0
  End

  Behavior = LocomotorSetUpgrade ModuleTag_10
    TriggeredBy = Upgrade_Veterancy_HEROIC
  End

  Behavior = SquishCollide ModuleTag_11
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PilotDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End

  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
 
  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End


;------------------------------Cinematic Only-----------------------------
Object CINE_AircraftCarrier

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 
  
    ConditionState    = NONE
      Model           = PSAirCarrier_Dt
      Animation       = PSAirCarrier_Dt.PSAirCarrier_Dt
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    
    ; DEATH ****************************************
    ConditionState        =RUBBLE
      Model               = PSAirCarrier_Dt
      Animation           = PSAirCarrier_Dt.PSAirCarrier_Dt
      AnimationMode       = ONCE
      ParticleSysBone     = SPLASH0BONE airCarrierDeathSplash0
      ParticleSysBone     = SPLASH0BONE airCarrierShockWave0
      ParticleSysBone     = SPLASH1BONE airCarrierDeathSplash
      ParticleSysBone     = SPLASH1BONE airCarrierShockWave
      ParticleSysBone     = SPLASH3BONE airCarrierTowerSplash
      ParticleSysBone     = SPLASH3BONE airCarrierDeckSmoke
      ParticleSysBone     = OILSLICKBONE airCarrierDeckSmoke

      ParticleSysBone     = EXPLOSION1BONE airCarrierExplosion0
      ParticleSysBone     = EXPLOSION1BONE airCarrierLightFlash1
      ParticleSysBone     = EXPLOSION1BONE airCarrierShockWave1
      ParticleSysBone     = EXPLOSION1BONE airCarrierExplosionSparks
           
      ParticleSysBone     = EXPLOSION2BONE airCarrierExplosion1
      ParticleSysBone     = EXPLOSION2BONE airCarrierLightFlash2
      ParticleSysBone     = EXPLOSION2BONE airCarrierShockWave2
      ParticleSysBone     = EXPLOSION2BONE airCarrierDeckFireBig
              
      ParticleSysBone     = EXPLOSION4BONE airCarrierExplosion2
      ParticleSysBone     = EXPLOSION4BONE airCarrierLightFlash3
      ParticleSysBone     = EXPLOSION4BONE airCarrierShockWave3
      ParticleSysBone     = EXPLOSION4BONE airCarrierDeckFire

      ParticleSysBone     = EXPLOSION5BONE airCarrierFinalExplosion
      ParticleSysBone     = EXPLOSION5BONE airCarrierDeckFire
      ParticleSysBone     = EXPLOSION5BONE airCarrierSmoke
    
      ParticleSysBone     = SPLASH4BONE airCarrierDeathSplash1
      ParticleSysBone     = SPLASH5BONE airCarrierDeathSplash1
      ParticleSysBone     = SPLASH6BONE airCarrierDeathSplash2
      ParticleSysBone     = SPLASH7BONE airCarrierDeathSplash3
      
      ParticleSysBone     = MAST1BONE airCarrierDeckFireBig
      ParticleSysBone     = MAST2BONE airCarrierDeckFire

      ParticleSysBone     = SPLASH4BONE airCarrierDeathRipple
      ParticleSysBone     = SPLASH5BONE airCarrierDeathRipple
      ParticleSysBone     = SPLASH6BONE airCarrierDeathRipple
      ParticleSysBone     = SPLASH7BONE airCarrierDeathRipple

      ParticleSysBone     = SPLASH5BONE airCarrierFinalDeathSplash
     
      ParticleSysBone     = JET01BONE airCarrierDeckFireJet5
      ParticleSysBone     = JET01BONE airCarrierJetEngine01Smoke
      ParticleSysBone     = JET01BONE airCarrierJet01Explosion
 
      ParticleSysBone     = JET03BONE airCarrierDeckFireBig
      ParticleSysBone     = JET04BONE airCarrierDeckFireBig 
        
      ParticleSysBone     = JET05BONE airCarrierJetExplosion1
      ParticleSysBone     = JET05BONE airCarrierDeckFireJet5
     
      ParticleSysBone     = JET06BONE airCarrierDeckFireJet6
      ParticleSysBone     = JET06BONE airCarrierJetExplosion2
    
      ParticleSysBone     = JET07BONE airCarrierJetExplosion3
      ParticleSysBone     = JET07BONE airCarrierDeckFireJet7
      
      ParticleSysBone     = JET08BONE airCarrierDeckFire
      ParticleSysBone     = JET08BONE airCarrierJet8Splash
 
      ParticleSysBone     = OILSLICKBONE airCarrierOilSlick
      ParticleSysBone     = OILSLICKBONE airCarrierMidShipSplash
      ParticleSysBone     = SPARK1BONE airCarrierSmoke
      ParticleSysBone     = SPARK1BONE airCarrierDeckFire
      ParticleSysBone     = SPARK2BONE airCarrierSmoke
      ParticleSysBone     = SPARK2BONE airCarrierDeckFire
 
      ParticleSysBone     = BOWSPLASH0BONE1 airCarrierBowDeathSplash
 
      ParticleSysBone     = SMOKEBONE01 airCarrierSmoke
      ParticleSysBone     = SMOKEBONE02 airCarrierSmoke
      ParticleSysBone     = SMOKEBONE03 airCarrierSmoke
        
    End
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:CINE_Carrier
  EditorSorting   = Vehicle
  ArmorSet
    Conditions    = None
    Armor         = StructureArmor
    DamageFX      = StructureDamageFXNoShake
  End

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 1.0
    InitialHealth   = 1.0
  End

  ;Behavior = DestroyDie ModuleTag_03
  ;  ;nothing
  ;End
  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
    
  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_04
  End  

  Behavior = TransitionDamageFX ModuleTag_09
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Geometry              = BOX
  GeometryMajorRadius   = 10.0
  GeometryMinorRadius   = 5.0
  GeometryHeight        = 1.0
  GeometryIsSmall       = No
  Shadow = SHADOW_VOLUME
End

;------------------------------------------------------------------------------
Object CINE_AmericaParticleCannonUplink

  ; *** ART Parameters ***
  SelectPortrait         = SAUplink_L
  ButtonImage            = SAUplink

  Draw = W3DModelDraw ModuleTag_01
    ExtraPublicBone        = FX01
    ExtraPublicBone        = FX02
    ExtraPublicBone        = FX03
    ExtraPublicBone        = FX04
    ExtraPublicBone        = FX05
    OkToChangeModelColor = Yes
    
    
    ; day **************************************
    ConditionState       = NONE
      Model              = ABSDILink
      Animation          = ABSDILink.ABSDILink
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED
      Model              = ABSDILink_D
      Animation          = ABSDILink_D.ABSDILink_D
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABSDILink_E
      Animation          = ABSDILink_E.ABSDILink_E
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End


    ; night *************************************
    ConditionState       = NIGHT
      Model              = ABSDILink_N
      Animation          = ABSDILink_N.ABSDILink_N
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED NIGHT
      Model              = ABSDILink_DN
      Animation          = ABSDILink_DN.ABSDILink_DN
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT
      Model              = ABSDILink_EN
      Animation          = ABSDILink_EN.ABSDILink_EN
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    
    ; day snow **************************************
    ConditionState       = SNOW
      Model              = ABSDILink_S
      Animation          = ABSDILink_S.ABSDILink_S
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED SNOW
      Model              = ABSDILink_DS
      Animation          = ABSDILink_DS.ABSDILink_DS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = REALLYDAMAGED RUBBLE SNOW
      Model              = ABSDILink_ES
      Animation          = ABSDILink_ES.ABSDILink_ES
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End

    ; night snow *************************************
    ConditionState       = NIGHT SNOW
      Model              = ABSDILink_NS
      Animation          = ABSDILink_NS.ABSDILink_NS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = DAMAGED NIGHT SNOW
      Model              = ABSDILink_DNS
      Animation          = ABSDILink_DNS.ABSDILink_DNS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End
    ConditionState       = REALLYDAMAGED RUBBLE NIGHT SNOW
      Model              = ABSDILink_ENS
      Animation          = ABSDILink_ENS.ABSDILink_ENS
      AnimationMode      = LOOP
      Flags              = MAINTAIN_FRAME_ACROSS_STATES
    End

    ;**************************************************************************************************************************
    ;This block handles every possible case with construction process, selling process, awaiting construction, and sold states
    ;for this draw module
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSDILink
      Animation          = ABSDILink.ABSDILink
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABSDILink_D
      Animation          = ABSDILink_D.ABSDILink_D
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED
      Model              = ABSDILink_E
      Animation          = ABSDILink_E.ABSDILink_E
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT
      Model              = ABSDILink_N
      Animation          = ABSDILink_N.ABSDILink_N
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT DAMAGED
      Model              = ABSDILink_DN
      Animation          = ABSDILink_DN.ABSDILink_DN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT REALLYDAMAGED
      Model              = ABSDILink_EN
      Animation          = ABSDILink_EN.ABSDILink_EN
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW
      Model              = ABSDILink_S
      Animation          = ABSDILink_S.ABSDILink_S
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW DAMAGED
      Model              = ABSDILink_DS
      Animation          = ABSDILink_DS.ABSDILink_DS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED SNOW REALLYDAMAGED
      Model              = ABSDILink_ES
      Animation          = ABSDILink_ES.ABSDILink_ES
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW
      Model              = ABSDILink_NS
      Animation          = ABSDILink_NS.ABSDILink_NS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW DAMAGED
      Model              = ABSDILink_DNS
      Animation          = ABSDILink_DNS.ABSDILink_DNS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED NIGHT SNOW REALLYDAMAGED
      Model              = ABSDILink_ENS
      Animation          = ABSDILink_ENS.ABSDILink_ENS
      AnimationMode      = LOOP
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End

    ConditionState       = AWAITING_CONSTRUCTION 
      Model              = NONE
    End
    AliasConditionState  = AWAITING_CONSTRUCTION DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION SNOW REALLYDAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW DAMAGED
    AliasConditionState  = AWAITING_CONSTRUCTION NIGHT SNOW REALLYDAMAGED
    AliasConditionState  = SOLD 
    AliasConditionState  = SOLD DAMAGED
    AliasConditionState  = SOLD REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT
    AliasConditionState  = SOLD NIGHT DAMAGED
    AliasConditionState  = SOLD NIGHT REALLYDAMAGED
    AliasConditionState  = SOLD SNOW
    AliasConditionState  = SOLD SNOW DAMAGED
    AliasConditionState  = SOLD SNOW REALLYDAMAGED
    AliasConditionState  = SOLD NIGHT SNOW
    AliasConditionState  = SOLD NIGHT SNOW DAMAGED
    AliasConditionState  = SOLD NIGHT SNOW REALLYDAMAGED
    ;**************************************************************************************************************************



  End

  ;------------ the cannon section (hatch, dish animations) -----------
  Draw = W3DModelDraw ModuleTag_02
    ExtraPublicBone        = FXConnector
    ExtraPublicBone        = FXMain
    OkToChangeModelColor = Yes
    ; day **************************************
    ConditionState       = NONE
      Model              = ABSDILink_A1
      Animation          = ABSDILink_A1.ABSDILink_A1
      AnimationMode      = MANUAL
      Flags              = START_FRAME_FIRST
    End
    AliasConditionState  = NIGHT 
    AliasConditionState  = NIGHT SNOW
    AliasConditionState  = SNOW
    
    ConditionState       = DAMAGED
      Model              = ABSDILink_A1D
      Animation          = ABSDILink_A1D.ABSDILink_A1D
      AnimationMode      = MANUAL
      Flags              = START_FRAME_FIRST
    End
    AliasConditionState  = NIGHT DAMAGED
    AliasConditionState  = NIGHT SNOW DAMAGED
    AliasConditionState  = SNOW DAMAGED
    
    ConditionState       = REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Animation          = ABSDILink_A1E.ABSDILink_A1E
      AnimationMode      = MANUAL
      Flags              = START_FRAME_FIRST
    End
    AliasConditionState  = NIGHT REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW REALLYDAMAGED RUBBLE
    
    ConditionState       = AWAITING_CONSTRUCTION
      Model              = None
    End
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION
    AliasConditionState  = NIGHT SNOW AWAITING_CONSTRUCTION
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model              = ABSDILink_A1
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
    
    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
      Model              = ABSDILink_A1D
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED DAMAGED

    ConditionState       = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Flags              = ADJUST_HEIGHT_BY_CONSTRUCTION_PERCENT
    End
    AliasConditionState  = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED REALLYDAMAGED RUBBLE

    ;Preparing to fire!
    ConditionState       = UNPACKING
      Model              = ABSDILink_A1
      Animation          = ABSDILink_A1.ABSDILink_A1
      AnimationMode      = ONCE
      Flags              = MAINTAIN_FRAME_ACROSS_STATES2
    End
    AliasConditionState  = NIGHT UNPACKING
    AliasConditionState  = NIGHT SNOW UNPACKING
    AliasConditionState  = SNOW UNPACKING
    
    ConditionState       = UNPACKING DAMAGED
      Model              = ABSDILink_A1D
      Animation          = ABSDILink_A1D.ABSDILink_A1D
      AnimationMode      = ONCE
      Flags              = MAINTAIN_FRAME_ACROSS_STATES2
    End
    AliasConditionState  = NIGHT UNPACKING DAMAGED
    AliasConditionState  = NIGHT SNOW UNPACKING DAMAGED
    AliasConditionState  = SNOW UNPACKING DAMAGED
    
    ConditionState       = UNPACKING REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Animation          = ABSDILink_A1E.ABSDILink_A1E
      AnimationMode      = ONCE
      Flags              = MAINTAIN_FRAME_ACROSS_STATES2
    End
    AliasConditionState  = NIGHT UNPACKING REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW UNPACKING REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW UNPACKING REALLYDAMAGED RUBBLE

    ;Ready to fire -- or firing!
    ConditionState       = DEPLOYED
      Model              = ABSDILink_A1
      Animation          = ABSDILink_A1.ABSDILink_A1
      AnimationMode      = MANUAL
      Flags              = START_FRAME_LAST
    End
    AliasConditionState  = NIGHT DEPLOYED
    AliasConditionState  = NIGHT SNOW DEPLOYED
    AliasConditionState  = SNOW DEPLOYED
    
    ConditionState       = DEPLOYED DAMAGED
      Model              = ABSDILink_A1D
      Animation          = ABSDILink_A1D.ABSDILink_A1D
      AnimationMode      = MANUAL
      Flags              = START_FRAME_LAST
    End
    AliasConditionState  = NIGHT DEPLOYED DAMAGED
    AliasConditionState  = NIGHT SNOW DEPLOYED DAMAGED
    AliasConditionState  = SNOW DEPLOYED DAMAGED
    
    ConditionState       = DEPLOYED REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Animation          = ABSDILink_A1E.ABSDILink_A1E
      AnimationMode      = MANUAL
      Flags              = START_FRAME_LAST
    End
    AliasConditionState  = NIGHT DEPLOYED REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW DEPLOYED REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW DEPLOYED REALLYDAMAGED RUBBLE
   
    ;Packing up (recharging for new attack)
    ConditionState       = PACKING
      Model              = ABSDILink_A1
      Animation          = ABSDILink_A1.ABSDILink_A1
      AnimationMode      = ONCE_BACKWARDS
      Flags              = MAINTAIN_FRAME_ACROSS_STATES3
    End
    AliasConditionState  = NIGHT PACKING
    AliasConditionState  = NIGHT SNOW PACKING
    AliasConditionState  = SNOW PACKING
    
    ConditionState       = PACKING DAMAGED
      Model              = ABSDILink_A1D
      Animation          = ABSDILink_A1D.ABSDILink_A1D
      AnimationMode      = ONCE_BACKWARDS
      Flags              = MAINTAIN_FRAME_ACROSS_STATES3
    End
    AliasConditionState  = NIGHT PACKING DAMAGED
    AliasConditionState  = NIGHT SNOW PACKING DAMAGED
    AliasConditionState  = SNOW PACKING DAMAGED
    
    ConditionState       = PACKING REALLYDAMAGED RUBBLE
      Model              = ABSDILink_A1E
      Animation          = ABSDILink_A1E.ABSDILink_A1E
      AnimationMode      = ONCE_BACKWARDS
      Flags              = MAINTAIN_FRAME_ACROSS_STATES3
    End
    AliasConditionState  = NIGHT PACKING REALLYDAMAGED RUBBLE
    AliasConditionState  = NIGHT SNOW PACKING REALLYDAMAGED RUBBLE
    AliasConditionState  = SNOW PACKING REALLYDAMAGED RUBBLE

   
    ConditionState       = SOLD DEPLOYED
      Model              = NONE
    End     
    ConditionState       = SOLD SNOW DEPLOYED
       Model             = NONE
    End   
    ConditionState       = SOLD NIGHT DEPLOYED
       Model             = NONE
    End    
    ConditionState       = SOLD NIGHT SNOW DEPLOYED
       Model             = NONE
    End   
  End


  ; ------------ construction-zone fence -----------------
  Draw = W3DModelDraw ModuleTag_03
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A4
      Animation       = ABSDILink_A4.ABSDILink_A4
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A4N
      Animation       = ABSDILink_A4N.ABSDILink_A4N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A4S
      Animation       = ABSDILink_A4S.ABSDILink_A4S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    ConditionState    = SNOW NIGHT AWAITING_CONSTRUCTION PARTIALLY_CONSTRUCTED ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A4SN
      Animation       = ABSDILink_A4SN.ABSDILink_A4SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = SmokeS01 SmokeBuildingSmall
      ParticleSysBone = SparksS01 LiveWireSparks02
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model           = ABSDILink_A4
      Animation       = ABSDILink_A4.ABSDILink_A4
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model           = ABSDILink_A4N
      Animation       = ABSDILink_A4N.ABSDILink_A4N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model           = ABSDILink_A4S
      Animation       = ABSDILink_A4S.ABSDILink_A4S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model           = ABSDILink_A4SN
      Animation       = ABSDILink_A4SN.ABSDILink_A4SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSDILink_A4
      Animation       = ABSDILink_A4.ABSDILink_A4
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSDILink_A4N
      Animation       = ABSDILink_A4N.ABSDILink_A4N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSDILink_A4S
      Animation       = ABSDILink_A4S.ABSDILink_A4S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSDILink_A4SN
      Animation       = ABSDILink_A4SN.ABSDILink_A4SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ under-construction scaffolding -----------------
  Draw = W3DModelDraw ModuleTag_04
  AnimationsRequirePower = No
    MinLODRequired = MEDIUM
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = PARTIALLY_CONSTRUCTED
      Model           = ABSDILink_A6
      Animation       = ABSDILink_A6.ABSDILink_A6
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_DAY
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
    End
    ConditionState    = NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSDILink_A6N
      Animation       = ABSDILink_A6N.ABSDILink_A6N
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_NIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
    End
    ConditionState    = SNOW PARTIALLY_CONSTRUCTED
      Model           = ABSDILink_A6S
      Animation       = ABSDILink_A6S.ABSDILink_A6S
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOW
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
    End
    ConditionState    = SNOW NIGHT PARTIALLY_CONSTRUCTED
      Model           = ABSDILink_A6SN
      Animation       = ABSDILink_A6SN.ABSDILink_A6SN
      AnimationMode   = MANUAL
      Flags           = START_FRAME_LAST
      TransitionKey   = UP_SNOWNIGHT
      ParticleSysBone = Sparks01 BuildUpBlueSpark
      ParticleSysBone = Sparks02 BuildUpBlueSpark
      ParticleSysBone = Sparks03 BuildUpBlueSpark
      ParticleSysBone = Sparks04 BuildUpBlueSpark
      ParticleSysBone = Sparks05 BuildUpBlueSpark
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
     Model            = ABSDILink_A6
      Animation       = ABSDILink_A6.ABSDILink_A6
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_NIGHT
     Model            = ABSDILink_A6N
      Animation       = ABSDILink_A6N.ABSDILink_A6N
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
     Model            = ABSDILink_A6S
      Animation       = ABSDILink_A6S.ABSDILink_A6S
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
     Model            = ABSDILink_A6SN
      Animation       = ABSDILink_A6SN.ABSDILink_A6SN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model           = ABSDILink_A6
      Animation       = ABSDILink_A6.ABSDILink_A6
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model           = ABSDILink_A6N
      Animation       = ABSDILink_A6N.ABSDILink_A6N
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model           = ABSDILink_A6S
      Animation       = ABSDILink_A6S.ABSDILink_A6S
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model           = ABSDILink_A6SN
      Animation       = ABSDILink_A6SN.ABSDILink_A6SN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End

  ; ------------ being-constructed crane -----------------
  Draw = W3DModelDraw ModuleTag_05
  AnimationsRequirePower = No
    DefaultConditionState
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SNOW NIGHT
      Model           = None
      TransitionKey   = DOWN_DEFAULT
    End
    ConditionState    = SOLD
      Model           = NONE
    End

    ConditionState  = ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A5
      Animation       = ABSDILink_A5.ABSDILink_A5
      AnimationMode   = LOOP
      TransitionKey  = UP_DAY
    End

    ConditionState  = NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A5N
      Animation       = ABSDILink_A5N.ABSDILink_A5N
      AnimationMode   = LOOP
      TransitionKey  = UP_NIGHT
    End
    ConditionState  = SNOW ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A5S
      Animation       = ABSDILink_A5S.ABSDILink_A5S
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOW
    End
    ConditionState  = SNOW NIGHT ACTIVELY_BEING_CONSTRUCTED
      Model           = ABSDILink_A5SN
      Animation       = ABSDILink_A5SN.ABSDILink_A5SN
      AnimationMode   = LOOP
      TransitionKey  = UP_SNOWNIGHT
    End
    TransitionState   = DOWN_DEFAULT UP_DAY
      Model            = ABSDILink_AB
      Animation       = ABSDILink_AB.ABSDILink_AB
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End

    TransitionState   = DOWN_DEFAULT UP_NIGHT
      Model            = ABSDILink_ABN
      Animation       = ABSDILink_ABN.ABSDILink_ABN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOW
      Model            = ABSDILink_ABS
      Animation       = ABSDILink_ABS.ABSDILink_ABS
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = DOWN_DEFAULT UP_SNOWNIGHT
      Model            = ABSDILink_ABSN
      Animation       = ABSDILink_ABSN.ABSDILink_ABSN
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.0 1.0
      Flags           = START_FRAME_FIRST
    End
    TransitionState   = UP_DAY DOWN_DEFAULT
      Model            = ABSDILink_AB
      Animation       = ABSDILink_AB.ABSDILink_AB
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_NIGHT DOWN_DEFAULT
      Model            = ABSDILink_ABN
      Animation       = ABSDILink_ABN.ABSDILink_ABN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOW DOWN_DEFAULT
      Model            = ABSDILink_ABS
      Animation       = ABSDILink_ABS.ABSDILink_ABS
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
    TransitionState   = UP_SNOWNIGHT DOWN_DEFAULT
      Model            = ABSDILink_ABSN
      Animation       = ABSDILink_ABSN.ABSDILink_ABSN
      AnimationMode   = ONCE_BACKWARDS
      AnimationSpeedFactorRange = 2.0 2.0   ; play teardown animations more quickly
      Flags           = START_FRAME_LAST
    End
  End
 
  PlacementViewAngle = -45

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:ParticleCannon 
  Side = America
  EditorSorting    = STRUCTURE
  Prerequisites
    Object = AmericaStrategyCenter
  End
  BuildCost        = 5000
  BuildTime        = 60.0           ; in seconds
  EnergyProduction = -10
  VisionRange     = 200.0           ; Shroud clearing distance
  ShroudClearingRange = 200
  ShroudRevealToAllRange = 60  ; Reveals shroud to all players at a specific amount which can be different. 
                               ; Using same value? Then use KINDOF_REVEAL_TO_ALL instead!
  ArmorSet
    Conditions      = None
    Armor           = StructureArmorTough
    DamageFX        = StructureDamageFXNoShake
  End
  CommandSet        = AmericaParticleUplinkCannonCommandSet
  ExperienceValue     = 400 400 400 400  ; Experience point value at each level

  MaxSimultaneousOfType = DeterminedBySuperweaponRestriction ; Normally unlimited, but can be selected by players in multiplayer games
  MaxSimultaneousLinkKey = Superweapon  ; Count all superweapons **AND THE GLA SCUD STORM REBUILD HOLE** as one "type" for MaxSimultaneousOfType

  ; *** AUDIO Parameters ***
  VoiceSelect = ParticleCannonSelect
  SoundOnDamaged        = BuildingDamagedStateLight
  SoundOnReallyDamaged  = BuildingDestroy

  UnitSpecificSounds
    UnderConstruction     = UnderConstructionLoop
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority   = STRUCTURE
  KindOf          = PRELOAD STRUCTURE SELECTABLE IMMOBILE SCORE CAPTURABLE FS_TECHNOLOGY POWERED MP_COUNT_FOR_VICTORY FS_SUPERWEAPON
  Body            = StructureBody ModuleTag_06
    MaxHealth       = 4000.0
    InitialHealth   = 4000.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 4200
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 100
  End
  Behavior = BaseRegenerateUpdate ModuleTag_07
    ;No data
  End

  Behavior = SpecialPowerCreate ModuleTag_16
    ;nothing
  End
  Behavior = SpecialAbility ModuleTag_11
    SpecialPowerTemplate = SuperweaponParticleUplinkCannon
    UpdateModuleStartsAttack = Yes
  End
  Behavior = ParticleUplinkCannonUpdate ModuleTag_12
    SpecialPowerTemplate            = SuperweaponParticleUplinkCannon

    ;The values trigger the various pre-stages before being ready to actually fire.
    ;The total combined value of these determines the first sign of activity in the 
    ;cannon.
    BeginChargeTime                 = 5000 ;The outer nodes begin to charge.
    RaiseAntennaTime                = 4667 ;The hatch opens and raises antenna (matches animation speed)
    ReadyDelayTime                  = 2000 ;The time after antenna is raised prior to being ready to fire.

    ;***NOTE -- these values effect gameplay*****
    TotalFiringTime                 = 3500     ;The total ground contact time of the beam

    DamagePerSecond                 = 400       ;Amount of damage inflicted per second
    TotalDamagePulses               = 40        ;The total number of damage pulses -- less means more damage per pulse, but less accurate
    WidthGrowTime                   = 2000      ;The amount of time it takes for the beam to reach full diameter (same value used for shrinking)
    BeamTravelTime                  = 2500      ;How long it takes for the beam to hit the ground after leaving the firing dish.
    DamageType                      = PARTICLE_BEAM ;Type of damage inflicted.
    DamageRadiusScalar              = 3.4       ;Multiplies the radius (relative to beam diameter) so that things close to the beam can get hit too!
    RevealRange                     = 50.0      ;Grants gratuitous vision for the player launching the target as the beam cuts it's swath of death.
    ;********************************************

    ;Bone names for required elements
    OuterEffectBoneName             = FX          ;The base name for the outer node bones.
    OuterEffectNumBones             = 5           ;The number of outer nodes.
    ConnectorBoneName               = FXConnector ;The name of the bone where the connector lasers meet.
    FireBoneName                    = FXMain      ;The name of the bone where the main beam is fired from.

    ;These are particle systems tied to the outer nodes in varying intensities.
    OuterNodesLightFlareParticleSystem    = ParticleUplinkCannon_OuterNodeLightFlare
    OuterNodesMediumFlareParticleSystem   = ParticleUplinkCannon_OuterNodeMediumFlare
    OuterNodesIntenseFlareParticleSystem  = ParticleUplinkCannon_OuterNodeIntenseFlare

    ;The connectors system connects each of the outer nodes to the central node that receives
    ;the lasers from outside.
    ConnectorMediumLaserName        = ParticleUplinkCannon_MediumConnectorLaser
    ConnectorIntenseLaserName       = ParticleUplinkCannon_IntenseConnectorLaser

    ;Currently commented out -- These
    ;ConnectorMediumFlare            = ParticleUplinkCannon_InnerConnectorMediumFlare
    ;ConnectorIntenseFlare           = ParticleUplinkCannon_InnerConnectorIntenseFlare

    ;This is the name of the bone on the building where the beam is fired from
    LaserBaseLightFlareParticleSystemName = ParticleUplinkCannon_LaserBaseReadyToFire
    ParticleBeamLaserName           = ParticleUplinkCannon_OrbitalLaser
    GroundHitFX                     = FX_ParticleUplinkCannon_BeamHitsGround     ;TotalScorchMarks determines how many times this gets called.

    ;The flare fxlist that is played over and over during the beam firing process. Be
    ;mindful of the delay because that effects both art and sound.
    BeamLaunchFX                   = FX_ParticleUplinkCannon_BeamLaunchIteration
    DelayBetweenLaunchFX           = 1000

    ;Each scorch mark creates an object in the world, so while making more looks better
    ;it becomes a performance issue. The scalar will calculate the size of the scorch
    ;mark to make based on the current size of the beam (which changes dynamically). The
    ;number also matches the number of times the "GroundHitFX" is called.
    TotalScorchMarks               = 20
    ScorchMarkScalar               = 2.4

    ;***NOTE -- these values effect gameplay***
    ;The swath of death is the path the laser tracers centered on the targeted position.
    ;If the amplitude is zero, the line will go straight, with a higher value, it'll do
    ;a sine wave iteration, but always goes through the target point.
    SwathOfDeathDistance           = 200.0
    SwathOfDeathAmplitude          = 50.0


    ManualDrivingSpeed             = 20
    ManualFastDrivingSpeed         = 65  ;was 40
    DoubleClickToFastDriveDelay    = 500

    ;***SOUNDS!****
    PoweringUpSoundLoop            = ParticleUplinkCannon_PowerupSoundLoop
    UnpackToIdleSoundLoop          = ParticleUplinkCannon_UnpackToIdleSoundLoop
    FiringToPackSoundLoop          = ParticleUplinkCannon_FiringToPackSoundLoop
    GroundAnnihilationSoundLoop    = ParticleUplinkCannon_GroundAnnihilationSoundLoop

    ;The trail left behind creates an object that inflicts extra damage for a short period of time.
    DamagePulseRemnantObjectName   = ParticleUplinkCannonTrailRemnant
  End
  
  Behavior = FlammableUpdate ModuleTag_14
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 5       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = ProductionUpdate ModuleTag_15
    ; This is needed in order to get a public timer to work!
  End

  Behavior = TransitionDamageFX ModuleTag_17
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Behavior = SlowDeathBehavior ModuleTag_18
    ; don't run this death if we are under construction...
    ExemptStatus   = UNDER_CONSTRUCTION
    DestructionDelay = 2000
    FX             = INITIAL FX_ParticleUplinkDeathInitial
    OCL            = INITIAL OCL_SDILinkLasers
    FX             = FINAL   FX_StructureMediumDeath
    OCL            = FINAL   OCL_ParticleUplinkDeathFinal
  End

  Behavior = InstantDeathBehavior ModuleTag_19
    ; if we are under construction, use this death instead
    RequiredStatus = UNDER_CONSTRUCTION
    OCL            = OCL_ABPowerPlantExplode
    FX             = FX_StructureMediumDeath
  End

  Geometry            = BOX
  GeometryMajorRadius = 64.0
  GeometryMinorRadius = 38.0
  GeometryHeight      = 38.0
  GeometryIsSmall     = No
  Shadow          = SHADOW_VOLUME
  BuildCompletion = PLACED_BY_PLAYER

End

;------------------------------Cinematic Only-----------------------------
Object CINE_Chinook

  ; *** ART Parameters ***
  Draw = W3DModelDraw ModuleTag_01
  OkToChangeModelColor = Yes
  ParticlesAttachedToAnimatedBones = Yes 
  
    ConditionState    = NONE
      Model           = CINE_Chinook
      Animation       = CINE_Chinook.CINE_Chinook
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End

    ConditionState    = DOOR_1_OPENING
      Model           = CINE_Chinook
      Animation       = CINE_Chinook.CINE_Chinook
      AnimationMode   = ONCE
      AnimationSpeedFactorRange = 1.01 1.01
    End
    
    ConditionState    = DAMAGED
      Model           = CBBaikRock_A1
      Animation       = CBBaikRock_A1.CBBaikRock_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    
    ConditionState    = REALLYDAMAGED
      Model           = CBBaikRock_A1
      Animation       = CBBaikRock_A1.CBBaikRock_A1
      AnimationMode   = ONCE_BACKWARDS
      Flags           = START_FRAME_FIRST
    End
    
    ConditionState = RUBBLE
      Model = CBBaikRock_CR
    End
    
  End

  ; ***DESIGN parameters ***
  DisplayName     = OBJECT:Structure
  EditorSorting   = STRUCTURE
  ArmorSet
    Conditions    = None
    Armor         = StructureArmor
    DamageFX      = StructureDamageFXNoShake
  End
  CommandSet      = BaikonurLaunchTowerCommandSet

  ; *** ENGINEERING Parameters ***  
  KindOf                = STRUCTURE SELECTABLE IMMOBILE AIRCRAFT_PATH_AROUND CAPTURABLE
  Body                  = ActiveBody ModuleTag_02
    MaxHealth       = 2000.0
    InitialHealth   = 2000.0
  End

  ;Behavior = DestroyDie ModuleTag_03
  ;  ;nothing
  ;End
  ; Note that structures with "RUBBLE" states should not use DestroyDie; such buildings are 
  ; never truly destroyed, even when reduced to zero health. Also note that garrisonable
  ; buildings automatically stick around because GarrisonContain has it's own DieModule
  Behavior = KeepObjectDie ModuleTag_IWantRubble
  End
    
  ClientUpdate         = AnimatedParticleSysBoneClientUpdate ModuleTag_04
  End

  Behavior = FlammableUpdate ModuleTag_05
    FlameDamageLimit = 20         ;Catch fire if I take this much fire damage...
    FlameDamageExpiration = 2000  ;in a span of this long
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 25       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior               = BaikonurLaunchPower ModuleTag_06
    SpecialPowerTemplate = SuperweaponLaunchBaikonurRocket
    DetonationObject     = BaikonurRocketDetonation
  End

  Behavior             = CreateObjectDie ModuleTag_07
    CreationList  = OCL_PoisonFieldLarge
  End  

  Behavior             = FXListDie ModuleTag_08
    DeathFX       = FX_NukeGLA
  End

  Behavior = TransitionDamageFX ModuleTag_09
    ;-------------DESIGNED FOR MEDIUM SIZED FACTION BUILDING TRANSITIONS-------------------
    DamagedParticleSystem1       = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ;---------------------------------------------------------------------------------------
    ReallyDamagedParticleSystem1 = Bone:None RandomBone:No PSys:StructureTransitionMediumSmoke
    ReallyDamagedParticleSystem2 = Bone:None RandomBone:No PSys:StructureTransitionMediumExplosion
    ReallyDamagedParticleSystem3 = Bone:None RandomBone:No PSys:StructureTransitionMediumShockwave
  End

  Geometry              = BOX
  GeometryMajorRadius   = 1.0
  GeometryMinorRadius   = 1.0
  GeometryHeight        = 1.0
  GeometryIsSmall       = No
  Shadow = SHADOW_VOLUME
End
