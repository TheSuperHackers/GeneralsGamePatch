;------------------------------------------------------------------------------
Object GC_Slth_GLAInfantryWorker

  ; *** ART Parameters ***
  SelectPortrait         = SUWorker_L
  ButtonImage            = SUWorker

  UpgradeCameo1 = Upgrade_GLAWorkerShoes
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model         = UIWRKR_SKN
      IdleAnimation = UIWRKR_SKL.UIWRKR_STA 0 9
      IdleAnimation = UIWRKR_SKL.UIWRKR_IDA
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End

    ConditionState  = MOVING
      Animation     = UIWRKR_SKL.UIWRKR_RNA 16
      AnimationMode = LOOP
      Flags         = RANDOMSTART
      TransitionKey = TRANS_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    ; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
    ; since we flip the bit once we get pretty close to the target. but it looks
    ; funky to do the construction animation while moving.
    ; so just use the normal move animation in that case.
    AliasConditionState = ACTIVELY_CONSTRUCTING MOVING

    ConditionState = ATTACKING
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_MS
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_MetalDetector_Standing
    End

    ConditionState = MOVING ATTACKING
      ShowSubObject = MINED_SKIN
      Animation = UIWRKR_SKL.UIWRKR_MSW 50
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_MetalDetector_Moving
      ParticleSysBone = None InfantryDustTrails
    End
    AliasConditionState = MOVING ATTACKING CARRYING

    TransitionState = TRANS_Stand TRANS_MetalDetector_Standing    ;STANDING -> ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB1;take out standing
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Stand    ;ATTACKING -> STANDING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB2;put away standing
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Carry TRANS_MetalDetector_Standing    ;CARRYING -> ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB1;take out standing
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Carry    ;ATTACKING -> CARRYING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB2;put away standing
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Carry TRANS_MetalDetector_Moving      ;CARRYING -> MOVING ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End

    TransitionState = TRANS_MetalDetector_Moving TRANS_Stand      ;MOVING ATTACKING -> STANDING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB2;put away moving
      AnimationMode = ONCE
    End
    TransitionState = TRANS_Stand TRANS_MetalDetector_Moving      ;STANDING -> MOVING ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End

    TransitionState = TRANS_Moving TRANS_MetalDetector_Standing   ;MOVING -> ATTACKING [STANDING]
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRB1;take out standing
      AnimationMode = ONCE
    End
    TransitionState = TRANS_MetalDetector_Standing TRANS_Moving   ;ATTACKING [STANDING] -> MOVING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End

    TransitionState = TRANS_Moving TRANS_MetalDetector_Moving     ;MOVING -> MOVING ATTACKING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC1;take out moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End
    TransitionState = TRANS_MetalDetector_Moving TRANS_Moving     ;MOVING ATTACKING -> MOVING
      ShowSubObject = MINED_SKIN
      Animation     = UIWRKR_SKL.UIWRKR_TRC2;put away moving [NEW NON-SKATING ANIMATION]
      AnimationMode = ONCE
      AnimationSpeedFactorRange = 2.0 2.0
    End


    ConditionState = MOVING CARRYING
      ShowSubObject = BOX
      Animation = UIWRKR_SKL.UIWRKR_CARY 12
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Carry
      ParticleSysBone = None InfantryDustTrails
    End
    ; it is legal to be ACTIVELY_CONSTRUCTING and MOVING at the same time,
    ; since we flip the bit once we get pretty close to the target. but it looks
    ; funky to do the construction animation while moving.
    ; so just use the normal move animation in that case.
    AliasConditionState = ACTIVELY_CONSTRUCTING MOVING CARRYING

    ConditionState = CARRYING
      ShowSubObject = BOX
      Animation = UIWRKR_SKL.UIWRKR_CARST 30
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Carry
    End

    ConditionState = DYING
      Animation = UIWRKR_SKL.UIWRKR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End
    AliasConditionState = DYING CARRYING

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIWRKR_SKL.UIWRKR_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIWRKR_SKL.UIWRKR_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIWRKR_SKL.UIWRKR_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState  = SPECIAL_CHEERING
      Animation     = UIWRKR_SKL.UIWRKR_CHA
      AnimationMode = ONCE
    End

    ConditionState  = ACTIVELY_CONSTRUCTING
      Animation     = UIWRKR_SKL.UIWRKR_BDA
      AnimationMode = LOOP
      TransitionKey = TRANS_Constructing
    End
    AliasConditionState = ACTIVELY_CONSTRUCTING CARRYING

    ; --------------------

    TransitionState = TRANS_Stand TRANS_Carry
      ShowSubObject = BOX
      Animation     = UIWRKR_SKL.UIWRKR_PIK
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Carry TRANS_Stand
      ShowSubObject = BOX
      Animation     = UIWRKR_SKL.UIWRKR_PIK
      AnimationMode = ONCE_BACKWARDS
      Flags         = START_FRAME_LAST
    End

    TransitionState = TRANS_Stand TRANS_Constructing
      Animation     = UIWRKR_SKL.UIWRKR_TRA1
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Constructing TRANS_Stand
      Animation     = UIWRKR_SKL.UIWRKR_TRA2
      AnimationMode = ONCE
    End
  End

  ; ***DESIGN parameters ***
  DisplayName = OBJECT:Worker
  Side = GLAStealthGeneral
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)


  WeaponSet
    Conditions = None
    Weapon = PRIMARY None
  End
  WeaponSet
    Conditions = MINE_CLEARING_DETAIL
    Weapon = PRIMARY WorkerMineDisarmingWeapon
  End


  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 100
  ShroudClearingRange = 200
 ;Prerequisites
 ;  Object = GLABarracks GLASupplyStash ;commented out, or else you can't build from Con Yard as Dozer.
 ;End
  BuildCost = 200
  BuildTime = 5.0          ;in seconds
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GC_Slth_GLAWorkerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = WorkerVoiceSelect
  VoiceMove = WorkerVoiceMove
  VoiceAttack = WorkerVoiceMove
  VoiceGuard = WorkerVoiceMove
  VoiceFear = WorkerVoiceFear
  VoiceTaskComplete = WorkerVoiceBuildComplete
  UnitSpecificSounds
    VoiceEnter        = WorkerVoiceMoveUpgraded
    VoiceEnterHostile = WorkerVoiceMoveUpgraded
    VoiceGarrison     = WorkerVoiceGarrison
    VoiceCreate       = WorkerVoiceCreate
    VoiceSupply       = WorkerVoiceSupply
    VoiceNoBuild      = WorkerVoiceBuildNot
    VoiceRepair       = WorkerVoiceRepair
    VoiceDisarm       = WorkerVoiceClearMine
    VoiceBuildResponse = WorkerVoiceBuild
    VoiceGetHealed    = WorkerVoiceMoveUpgraded
    VoiceMoveUpgraded = WorkerVoiceMoveUpgraded
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SALVAGER DOZER HARVESTER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = WorkerAIUpdate ModuleTag_03
    RepairHealthPercentPerSecond  = 2%    ; % of max health to repair each second
    BoredTime                     = 5000  ; in milliseconds
    BoredRange                    = 150   ; when bored, we look this far away to do something
    MaxBoxes                      = 1
    UpgradedSupplyBoost           = 25 ; gives this much more cash for every box collected
    SupplyCenterActionDelay       = 150 ;400 ; ms for whole thing (one transaction)
    SupplyWarehouseActionDelay    = 150 ;400 ;ms per box (many small transactions)
    SupplyWarehouseScanDistance   = 700 ;350 ; Max distance to look for a warehouse, or we go home.  (Direct dock command on warehouse overrides, and no max on Center Scan)
    SuppliesDepletedVoice = WorkerVoiceSuppliesDepleted
    ; the only "enemies" that workers can acquire are mines, to be disarmed...
    AutoAcquireEnemiesWhenIdle    = Yes
  End
  Locomotor = SET_NORMAL FastHumanLocomotor
  Locomotor = SET_NORMAL_UPGRADED WorkerShoesLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End
  Behavior = LocomotorSetUpgrade ModuleTag_07
    TriggeredBy = Upgrade_GLAWorkerShoes
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_WorkerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = StealthDetectorUpdate ModuleTag_12
    DetectionRate         = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange       = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
    ExtraRequiredKindOf   = MINE  ; we can only detect MINES, not other stealthed things
  End

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
  Behavior = StealthUpdate ModuleTag_14
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End


























Object GC_Slth_GLAInfantryStingerSoldier

  ; *** ART Parameters ***
  SelectPortrait         = SUStinger_L
  ButtonImage            = SUStinger

  UpgradeCameo1           = Upgrade_GLACamoNetting
  ;UpgradeCameo2           = NONE
  ;UpgradeCameo3           = NONE
  ;UpgradeCameo4           = NONE
  ;UpgradeCameo5           = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UISmsd_SKN
      IdleAnimation = UISmsd_SKL.UISmsd_STA 0 45
      IdleAnimation = UISmsd_SKL.UISmsd_IDA
      IdleAnimation = UISmsd_SKL.UISmsd_IDB
      IdleAnimation = UISmsd_SKL.UISmsd_IDC
      IdleAnimation = UISmsd_SKL.UISmsd_IDD
      AnimationMode = ONCE
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone = PRIMARY Exhaust
      WeaponLaunchBone = PRIMARY Muzzle
      WeaponFireFXBone = SECONDARY Exhaust
      WeaponLaunchBone = SECONDARY Muzzle

      WaitForStateToFinishIfPossible = TRANS_START_FIRING

    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = BETWEEN_FIRING_SHOTS_B
    AliasConditionState = RELOADING_A
    AliasConditionState = RELOADING_B

    ConditionState = MOVING
      Animation = UISmsd_SKL.UISmsd_WKB 25
      AnimationMode = LOOP
    End

    ConditionState = DYING
      Animation = UISmsd_SKL.UISmsd_DTA
      Animation = UISmsd_SKL.UISmsd_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UISmsd_SKL.UISmsd_ADTF1
      Animation = UISmsd_SKL.UISmsd_ADTG21
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UISmsd_SKL.UISmsd_ADTF2
      Animation = UISmsd_SKL.UISmsd_ADTG22
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UISmsd_SKL.UISmsd_ADTF3
      Animation = UISmsd_SKL.UISmsd_ADTG23
      AnimationMode = ONCE
      TransitionKey = None
      WaitForStateToFinishIfPossible = NONE ; We got a Key from Default state, but Death does not need to wait for firing to finish
    End

    ConditionState = FIRING_A
      Animation = UISmsd_SKL.UISmsd_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_START_FIRING
    End
    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING RELOADING_A

    ConditionState = FIRING_B
      Animation = UISmsd_SKL.UISmsd_ATB
      AnimationMode = ONCE
      TransitionKey = TRANS_START_FIRINGB
    End
    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = MOVING FIRING_B
    AliasConditionState = MOVING RELOADING_B


    ConditionState = SPECIAL_CHEERING
      Animation = UISMSD_SKL.UISMSD_CHA
      AnimationMode = LOOP
    End

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:StingerSoldier
  Side = GLAStealthGeneral
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions          = None
    Weapon              = PRIMARY   StingerMissileWeapon
    AutoChooseSources   = PRIMARY   FROM_PLAYER FROM_AI FROM_SCRIPT
    Weapon              = SECONDARY StingerMissileWeaponAir
    PreferredAgainst    = SECONDARY BALLISTIC_MISSILE AIRCRAFT
  End
  ArmorSet
    Conditions      = None
    Armor           = StingerSoldierArmor ;Extra protection due to being enclosed by the stinger site.
    DamageFX        = None
  End
  VisionRange = 400.0
  ShroudClearingRange = 400

  Prerequisites
    Object = GC_Slth_GLABarracks
  End
  BuildCost = 100
  BuildTime = 1.0          ;in seconds
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ; *** AUDIO Parameters ***
  VoiceSelect = StingerSoldierVoiceSelect
  VoiceMove = StingerSoldierVoiceMove
  VoiceAttack = StingerSoldierVoiceAttack

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER CLICK_THROUGH SPAWNS_ARE_THE_WEAPONS

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = StealthDetectorUpdate ModuleTag_16
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    DetectionRange = 200 ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed ATTACK_BUILDINGS Stealthed
    MoodAttackCheckRate        = 250
  End
  Locomotor = SET_NORMAL BasicHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End
  Behavior = SlavedUpdate ModuleTag_06
    ;nothing
  End
  Behavior = SquishCollide ModuleTag_08
    ;nothing
  End

  Behavior = StealthUpdate ModuleTag_10
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    MoveThresholdSpeed          = 3
    InnateStealth               = No ;Requires upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  Behavior = StealthUpgrade ModuleTag_11
    TriggeredBy = Upgrade_GLACamoNetting
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_StingerSoldierDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_StingerSoldierDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
  Behavior = StealthUpdate ModuleTag_15
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14
  ShadowSizeY = 14
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End
























;------------------------------------------------------------------------------
;Tunnel Fanatic ;Now called the RPG Trooper
Object GC_Slth_GLAInfantryTunnelDefender

  ; *** ART Parameters ***
  SelectPortrait         = SURPG_L
  ButtonImage            = SURPG

  UpgradeCameo1 = Upgrade_GLAAPRockets
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UITunF_SKN
      IdleAnimation = UITunF_SKL.UITunF_STA 0 20
      IdleAnimation = UITunF_SKL.UITunF_IDA
      IdleAnimation = UITunF_SKL.UITunF_IDB
      IdleAnimation = UITunF_SKL.UITunF_IDC
      AnimationMode = ONCE
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponLaunchBone = PRIMARY Muzzle
    End

    ConditionState = MOVING
      Animation = UITunF_SKL.UITunF_WKA 16
      Animation = UITunF_SKL.UITunF_WKB 30
      Animation = UITunF_SKL.UITunF_WKC 30
      Animation = UITunF_SKL.UITunF_RNA 15
      Animation = UITunF_SKL.UITunF_RNB 25
      AnimationMode = LOOP
      ParticleSysBone   = None InfantryDustTrails
    End

    ConditionState = DYING
      Animation = UITunF_SKL.UITunF_DTA
      Animation = UITunF_SKL.UITunF_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UITunF_SKL.UITunF_ADTA1
      Animation = UITunF_SKL.UITunF_ADTE1
      Animation = UITunF_SKL.UITunF_ADTF1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UITunF_SKL.UITunF_ADTA2
      Animation = UITunF_SKL.UITunF_ADTE2
      Animation = UITunF_SKL.UITunF_ADTF2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UITunF_SKL.UITunF_ADTA3
      Animation = UITunF_SKL.UITunF_ADTE3
      Animation = UITunF_SKL.UITunF_ADTF3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = FIRING_A
      Animation = UITunF_SKL.UITunF_ATA
      AnimationMode = ONCE
      TransitionKey = TRANS_START_FIRING
    End
    ConditionState = BETWEEN_FIRING_SHOTS_A
      Animation = UITunF_SKL.UITunF_STA
      AnimationMode = ONCE
      ; this is basically a trick: this guy has a nontrivial animation for firing,
      ; and a long recycle time between shots. we want him to finish his fire animation
      ; (unless he's ordered to do something else), so this is just a handy trick that
      ; says, "if the previous state had this transition key, allow it to finish before
      ; switching to us, if possible".
      WaitForStateToFinishIfPossible = TRANS_START_FIRING
    End
    AliasConditionState = RELOADING_A

    ConditionState = SPECIAL_CHEERING
      Animation = UITUNF_SKL.UITUNF_CHA
      AnimationMode = LOOP
    End

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:TunnelDefender
  Side = GLAStealthGeneral
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY TunnelDefenderRocketWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 150
  ShroudClearingRange = 400
 ; Prerequisites
 ;   Object = GLATunnelNetwork
 ; End
  BuildCost = 300
  BuildTime = 5.0          ;in seconds

  ExperienceValue = 20 20 40 60    ;Experience point value at each level
  ExperienceRequired = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GLAInfantryTunnelDefenderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RPGTrooperVoiceSelect
  VoiceMove = RPGTrooperVoiceMove
  VoiceGuard = RPGTrooperVoiceMove
  VoiceAttack = RPGTrooperVoiceAttack
  VoiceFear = RPGTrooperVoiceFear
  UnitSpecificSounds
    VoiceCreate          = RPGTrooperVoiceCreate
    VoiceGarrison = RPGTrooperVoiceGarrison
    VoiceEnter = RPGTrooperVoiceMove
    VoiceEnterHostile = RPGTrooperVoiceMove
    VoiceGetHealed      = RPGTrooperVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
  End
  Locomotor = SET_NORMAL MissileDefenderLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  Behavior = SquishCollide ModuleTag_06
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RPGTrooperDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RPGTrooperDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_12
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
  Behavior = StealthUpdate ModuleTag_13
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End
























;----------------------------------------------------------------------------
Object GC_Slth_GLAInfantryJarmenKell

  ; *** ART Parameters ***
  SelectPortrait         = SUJermanKell1_L  ;NOTE: Asset spelling mistake
  ButtonImage            = SUJermanKell1

  UpgradeCameo1 = Upgrade_GLAAPBullets
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ; --- idle
    DefaultConditionState
      Model             = UIHERO_SKN
      IdleAnimation     = UIHERO_SKL.UIHERO_STA 0 21
      IdleAnimation     = UIHERO_SKL.UIHERO_IDA
      IdleAnimation     = UIHERO_SKL.UIHERO_IDB
      AnimationMode     = ONCE
      WeaponFireFXBone  = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      WeaponFireFXBone  = TERTIARY Muzzle
      WeaponMuzzleFlash = TERTIARY MuzzleFX
      TransitionKey     = TRANS_Stand
    End

    ConditionState      = REALLYDAMAGED
      IdleAnimation     = UIHERO_SKL.UIHERO_ISTA 0 30
      IdleAnimation     = UIHERO_SKL.UIHERO_IIDA
      IdleAnimation     = UIHERO_SKL.UIHERO_IIDB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_StandInjured
    End

    TransitionState     = TRANS_Stand TRANS_StandInjured
      Animation         = UIHERO_SKL.UIHERO_ISTAHIT
      AnimationMode     = ONCE
    End

    ; --- attack

    ConditionState      = FIRING_A
      Animation         = UIHERO_SKL.UIHERO_ATA
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringA
      AnimationSpeedFactorRange = 1.5 1.5
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A
      Animation         = UIHERO_SKL.UIHERO_STA
      AnimationMode     = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = RELOADING_A

    ConditionState      = FIRING_A REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_IATA2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_FiringAInjured
      AnimationSpeedFactorRange = 1.5 1.5
    End

    ConditionState      = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_IATA2
      AnimationMode     = MANUAL
      Flags             = START_FRAME_LAST
      WaitForStateToFinishIfPossible = TRANS_FiringAInjured
    End
    AliasConditionState = RELOADING_A REALLYDAMAGED

    TransitionState     = TRANS_FiringA TRANS_FiringAInjured
      Animation         = UIHERO_SKL.UIHERO_IATAHIT
      AnimationMode     = ONCE
    End

    ; --- moving
    ConditionState      = MOVING
      Animation         = UIHERO_SKL.UIHERO_RNA2 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A

    ConditionState      = MOVING REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_IRNA 30
      AnimationMode     = LOOP
      Flags             = RANDOMSTART
      TransitionKey     = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING FIRING_A REALLYDAMAGED
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = MOVING RELOADING_A REALLYDAMAGED

    ; --- cheering
    ConditionState      = SPECIAL_CHEERING
      Animation         = UIHERO_SKL.UIHERO_CHA
      AnimationMode     = LOOP
    End

    ConditionState      = SPECIAL_CHEERING REALLYDAMAGED
      Animation         = UIHERO_SKL.UIHERO_ICHA
      AnimationMode     = LOOP
    End

    ; --- dying
    ConditionState      = DYING
      Animation         = UIHERO_SKL.UIHERO_DTA
      Animation         = UIHERO_SKL.UIHERO_DTB
      Animation         = UIHERO_SKL.UIHERO_IDTA
      Animation         = UIHERO_SKL.UIHERO_IDTB
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Dying
    End

    TransitionState     = TRANS_Dying TRANS_Flailing
      Animation         = UIHERO_SKL.UIHERO_ADTG21
      AnimationMode     = ONCE
    End

    ConditionState      = DYING EXPLODED_FLAILING
      Animation         = UIHERO_SKL.UIHERO_ADTG22
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Flailing
    End

    ConditionState      = DYING EXPLODED_BOUNCING
      Animation         = UIHERO_SKL.UIHERO_ADTG23
      AnimationMode     = ONCE
      TransitionKey     = None
    End

    ; --- falling
    ConditionState      = FREEFALL
      Animation         = UIHERO_SKL.UIHERO_PFL
      AnimationMode     = LOOP
      TransitionKey     = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState      = PARACHUTING
      Animation         = UIHERO_SKL.UIHERO_PHG
      AnimationMode     = LOOP
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey     = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    TransitionState     = TRANS_Falling TRANS_Chute
      Animation         = UIHERO_SKL.UIHERO_POP
      AnimationMode     = ONCE
      Flags             = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState     = TRANS_Chute TRANS_Stand
      Animation         = UIHERO_SKL.UIHERO_PTD
      AnimationMode     = ONCE
    End

    TransitionState     = TRANS_Chute TRANS_StandInjured
      Animation         = UIHERO_SKL.UIHERO_PTD
      AnimationMode     = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName           = OBJECT:JarmenKell
  Side                  = GLAStealthGeneral
  EditorSorting         = INFANTRY
  TransportSlotCount    = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  ;MaxSimultaneousOfType = 1
  MaxSimultaneousOfType = 5

  WeaponSet
    Conditions = None
    Weapon = PRIMARY GLAJarmenKellRifle
    Weapon = TERTIARY GC_Slth_GLAJarmenKellRifle
    Weapon = SECONDARY GC_Slth_GLAJarmenKellVehiclePilotSniperRifle
    AutoChooseSources = SECONDARY NONE
  End

  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange         = 200
  ShroudClearingRange = 300
  Prerequisites
    Object = GC_Slth_GLABarracks
    Object = GC_Slth_GLAPalace
  End
  BuildCost = 1500
  BuildTime = 20.0          ;in seconds

  ExperienceValue     = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired  = 0 100 200 400  ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = GC_Slth_GLAInfantryJarmenKellCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = JarmenKellVoiceSelect
  VoiceMove = JarmenKellVoiceMove
  VoiceGuard = JarmenKellVoiceMove
  VoiceAttack = JarmenKellVoiceAttack
  VoiceFear = JarmenKellVoiceFear
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff

  UnitSpecificSounds
    VoiceCreate          = JarmenKellVoiceCreate
    VoiceSnipePilot      = JarmenKellVoiceSnipe
    VoiceGarrison = JarmenKellVoiceGarrison
    VoiceEnter = JarmenKellVoiceMove
    VoiceEnterHostile = JarmenKellVoiceMove
    VoiceGetHealed      = JarmenKellVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER STEALTH_GARRISON SCORE HERO

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200.0
    InitialHealth   = 200.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
  End
  Locomotor = SET_NORMAL JarmenKellLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End
  Behavior = StealthUpdate ModuleTag_06
    StealthDelay                = 2000 ; msec
;    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
    EnemyDetectionEvaEvent      = EnemyJarmenKellDetected
    OwnDetectionEvaEvent        = OwnJarmenKellDetected
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_07 ; allows use of command button hunt script with this unit.
  End

  Behavior = WeaponBonusUpgrade ModuleTag_08
    TriggeredBy = Upgrade_GLAAPBullets
  End

  ;Hero units can't be squished!
  ;Behavior = SquishCollide ModuleTag_09
  ;  ;nothing
  ;End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_JarmenKellDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_JarmenKellDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End
















;------------------------------------------------------------------------------
Object GC_Slth_GLAInfantrySniper

    ; *** ART Parameters ***
  SelectPortrait         = SAPathfinder1_L
  ButtonImage            = SAPathfinder1

  ;UpgradeCameo1 = Upgrade_AmericaAdvancedTraining
  ;UpgradeCameo2 = Upgrade_AmericaChemicalSuits
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = AIPFDR_SKN
      IdleAnimation = AIPFDR_SKL.AIPFDR_STA
      IdleAnimation = AIPFDR_SKL.AIPFDR_IDA
      AnimationMode = ONCE
      WeaponFireFXBone = PRIMARY Muzzle
      WeaponMuzzleFlash = PRIMARY MuzzleFX
      TransitionKey = TRANS_Standing
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = MOVING
      Animation = AIPFDR_SKL.AIPFDR_RNA 25
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = TRANS_Standing
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED

    ConditionState  = FIRING_A
      Animation     = AIPFDR_SKL.AIPFDR_ATB                 ; recoil in standing position
      AnimationMode = ONCE
      TransitionKey = TRANS_FiringA
    End
    AliasConditionState = FIRING_A MOVING
    AliasConditionState = FIRING_A MOVING REALLYDAMAGED
    AliasConditionState = FIRING_A REALLYDAMAGED

    ConditionState  = BETWEEN_FIRING_SHOTS_A
      Animation     = AIPFDR_SKL.AIPFDR_ATBST               ; motionless in standing position
      AnimationMode = ONCE
      WaitForStateToFinishIfPossible = TRANS_FiringA
    End
    AliasConditionState = BETWEEN_FIRING_SHOTS_A REALLYDAMAGED
    AliasConditionState = RELOADING_A
    AliasConditionState = RELOADING_A REALLYDAMAGED

    ConditionState = DYING
      Animation = AIPFDR_SKL.AIPFDR_DTA
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = AIPFDR_SKL.AIPFDR_ADTA1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = AIPFDR_SKL.AIPFDR_ADTA2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = AIPFDR_SKL.AIPFDR_ADTA3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = FREEFALL
      Animation = AIPFDR_SKL.AIPFDR_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = AIPFDR_SKL.AIPFDR_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
      ;our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING DYING


    TransitionState = TRANS_Falling TRANS_Chute
      Animation = AIPFDR_SKL.AIPFDR_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME
      ;our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_Chute TRANS_Standing
      Animation = AIPFDR_SKL.AIPFDR_PTD
      AnimationMode = ONCE
    End
  End


  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Sniper
  Side             = GLAStealthGeneral
  EditorSorting    = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY USAPathfinderSniperRifle
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 200
  ShroudClearingRange = 400
  Prerequisites
    Object = GC_Slth_GLABarracks
    Object = GC_Slth_GLAPalace
  End
  BuildCost = 600
  BuildTime = 10.0          ;in seconds

  ExperienceValue = 40 40 60 80    ;Experience point value at each level
  ExperienceRequired = 0 50 100 200  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = AmericaInfantryPathfinderCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = PathfinderVoiceSelect
  VoiceMove = PathfinderVoiceMove
  VoiceGuard = PathfinderVoiceMove
  VoiceAttack = PathfinderVoiceAttack
  VoiceFear = PathfinderVoiceFear
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  VoiceFear = PathfinderVoiceFear

  UnitSpecificSounds
    VoiceCreate          = PathfinderVoiceCreate
    VoiceGarrison = PathfinderVoiceGarrison
    VoiceEnter = PathfinderVoiceMove
    VoiceEnterHostile =  PathfinderVoiceMove
    VoiceGetHealed      = PathfinderVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY STEALTH_GARRISON SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 120.0
    InitialHealth   = 120.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
    MoodAttackCheckRate        = 250
  End

  Behavior = AutoFindHealingUpdate   ModuleTag_04 ; This update will have the unit go to a healing station if injured. jba
    ScanRate = 1000 ; once a second.
    ScanRange = 300 ;
    NeverHeal = 0.85 ;  don't heal if we are > 85% healthy.
    AlwaysHeal = 0.25 ; if we get below 25%, find healing right away.
  End

  Locomotor = SET_NORMAL ColonelBurtonGroundLocomotor

  Behavior = ExperienceScalarUpgrade ModuleTag_05
    TriggeredBy = Upgrade_AmericaAdvancedTraining
    AddXPScalar = 1.0 ;Increases experience gained by an additional 100%
  End

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End
  Behavior = StealthDetectorUpdate ModuleTag_08
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End
  Behavior = StealthUpdate ModuleTag_09
    StealthDelay                = 0           ; msec
    StealthForbiddenConditions  = MOVING ; stays stealthy while attacking
    FriendlyOpacityMin          = 30.0%
    FriendlyOpacityMax          = 80.0%
    PulseFrequency              = 500   ; msec
    MoveThresholdSpeed          = 3
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = SquishCollide ModuleTag_10
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_PathfinderDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireUSA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinUSA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_13
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End




































;------------------------------------------------------------------------------
Object GC_Slth_GLAInfantryRebel

  ; *** ART Parameters ***
  SelectPortrait         = SURebel_L
  ButtonImage            = SURebel

  UpgradeCameo1 = Upgrade_GLAAPBullets
  UpgradeCameo2 = Upgrade_InfantryCaptureBuilding
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01

    OkToChangeModelColor = Yes

    ; this says "we don't use these condition states at all, so completely
    ; ignore them for purposes of matchmaking"... this is useful to help
    ; reduce the number of AliasConditionState clauses you must add in
    ; order to avoid ambiguity in some cases.
    IgnoreConditionStates = PREATTACK_A FIRING_A BETWEEN_FIRING_SHOTS_A RELOADING_A

    ; ---- standing
    DefaultConditionState
      Model               = UIRGrd_SKN
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STN 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDA
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDB
      AnimationMode       = ONCE
      WeaponFireFXBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
      TransitionKey       = TRANS_Standing
    End

    ConditionState        = REALLYDAMAGED
      IdleAnimation       = UIRGrd_SKL.UIRGrd_STB 0 35
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDC
      IdleAnimation       = UIRGrd_SKL.UIRGrd_IDD
      AnimationMode       = ONCE
      TransitionKey       = TRANS_StandingHurt
    End

    ; ---- moving
    ConditionState        = MOVING
      Animation           = UIRGrd_SKL.UIRGrd_RNA 15
      AnimationMode       = LOOP
      TransitionKey       = TRANS_Walking
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING

    ConditionState        = MOVING REALLYDAMAGED
      Animation           = UIRGrd_SKL.UIRGrd_RNB 25
      AnimationMode       = LOOP
      TransitionKey       = TRANS_WalkingHurt
      ParticleSysBone     = None InfantryDustTrails
    End
    AliasConditionState   = MOVING ATTACKING REALLYDAMAGED

    ; ---- dying
    ConditionState        = DYING
      Animation           = UIRGrd_SKL.UIRGrd_DTA
      Animation           = UIRGrd_SKL.UIRGrd_DTB
      AnimationMode       = ONCE
      TransitionKey       = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIRGrd_SKL.UIRGrd_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIRGrd_SKL.UIRGrd_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIRGrd_SKL.UIRGrd_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SPECIAL_CHEERING
      Animation = UIRGrd_SKL.UIRGrd_IDB
    End

    ; ---- firing
    ConditionState = USING_WEAPON_A
      Animation = UIRGrd_SKL.UIRGrd_ATA
      AnimationMode = LOOP
      TransitionKey = TRANS_Firing
    End

    ConditionState = USING_WEAPON_A REALLYDAMAGED
      Animation = UIRGrd_SKL.UIRGrd_ATA2
      AnimationMode = LOOP
      TransitionKey = TRANS_FiringHurt
    End

    TransitionState = TRANS_Standing TRANS_Firing
      Animation = UIRGrd_SKL.UIRGrd_ATAST
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Firing TRANS_Standing
      Animation = UIRGrd_SKL.UIRGrd_ATAED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_StandingHurt TRANS_FiringHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE_BACKWARDS
    End

    TransitionState = TRANS_FiringHurt TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End

    TransitionState = TRANS_Standing TRANS_StandingHurt
      Animation = UIRGrd_SKL.UIRGrd_ATA2ED
      AnimationMode = ONCE
    End



    ; ------- Bldg-capture

    ConditionState = UNPACKING
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP1
      AnimationMode     = ONCE
    End
    AliasConditionState = UNPACKING REALLYDAMAGED

    ConditionState = RAISING_FLAG
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP2
      AnimationMode     = ONCE
      TransitionKey     = TRANS_Raising
    End
    AliasConditionState = RAISING_FLAG REALLYDAMAGED

    ConditionState = PACKING
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP1
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
      TransitionKey     = TRANS_Packing
    End
    AliasConditionState = PACKING REALLYDAMAGED

    TransitionState = TRANS_Raising TRANS_Packing
      Model             = UIRGrd_F_SKN
      Animation         = UIRGrd_F_SKL.UIRGrd_F_FDP2
      AnimationMode     = ONCE_BACKWARDS
      Flags             = START_FRAME_LAST
    End

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Rebel
  Side                = GLAStealthGeneral
  EditorSorting       = INFANTRY
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY GLARebelMachineGun
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange         = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = GC_Slth_GLABarracks
  End
  BuildCost = 150
  BuildTime = 5.0          ;in seconds

  ExperienceValue     = 15 15 30 40     ;Experience point value at each level
  ExperienceRequired  = 0 40 60 120     ;Experience points needed to gain each level
  IsTrainable         = Yes             ;Can gain experience
  CrushableLevel      = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet          = GLAInfantryRebelCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RebelVoiceSelect
  VoiceMove = RebelVoiceMove
  VoiceGuard = RebelVoiceMove
  VoiceAttack = RebelVoiceAttack
  SoundStealthOn = StealthOn
  SoundStealthOff = StealthOff
  VoiceFear = RebelVoiceFear
  VoiceTaskComplete = RebelVoiceCaptureComplete
  UnitSpecificSounds
    VoiceCreate = RebelVoiceCreate
    VoiceSubdue = RebelVoiceSubdue
    VoiceGarrison = RebelVoiceGarrison
    VoiceEnter = RebelVoiceMove
    VoiceEnterHostile = RebelVoiceMove
    VoiceGetHealed      = RebelVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 120.0
    InitialHealth   = 120.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
  End

  Behavior = CommandButtonHuntUpdate  ModuleTag_04 ; allows use of command button hunt script with this unit.
  End

  Locomotor = SET_NORMAL BasicHumanLocomotor

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 5.0
  End
  Behavior = StealthUpdate ModuleTag_07
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    MoveThresholdSpeed          = 3
    InnateStealth               = No ;Requires upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = WeaponBonusUpgrade ModuleTag_09
    TriggeredBy = Upgrade_GLAAPBullets
  End
  Behavior = SquishCollide ModuleTag_11
    ;nothing
  End
; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RebelDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_RebelDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_16
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Behavior = SpecialAbility ModuleTag_17
    SpecialPowerTemplate      = SpecialAbilityRebelCaptureBuilding
    UpdateModuleStartsAttack  = Yes
    StartsPaused              = Yes
    InitiateSound         = RebelVoiceCapture
  End
  Behavior = SpecialAbilityUpdate ModuleTag_18
    SpecialPowerTemplate  = SpecialAbilityRebelCaptureBuilding
    StartAbilityRange  = 5.0
    UnpackTime            = 3000  ; (changing this will scale anim speed)
    PreparationTime       = 20000 ; time to complete hack once prepared (changing this will scale anim speed)
    PackTime              = 2000  ; (changing this will scale anim speed)
    DoCaptureFX           = Yes
    AwardXPForTriggering  = 12
    ;SkillPointsForTriggering = ???  -- Dustin, fill me out if you want different balance values.
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_19
    SpecialPowerTemplate = SpecialAbilityRebelCaptureBuilding
    TriggeredBy = Upgrade_InfantryCaptureBuilding
  End

  Behavior = StealthUpdate ModuleTag_20
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End













;------------------------------------------------------------------------------
Object GC_Slth_GLAInfantryTerrorist

; *** ART Parameters ***
  SelectPortrait         = SUTerrorist_L
  ButtonImage            = SUTerrorist

  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes
    DefaultConditionState
      Model = UITRST_SKN
      IdleAnimation = UITRST_SKL.UITRST_STA 0 25
      ;Regular spice animations
      IdleAnimation = UITRST_SKL.UITRST_IDA
      IdleAnimation = UITRST_SKL.UITRST_IDB
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End

    ConditionState = REALLYDAMAGED
      Animation = UITRST_SKL.UITRST_STA
      AnimationMode = LOOP
      TransitionKey = TRANS_Stand
    End

    ConditionState = FREEFALL
      Animation = UITRST_SKL.UITRST_PFL
      AnimationMode = LOOP
      TransitionKey = TRANS_Falling
    End
    AliasConditionState = FREEFALL REALLYDAMAGED
    AliasConditionState = FREEFALL DYING

    ConditionState = PARACHUTING
      Animation = UITRST_SKL.UITRST_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING

    ConditionState = MOVING
      Animation = UITRST_SKL.UITRST_RNA 15
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = MOVING REALLYDAMAGED

    ConditionState = ATTACKING MOVING
      Animation = UITRST_SKL.UITRST_RNB 10
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = None
    End
    AliasConditionState = ATTACKING MOVING REALLYDAMAGED

    ConditionState = PREATTACK_A
      Animation = UITRST_SKL.UITRST_ATA
      AnimationMode = ONCE
    End
    AliasConditionState = PREATTACK_A MOVING

    ConditionState = DYING
      Animation = UITRST_SKL.UITRST_DTA
      Animation = UITRST_SKL.UITRST_DTC
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UITRST_SKL.UITRST_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UITRST_SKL.UITRST_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UITRST_SKL.UITRST_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SPECIAL_CHEERING
      Animation = UITRST_SKL.UITRST_CHA
      AnimationMode = LOOP
    End

    TransitionState = TRANS_Falling TRANS_Chute
      Animation = UITRST_SKL.UITRST_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End

    TransitionState = TRANS_Chute TRANS_Stand
      Animation = UITRST_SKL.UITRST_PTD
      AnimationMode = ONCE
    End

  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Terrorist
  Side = GLAStealthGeneral
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    ;Kill himself so we can use FireWeaponWhenDead to fire the real weapon -- and use UNRESISTABLE
    ;damage to do ini logic for type of death to play -- unresistable for success.
    Weapon = PRIMARY TerroristSuicideWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End
  VisionRange = 150
  ShroudClearingRange = 200
  Prerequisites
    Object = GC_Slth_GLABarracks
  End
  BuildCost = 200
  BuildTime = 5.0          ;in seconds
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = GLAInfantryTerroristCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TerroristVoiceSelect
  VoiceMove = TerroristVoiceMove
  VoiceAttack = TerroristVoiceAttack
  VoiceFear = TerroristVoiceFear
  VoiceGuard = TerroristVoiceMove
  UnitSpecificSounds
    VoiceGarrison         = TerroristVoiceMove
    VoiceCreate           = TerroristVoiceCreate
    VoiceEnter            = TerroristVoiceEnter
    VoiceEnterHostile     = TerroristVoiceEnterHostile
    VoiceGetHealed      = TerroristVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 120.0
    InitialHealth   = 120.0
  End

  ExperienceValue     = 20 20 20 20  ; Experience point value at each level

  Behavior = AIUpdateInterface ModuleTag_03
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
  End
  Behavior = CommandButtonHuntUpdate  ModuleTag_CBH01 ; allows use of command button hunt script with this unit.
  End
  Locomotor = SET_NORMAL FastHumanLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 5.0
  End

  ;Kris
  Behavior = ConvertToCarBombCrateCollide       ModuleTag_06
    RequiredKindOf    = VEHICLE      ; we only give our bonus to VEHICLEs we collide with
    ;ForbiddenKindOf  = TRANSPORT DOZER  ; but not to TRANSPORTs or DOZERs!
    FXList            = FX_MakeCarBombSuccess
  End

  Behavior = SquishCollide ModuleTag_07
    ;nothing
  End

; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL  -SUICIDED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_TerroristDie
  End


  ;POISON_DEATHS POISON_DEATHS POISON_DEATHS POISON_DEATHS
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

  ;POISON_DEATHS POISON_DEATHS POISON_DEATHS POISON_DEATHS


  ; I have just pulled my ripcord, and this ain't no parachute!
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +SUICIDED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_TerroristExplode
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = FireWeaponWhenDeadBehavior ModuleTag_Death04
    DeathWeapon   = SuicideDynamitePack
    StartsActive  = Yes                      ; turned on by upgrade
    DeathTypes = NONE +SUICIDED +CRUSHED +SPLATTED +LASERED +BURNED +EXPLODED
  End
; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End
  Behavior = StealthUpdate ModuleTag_15
    StealthDelay                = 2500 ; msec
    StealthForbiddenConditions  = ATTACKING USING_ABILITY
    InnateStealth               = Yes ;Requires upgrade first
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End









;------------------------------------------------------------------------------
Object GC_Slth_GLAInfantryHijacker

  ; *** ART Parameters ***
  SelectPortrait         = SUHijacker_L
  ButtonImage            = SUHijacker

  ;UpgradeCameo1 = NONE
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DModelDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UIHJCK_SKN
      IdleAnimation = UIHJCK_SKL.UIHJCK_STA 0 25
      IdleAnimation = UIHJCK_SKL.UIHJCK_IDA
      IdleAnimation = UIHJCK_SKL.UIHJCK_IDB
      AnimationMode = ONCE
      TransitionKey = TRANS_Stand
    End
    AliasConditionState = REALLYDAMAGED

    ConditionState = MOVING
      Animation = UIHJCK_SKL.UIHJCK_RUN
      AnimationMode = LOOP
      Flags = RANDOMSTART
      TransitionKey = None
      ParticleSysBone   = None InfantryDustTrails
    End
    AliasConditionState = REALLYDAMAGED MOVING


    ConditionState = DYING
      Animation = UIHJCK_SKL.UIHJCK_DTA
      Animation = UIHJCK_SKL.UIHJCK_DTB
      AnimationMode = ONCE
      TransitionKey = TRANS_Dying
    End

    TransitionState = TRANS_Dying TRANS_Flailing
      Animation = UIHJCK_SKL.UIHJCK_ADTE1
      AnimationMode = ONCE
    End

    ConditionState = DYING EXPLODED_FLAILING
      Animation = UIHJCK_SKL.UIHJCK_ADTE2
      AnimationMode = LOOP
      TransitionKey = TRANS_Flailing
    End

    ConditionState = DYING EXPLODED_BOUNCING
      Animation = UIHJCK_SKL.UIHJCK_ADTE3
      AnimationMode = ONCE
      TransitionKey = None
    End

    ConditionState = SPECIAL_CHEERING
      Animation = UIHJCK_SKL.UIHJCK_CHA
      AnimationMode = LOOP
    End


    ConditionState = PARACHUTING
      Animation = UIHJCK_SKL.UIHJCK_PHG
      AnimationMode = LOOP
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
      TransitionKey = TRANS_Chute
    End
    AliasConditionState = PARACHUTING REALLYDAMAGED
    AliasConditionState = PARACHUTING DYING
    TransitionState = TRANS_Falling TRANS_Chute
      Animation = UIHJCK_SKL.UIHJCK_POP
      AnimationMode = ONCE
      Flags = PRISTINE_BONE_POS_IN_FINAL_FRAME  ; our bone positions should come from the last frame, rather than the first
    End
    TransitionState = TRANS_Chute TRANS_Stand
      Animation = UIHJCK_SKL.UIHJCK_PTD
      AnimationMode = ONCE
    End


  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:Hijacker
  Side = GLAStealthGeneral
  EditorSorting = INFANTRY
  TransportSlotCount = 1                 ;how many "slots" we take in a transport (0 == not transportable)



  ArmorSet
    Conditions      = None
    Armor           = HumanArmor
    DamageFX        = InfantryDamageFX
  End

  VisionRange = 100
  ShroudClearingRange = 200
  Prerequisites
    Object = GC_Slth_GLABarracks
    Object = GC_Slth_GLAPalace
    Science = SCIENCE_Hijacker
  End

  BuildCost = 400
  BuildTime = 10.0          ;in seconds




  ExperienceValue = 50 100 150 400    ;Experience point value at each level
  ExperienceRequired = 0 150 450 900  ;Experience points needed to gain each level
  IsTrainable = No                    ;Can gain experience
  CrushableLevel         = 0  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet    = GLAInfantryHijackerCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect =    HijackerVoiceSelect
  VoiceMove =      HijackerVoiceMove
  VoiceGuard =      HijackerVoiceMove
  VoiceAttack =    HijackerVoiceAttack
  VoiceFear =      HijackerVoiceFear
  UnitSpecificSounds
    VoiceGarrison =  HijackerVoiceGarrison
    VoiceCreate           = HijackerVoiceCreate
    VoiceEnter            = HijackerVoiceEnter
    VoiceEnterHostile     = HijackerVoiceEnterHostile
    VoiceGetHealed      = HijackerVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS INFANTRY SALVAGER SCORE STEALTH_GARRISON
  ;STEALTH_GARRISON Added per Dustin, 12/14--ML


  Behavior = StealthUpdate ModuleTag_02
    StealthDelay                = 1500
    StealthForbiddenConditions  = ATTACKING ;MOVING
    ;MoveThresholdSpeed          = 3
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Body = ActiveBody ModuleTag_03
    MaxHealth       = 100.0
    InitialHealth   = 100.0
  End

  Behavior = HijackerUpdate ModuleTag_04
    ParachuteName = AmericaParachute
  End

  Behavior = AIUpdateInterface ModuleTag_05
    AutoAcquireEnemiesWhenIdle = Yes Stealthed
  End
  Behavior = CommandButtonHuntUpdate  ModuleTag_CBH01 ; allows use of command button hunt script with this unit.
  End
  Locomotor = SET_NORMAL JarmenKellLocomotor

  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 5.0
  End

  Behavior = ConvertToHijackedVehicleCrateCollide       ModuleTag_08
    RequiredKindOf = VEHICLE      ; This is my car now, infidel!
  End

  Behavior = SquishCollide ModuleTag_09
    ;nothing
  End


; --- begin Death modules ---
  Behavior = SlowDeathBehavior ModuleTag_Death01
    DeathTypes          = ALL -CRUSHED -SPLATTED -EXPLODED -BURNED -POISONED -POISONED_BETA -POISONED_GAMMA
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_HijackerDie
  End
  Behavior = SlowDeathBehavior ModuleTag_Death02
    DeathTypes          = NONE +CRUSHED +SPLATTED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_GIDieCrushed
  End
  Behavior = SlowDeathBehavior ModuleTag_Death03
    DeathTypes          = NONE +EXPLODED
    SinkDelay           = 3000
    SinkRate            = 0.5     ; in Dist/Sec
    DestructionDelay    = 8000
    FX                  = INITIAL FX_HijackerDie
    FlingForce          = 8
    FlingForceVariance  = 3
    FlingPitch          = 60
    FlingPitchVariance  = 10
  End
  Behavior = SlowDeathBehavior ModuleTag_Death04
    DeathTypes          = NONE +BURNED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByFireGLA
    OCL                 = INITIAL OCL_FlamingInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death05
    DeathTypes          = NONE +POISONED
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantry
  End
  Behavior = SlowDeathBehavior ModuleTag_Death06 ; don't forget to give it a new, unique module tag
    DeathTypes          = NONE +POISONED_BETA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryBeta ;you'll have to create this OCL and make it use the blue guys instead of green ones
  End
  Behavior = SlowDeathBehavior ModuleTag_Death07
    DeathTypes          = NONE +POISONED_GAMMA
    DestructionDelay    = 0
    FX                  = INITIAL FX_DieByToxinGLA
    OCL                 = INITIAL OCL_ToxicInfantryGamma
  End

; --- end Death modules ---

  Behavior = PoisonedBehavior ModuleTag_14
    PoisonDamageInterval = 100  ; Every this many msec I will retake the poison damage dealt me...
    PoisonDuration = 3000       ; ... for this long after last hit by poison damage
  End

  Geometry = CYLINDER
  GeometryMajorRadius = 10.0
  GeometryMinorRadius = 10.0
  GeometryHeight = 12.0
  GeometryIsSmall = Yes
  Shadow = SHADOW_DECAL
  ShadowSizeX = 14;
  ShadowSizeY = 14;
  ShadowTexture = ShadowI;
  BuildCompletion = APPEARS_AT_RALLY_POINT

End



































;------------------------------------------------------------------------------
;GLA Radar Van
Object GC_Slth_GLAVehicleRadarVan

  ; *** ART Parameters ***
  SelectPortrait         = SURadarVan_L
  ButtonImage            = SURadarVan

  UpgradeCameo1 = Upgrade_GLARadarVanScan
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    DefaultConditionState
      Model = UVRadarVan
      Animation = UVRadarVan.UVRadarVan
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = UVRadarVan_D
      Animation = UVRadarVan_D.UVRadarVan_D
      AnimationMode = LOOP
    End

    ConditionState = RUBBLE
      Model = UVRadarVan_D
      Animation = UVRadarVan_D.UVRadarVan_D
      AnimationMode = LOOP
    End

    TrackMarks = EXTireTrack.tga

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 2.5   ; This speed is added to the rotation speed when powersliding.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:RadarVan
  Side = GLAStealthGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 500
  BuildTime       = 10.0          ;in seconds
  VisionRange     = 200
  ShroudClearingRange = 500
  Prerequisites
    Object = GC_Slth_GLAArmsDealer
  End
  IsTrainable = No
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet      = GLAVehicleRadarVanCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RadarVanVoiceSelect
  VoiceMove = RadarVanVoiceMove
  VoiceAttack = RadarVanVoiceMove
  SoundMoveStart = RadarVanMoveStart
  SoundMoveStartDamaged = RadarVanMoveStart

  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate     = RadarVanVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  ; Required for the W3DTruckDraw module
    TruckLandingSound = NoSound ;RocketBuggyLand
    TruckPowerslideSound = NoSound ;RocketBuggyPowerslide
    VoiceCrush      = RadarVanVoiceCrush
    VoiceEnter = RadarVanVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE IGNORES_SELECT_ALL

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 200
    InitialHealth   = 200
  End

  ExperienceValue     = 20 20 20 20  ; Experience point value at each level

  Behavior = GrantUpgradeCreate ModuleTag_03
    UpgradeToGrant     = Upgrade_GLARadar
  End
  Behavior        = RadarUpgrade ModuleTag_05
    TriggeredBy   = Upgrade_GLARadar
    DisableProof  = Yes ; Won't be disabled by power low
  End

  Behavior           = OCLSpecialPower ModuleTag_06
    SpecialPowerTemplate = SpecialPowerRadarVanScan
    OCL                  = SUPERWEAPON_RadarVanScan
    CreateLocation       = CREATE_AT_LOCATION
    StartsPaused         = Yes ; Unpaused by upgrade module
  End

  Behavior = UnpauseSpecialPowerUpgrade ModuleTag_07
    SpecialPowerTemplate = SpecialPowerRadarVanScan
    TriggeredBy = Upgrade_GLARadarVanScan
  End

  Behavior = AutoHealBehavior ModuleTag_08
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = AIUpdateInterface ModuleTag_09
    Turret
      TurretTurnRate = 100
      ControlledWeaponSlots = PRIMARY
    End
  End
  Locomotor = SET_NORMAL RadarVanLocomotor

  Behavior = PhysicsBehavior ModuleTag_10
    Mass = 50.0
  End

; The default explosion
  Behavior = SlowDeathBehavior  ModuleTag_11
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 5
    ModifierBonusPerOverkillPercent = 20%  ; negative means less likely to pick this in the face of much damage, positive means more likely
    DestructionDelay = 0
    DestructionDelayVariance = 200
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_RadarVanDeathEffect
  End


  Behavior = FlammableUpdate ModuleTag_13
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = DestroyDie ModuleTag_14
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = CreateCrateDie ModuleTag_15
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = StealthDetectorUpdate ModuleTag_16
    DetectionRate   = 500   ; how often to rescan for stealthed things in my sight (msec)
    ;DetectionRange = ??? ;Dustin, enable this for independant balancing!
    CanDetectWhileGarrisoned  = No ;Garrisoned means being in a structure that you units can shoot out of.
    CanDetectWhileContained   = No ;Contained means being in a transport or tunnel network.
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_17
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_18
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End

  Behavior                 = TransitionDamageFX ModuleTag_19
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_CrusaderDamageTransition
  End
  Behavior = StealthUpdate ModuleTag_20
    StealthDelay                = 1500
    StealthForbiddenConditions  = NONE
    ;MoveThresholdSpeed          = 3
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  Geometry = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 6.0
  GeometryHeight = 12.5
  GeometryIsSmall = Yes
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ;minimum elevation angle above horizon. Used to limit shadow length

End























;------------------------------------------------------------------------------
; this unit is never really "built"; building one triggers the random building of
; one of the other chassis. If you want a *specific* chassis, choose it explicitly;
; if you want a chassis at random, specify this.
Object GC_Slth_GLAVehicleTechnical

  ; *** ART Parameters ***
  SelectPortrait         = SUTechnical_L
  ButtonImage            = SUTechnical

  Draw = W3DModelDraw ModuleTag_01
    DefaultConditionState
      ; give it a model so it'll show up in WB
      Model = UVTechTrck
    End
  End

  ; set cost and time fields here or else they won't work
  BuildCost       = 500
  BuildTime       = 5.0          ;in seconds

  ; Needed to get the Veterancy Overlays on top of the Technical with his build variations.
  ;------------------------------------------------------------
  Behavior = VeterancyGainCreate ModuleTag_03
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_TechnicalTraining
  End
  Side = GLAStealthGeneral
  EditorSorting = VEHICLE
  BuildVariations = GC_Slth_GLAVehicleTechnicalChassisOne GC_Slth_GLAVehicleTechnicalChassisTwo GC_Slth_GLAVehicleTechnicalChassisThree

  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE TRANSPORT

End


;------------------------------------------------------------------------------
Object GC_Slth_GLAVehicleTechnicalChassisOne

  ; *** ART Parameters ***
  SelectPortrait         = SUTechnical_L
  ButtonImage            = SUTechnical

  UpgradeCameo1 = Upgrade_GLAAPBullets
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE

  Draw = W3DTruckDraw ModuleTag_01

    ExtraPublicBone = Dum_Turret

    DefaultConditionState
      Model         = UVTechTrck
    End
    ConditionState  = REALLYDAMAGED
      Model         = UVTechTrck_d
    End
    ConditionState  = RUBBLE
      Model         = UVTechTrck_d
    End

    OkToChangeModelColor        = Yes
    TrackMarks                  = EXTireTrack.tga
    Dust                        = TechnicalDust
    DirtSpray                   = RocketBuggyDirtSpray
    PowerslideSpray             = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire01
    RightFrontTireBone          = Tire02
    LeftRearTireBone            = Tire03
    RightRearTireBone           = Tire04
    TireRotationMultiplier      = 0.2        ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5    ; This speed is added to the rotation speed when powersliding.
  End

  Draw = W3DModelDraw ModuleTag_02

    OkToChangeModelColor        = Yes
    AttachToBoneInAnotherModule = Dum_Turret

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model = UITech_SKN
      Turret = Dum-TurManMVR
      TurretArtAngle = 180  ; this turret has art pointed 180 degrees backward
      HideSubObject = 20Cal 50Cal RPG MuzzleFX01 MuzzleFX02 MuzzleFX03
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = MOVING
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End
    AliasConditionState = TURRET_ROTATE MOVING
    AliasConditionState = TURRET_ROTATE FIRING_A
    AliasConditionState = TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE RELOADING_A
    AliasConditionState = TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE MOVING RELOADING_A

    ConditionState = FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A

    ; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ConditionState = MOVING WEAPONSET_CRATEUPGRADE_ONE
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING RELOADING_A

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING RELOADING_A

    ; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
    ConditionState = WEAPONSET_CRATEUPGRADE_TWO
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ConditionState = MOVING WEAPONSET_CRATEUPGRADE_TWO
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING RELOADING_A

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING RELOADING_A

  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:Technical
  Side                = GLAStealthGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 3                 ;how many "slots" we take in a transport (0 == not transportable)

  WeaponSet
    Conditions = None
    Weapon = PRIMARY TechnicalMachineGunWeapon
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE
    Weapon = PRIMARY TechnicalCannonWeapon
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO
    Weapon = PRIMARY TechnicalRPGWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TruckDamageFX
  End
  ;update cost and time fields in Object GLAVehicleTechnical, or else they won't work
  ;BuildCost            = 300
  ;BuildTime            = 5.0          ;in seconds
  VisionRange           = 150
  ShroudClearingRange   = 300
  Prerequisites
    Object = Slth_GLAArmsDealer
  End

  ExperienceValue         = 25 25 50 100    ;Experience point value at each level
  ExperienceRequired      = 0 50 75 150  ;Experience points needed to gain each level
  IsTrainable             = Yes             ;Can gain experience
  CrusherLevel            = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel          = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet              = GLAVehicleTechnicalCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = TechnicalVoiceSelect
  VoiceMove = TechnicalVoiceMove
  VoiceGuard = TechnicalVoiceMove
  VoiceAttack = TechnicalVoiceAttack
  SoundMoveStart = TechnicalMoveStart
  SoundMoveStartDamaged = TechnicalMoveStart
  SoundEnter = HumveeEnter
  SoundExit = HumveeExit

  UnitSpecificSounds
  ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = TechnicalVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = RocketBuggyPowerslide
    VoiceSalvage = TechnicalVoiceSalvage
    VoiceCrush      = TechnicalVoiceCrush
    VoiceUnload     = TechnicalVoiceUnload
    VoiceEnter = TechnicalVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE TRANSPORT

  Behavior = VeterancyGainCreate ModuleTag_03
    StartingLevel = VETERAN
    ScienceRequired = SCIENCE_TechnicalTraining
  End

  Body = ActiveBody ModuleTag_04
    MaxHealth       = 180
    InitialHealth   = 180

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 360
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End
  Behavior = AIUpdateInterface ModuleTag_05
    Turret
      TurretTurnRate = 240       ; turn rate, in degrees per sec
      NaturalTurretAngle = 0
      MinIdleScanAngle = 30      ; in degrees off the natural turret angle
      MaxIdleScanAngle = 60      ; in degrees off the natural turret angle
      MinIdleScanInterval = 5000 ; in milliseconds
      MaxIdleScanInterval = 10000 ; in milliseconds
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
  End
  Locomotor = SET_NORMAL TechnicalLocomotor
  Behavior = PhysicsBehavior ModuleTag_06
    Mass = 40.0
  End
  Behavior = AutoHealBehavior ModuleTag_07
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = FlammableUpdate ModuleTag_09
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                 = TransitionDamageFX ModuleTag_10
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_TechnicalJeep_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_14
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = SlowDeathBehavior ModuleTag_15
    DeathTypes = ALL -CRUSHED -SPLATTED
    DestructionDelay = 500
    DestructionDelayVariance = 1500
    OCL = INITIAL OCL_TechnicalAirDeathStart
    FX = INITIAL FX_TechnicalAirDeathGroundPart
    OCL = FINAL OCL_RocketBuggyAirDeath
    FX = FINAL FX_RocketBuggyAirDeathAirPart    ; This happens in the air
  End

  Behavior = TransportContain ModuleTag_16
    Slots = 5
    AllowInsideKindOf   = INFANTRY
    DamagePercentToUnits = 10%
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
   End

  Behavior = WeaponBonusUpgrade ModuleTag_17 ; Not a full weapon set switch, just a number tweak reflected in a weapon.
    TriggeredBy = Upgrade_GLAAPBullets
  End

  Behavior = StealthUpdate ModuleTag_19
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Geometry = BOX
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 7.5
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End

;------------------------------------------------------------------------------
ObjectReskin GC_Slth_GLAVehicleTechnicalChassisTwo GC_Slth_GLAVehicleTechnicalChassisOne

  ; *** ART Parameters ***
  Draw = W3DTruckDraw ModuleTag_01

    ExtraPublicBone = Dum_Turret

    DefaultConditionState
      Model = UVTechVan
    End

    ConditionState = REALLYDAMAGED
      Model = UVTechVan_d
    End
    ConditionState = RUBBLE
      Model = UVTechVan_d
    End

    OkToChangeModelColor = Yes
    TrackMarks = EXTireTrack.tga
    Dust = TechnicalDust

    ;DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2        ; this * speed = rotation.
    PowerslideRotationAddition = 2.5    ; This speed is added to the rotation speed when powersliding.
  End

  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    AttachToBoneInAnotherModule = Dum_Turret

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model = UITech_SKN
      Turret = Dum-TurManMVR
      TurretArtAngle = 180  ; this turret has art pointed 180 degrees backward
      HideSubObject = 20Cal 50Cal RPG MuzzleFX01 MuzzleFX02 MuzzleFX03
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = MOVING
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End
    AliasConditionState = TURRET_ROTATE MOVING
    AliasConditionState = TURRET_ROTATE FIRING_A
    AliasConditionState = TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE RELOADING_A
    AliasConditionState = TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE MOVING RELOADING_A

    ConditionState = FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A

    ; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ConditionState = MOVING WEAPONSET_CRATEUPGRADE_ONE
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING RELOADING_A

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING RELOADING_A


    ; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
    ConditionState = WEAPONSET_CRATEUPGRADE_TWO
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ConditionState = MOVING WEAPONSET_CRATEUPGRADE_TWO
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING RELOADING_A

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING RELOADING_A

  End

 ; Behavior = CreateObjectDie ModuleTag_13
 ;   DeathTypes = NONE +CRUSHED +SPLATTED
 ;   CreationList = OCL_TechnicalVan_CrushEffect
 ; End

  Geometry = BOX
  GeometryMajorRadius = 16.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 7.5
  GeometryIsSmall = Yes


End

;------------------------------------------------------------------------------
ObjectReskin GC_Slth_GLAVehicleTechnicalChassisThree GC_Slth_GLAVehicleTechnicalChassisOne

  ; *** ART Parameters ***
  Draw = W3DTruckDraw ModuleTag_01

    ExtraPublicBone = Dum_Turret

    DefaultConditionState
      Model = UVTechJeep
    End

    ConditionState = REALLYDAMAGED
      Model = UVTechJeep_d
    End
    ConditionState = RUBBLE
      Model = UVTechJeep_d
    End

    OkToChangeModelColor = Yes
    TrackMarks = EXTireTrack.tga
    Dust = TechnicalDust

    ;DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    LeftRearTireBone = Tire03
    RightRearTireBone = Tire04
    TireRotationMultiplier = 0.2        ; this * speed = rotation.
    PowerslideRotationAddition = 2.5    ; This speed is added to the rotation speed when powersliding.
  End

  Draw = W3DModelDraw ModuleTag_02
    OkToChangeModelColor = Yes
    AttachToBoneInAnotherModule = Dum_Turret

    ; ------------------ basic technical ------------------------
    DefaultConditionState
      Model = UITech_SKN
      Turret = Dum-TurManMVR
      TurretArtAngle = 180  ; this turret has art pointed 180 degrees backward
      HideSubObject = 20Cal 50Cal RPG MuzzleFX01 MuzzleFX02 MuzzleFX03
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = MOVING
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ConditionState = TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End
    AliasConditionState = TURRET_ROTATE MOVING
    AliasConditionState = TURRET_ROTATE FIRING_A
    AliasConditionState = TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE RELOADING_A
    AliasConditionState = TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = TURRET_ROTATE MOVING RELOADING_A

    ConditionState = FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = 20Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX01
      WeaponFireFXBone = PRIMARY Muzzle01
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = BETWEEN_FIRING_SHOTS_A
    AliasConditionState = RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = MOVING FIRING_A
    AliasConditionState = MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = MOVING RELOADING_A

    ; ------------------ technical with WEAPONSET_CRATEUPGRADE_ONE ------------------------
    ConditionState = WEAPONSET_CRATEUPGRADE_ONE
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ConditionState = MOVING WEAPONSET_CRATEUPGRADE_ONE
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE TURRET_ROTATE MOVING RELOADING_A

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = 50Cal
      WeaponMuzzleFlash = PRIMARY MuzzleFX02
      WeaponFireFXBone = PRIMARY Muzzle02
      WeaponLaunchBone = PRIMARY Muzzle02
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_ONE MOVING RELOADING_A

    ; ------------------ technical with WEAPONSET_CRATEUPGRADE_TWO ------------------------
    ConditionState = WEAPONSET_CRATEUPGRADE_TWO
      IdleAnimation = UITech_SKL.UITech_STA 0 6
      IdleAnimation = UITech_SKL.UITech_IDA
      IdleAnimation = UITech_SKL.UITech_IDB
      AnimationMode = ONCE
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO RUBBLE MOVING TURRET_ROTATE
      Animation = None
      HideSubObject = UITech-SKN
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ConditionState = MOVING WEAPONSET_CRATEUPGRADE_TWO
      Animation = UITech_SKL.UITech_MVB
      AnimationMode = LOOP
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE
      Animation = UITech_SKL.UITech_TNA
      AnimationMode = LOOP
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE RELOADING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO TURRET_ROTATE MOVING RELOADING_A

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO FIRING_A
      Animation = UITech_SKL.UITech_ATA
      AnimationMode = LOOP
      ShowSubObject = RPG
      WeaponFireFXBone = PRIMARY Muzzle03
      WeaponLaunchBone = PRIMARY Muzzle03
    End

    ; AliasConditionState is a new keyword that says,
    ; "give me another ConditionState exactly like the previous
    ; one, except with different conditions". Useful when you
    ; have several states that are the same with only different condition bits.
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO RELOADING_A

    ; these aliases handle the moving-between-shots case. (we can't actually move-and-fire at the same time.).
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING FIRING_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING BETWEEN_FIRING_SHOTS_A
    AliasConditionState = WEAPONSET_CRATEUPGRADE_TWO MOVING RELOADING_A

  End

 ; Behavior = CreateObjectDie ModuleTag_13
 ;   DeathTypes = NONE +CRUSHED +SPLATTED
 ;   CreationList = OCL_TechnicalJeep_CrushEffect
 ; End

  Geometry = BOX
  GeometryMajorRadius = 14.0
  GeometryMinorRadius = 9.0
  GeometryHeight = 9.5
  GeometryIsSmall = Yes


End


; ----------------------------------------------------------------------------------------------------------------

Object GC_Slth_GLAVehicleBattleBus

  ; *** ART Parameters ***
  SelectPortrait         = SUbattlebus_L
  ButtonImage            = SUbattlebus

  UpgradeCameo1 = Upgrade_GLAJunkRepair


  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes
    TrackMarks = EXTireTrack.tga
    ExtraPublicBone = BUSUP01
    ExtraPublicBone = BUSUP02

    DefaultConditionState
      Model = UVBATTBUS
      HideSubObject = BUSUP01 BUSUP02
      Animation = UVBATTBUS.UVBATTBUS
      AnimationMode = MANUAL
    End
    ConditionState = MOVING
      Model = UVBATTBUS
      Animation = UVBATTBUS.UVBATTBUS
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED
      Model = UVBATTBUS_D
      Animation = UVBATTBUS_D.UVBATTBUS_D
      AnimationMode = MANUAL
    End
    ConditionState = REALLYDAMAGED MOVING
      Model = UVBATTBUS_D
      Animation = UVBATTBUS_D.UVBATTBUS_D
      AnimationMode = LOOP
    End

    ConditionState = SECOND_LIFE ; Set after our first death, natch
      Model = UVBATTBUS_D1
      Animation = UVBATTBUS_D1.UVBATTBUS_D1
      AnimationMode = MANUAL
    End
    AliasConditionState = REALLYDAMAGED SECOND_LIFE
    AliasConditionState = RUBBLE SECOND_LIFE

    ConditionState = RUBBLE
      Model = UVBATTBUS_D
    End

;--------- One crates
    ConditionState = ARMORSET_CRATEUPGRADE_ONE
      Model = UVBATTBUS
      ShowSubObject = BUSUP01
      HideSubObject = BUSUP02
      Animation = UVBATTBUS.UVBATTBUS
      AnimationMode = MANUAL
    End
    ConditionState = MOVING ARMORSET_CRATEUPGRADE_ONE
      Model = UVBATTBUS
      ShowSubObject = BUSUP01
      HideSubObject = BUSUP02
      Animation = UVBATTBUS.UVBATTBUS
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED ARMORSET_CRATEUPGRADE_ONE
      Model = UVBATTBUS_D
      ShowSubObject = BUSUP01
      HideSubObject = BUSUP02
      Animation = UVBATTBUS_D.UVBATTBUS_D
      AnimationMode = MANUAL
    End
    ConditionState = REALLYDAMAGED MOVING ARMORSET_CRATEUPGRADE_ONE
      Model = UVBATTBUS_D
      ShowSubObject = BUSUP01
      HideSubObject = BUSUP02
      Animation = UVBATTBUS_D.UVBATTBUS_D
      AnimationMode = LOOP
    End

    ConditionState = SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
      Model = UVBATTBUS_D1
      ShowSubObject = BUSUP01
      HideSubObject = BUSUP02
      Animation = UVBATTBUS_D1.UVBATTBUS_D1
      AnimationMode = MANUAL
    End
    AliasConditionState = REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE
    AliasConditionState = RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_ONE

    ConditionState = RUBBLE ARMORSET_CRATEUPGRADE_ONE
      Model = UVBATTBUS_D
      ShowSubObject = BUSUP01
      HideSubObject = BUSUP02
    End

;--------- Two crates
    ConditionState = ARMORSET_CRATEUPGRADE_TWO
      Model = UVBATTBUS
      ShowSubObject = BUSUP01 BUSUP02
      Animation = UVBATTBUS.UVBATTBUS
      AnimationMode = MANUAL
    End
    ConditionState = MOVING ARMORSET_CRATEUPGRADE_TWO
      Model = UVBATTBUS
      ShowSubObject = BUSUP01 BUSUP02
      Animation = UVBATTBUS.UVBATTBUS
      AnimationMode = LOOP
    End

    ConditionState = REALLYDAMAGED ARMORSET_CRATEUPGRADE_TWO
      Model = UVBATTBUS_D
      ShowSubObject = BUSUP01 BUSUP02
      Animation = UVBATTBUS_D.UVBATTBUS_D
      AnimationMode = MANUAL
    End
    ConditionState = REALLYDAMAGED MOVING ARMORSET_CRATEUPGRADE_TWO
      Model = UVBATTBUS_D
      ShowSubObject = BUSUP01 BUSUP02
      Animation = UVBATTBUS_D.UVBATTBUS_D
      AnimationMode = LOOP
    End

    ConditionState = SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
      Model = UVBATTBUS_D1
      ShowSubObject = BUSUP01 BUSUP02
      Animation = UVBATTBUS_D1.UVBATTBUS_D1
      AnimationMode = MANUAL
    End
    AliasConditionState = REALLYDAMAGED SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO
    AliasConditionState = RUBBLE SECOND_LIFE ARMORSET_CRATEUPGRADE_TWO

    ConditionState = RUBBLE ARMORSET_CRATEUPGRADE_TWO
      Model = UVBATTBUS_D
      ShowSubObject = BUSUP01 BUSUP02
    End

    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire04
    LeftRearTireBone = Tire02
    RightRearTireBone = Tire03
    TireRotationMultiplier = 0.2   ; this * speed = rotation.

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray
    PowerslideSpray = RocketBuggyDirtPowerSlide

  End
  PlacementViewAngle = 180
  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:BattleBus
  Side = GLAStealthGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 8                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY None
  End
  ArmorSet
    Conditions      = None
    Armor           = BattleBusTruckArmor
    DamageFX        = TruckDamageFX
  End
  ArmorSet
    Conditions      = SECOND_LIFE ; Set after our first death, natch
    Armor           = BattleBusStructureArmorTough
    DamageFX        = StructureDamageFX
  End

  ArmorSet
    Conditions      = CRATE_UPGRADE_ONE
    Armor           = BattleBusTruckArmorPlusOne
    DamageFX        = TruckDamageFX
  End
  ArmorSet
    Conditions      = CRATE_UPGRADE_ONE SECOND_LIFE ; Set after our first death, natch
    Armor           = BattleBusStructureArmorToughPlusOne
    DamageFX        = StructureDamageFX
  End

  ArmorSet
    Conditions      = CRATE_UPGRADE_TWO
    Armor           = BattleBusTruckArmorPlusTwo
    DamageFX        = TruckDamageFX
  End
  ArmorSet
    Conditions      = CRATE_UPGRADE_TWO SECOND_LIFE ; Set after our first death, natch
    Armor           = BattleBusStructureArmorToughPlusTwo
    DamageFX        = StructureDamageFX
  End

  BuildCost       = 1000
  BuildTime       = 15.0          ;in seconds
  VisionRange     = 150 ; Used in attack move targeting
  ShroudClearingRange     = 200
  Prerequisites
    Object = GC_Slth_GLAArmsDealer
    Object = GC_Slth_GLAPalace
  End
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  CommandSet = GC_Slth_GLAVehicleBattleBusCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = BattleBusVoiceSelect
  VoiceMove = BattleBusVoiceMove
  VoiceGuard = BattleBusVoiceMove
  VoiceAttack = BattleBusVoiceAttack
  SoundMoveStart = BattleBusMoveStart
  SoundMoveStartDamaged = BattleBusMoveStart
  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
  VoiceCreate= BattleBusVoiceCreate
  TurretMoveStart               = NoSound
  TurretMoveLoop                = NoSound
  TruckLandingSound             = RocketBuggyLand
  TruckPowerslideSound          = NoSound
  VoiceUnload                   = BattleBusVoiceUnload
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK CAN_CAST_REFLECTIONS VEHICLE SALVAGER ARMOR_SALVAGER SCORE DISGUISER

  Body = UndeadBody ModuleTag_02 ; Body module that treats the first death as a state change
    MaxHealth           = 220.0
    InitialHealth       = 220.0

    SecondLifeMaxHealth = 500.0

    ; Subdual damage "Subdues" you (reaction defined by BodyModule) when it passes your max health.
    ; The cap limits how extra-subdued you can be, and the other numbers detemine how fast it drains away on its own.
    SubdualDamageCap = 600
    SubdualDamageHealRate = 500
    SubdualDamageHealAmount = 50
  End

  IsTrainable = No
  ExperienceValue     = 50 50 50 50  ; Experience point value at each level

  Behavior = AIUpdateInterface ModuleTag_04
    AutoAcquireEnemiesWhenIdle = No ATTACK_BUILDINGS Stealthed
  End

  Behavior = PhysicsBehavior ModuleTag_05
    Mass = 40.0
  End

  Behavior = AutoHealBehavior ModuleTag_06
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Locomotor = SET_NORMAL      BattleBusLocomotor


  Behavior = BattleBusSlowDeathBehavior  ModuleTag_08
    DeathTypes = ALL -CRUSHED -SPLATTED -EXTRA_4
    ProbabilityModifier = 5
    ModifierBonusPerOverkillPercent = 20%  ; negative means less likely to pick this in the face of much damage, positive means more likely

    ; Part the first, uses when killed the first time from non-system (unresistable) damage
    FXStartUndeath = FX_BattleBusStartUndeath
    OCLStartUndeath = OCL_BattleBusStartUndeath
    FXHitGround = FX_BattleBusHitGround
    OCLHitGround = OCL_BattleBusHitGround
    ThrowForce = 100.0
    PercentDamageToPassengers = 50%
    EmptyHulkDestructionDelay = 1000 ; If non-zero, msec of emptiness before we kill ourselves with Penalty damage

    ; Part the second, normal fields of a SlowDeathBehavior
    DestructionDelay = 0
    DestructionDelayVariance = 200
    FX = FINAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_BattleBusDeath
  End

  Behavior = TransportContain  ModuleTag_10
    PassengersAllowedToFire = Yes
    Slots             = 8
    DamagePercentToUnits = 100%
    AllowInsideKindOf  = INFANTRY
    ExitDelay = 250
    NumberOfExitPaths = 5 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
    WeaponBonusPassedToPassengers = Yes
    DelayExitInAir = Yes
  End

  Behavior = SpecialAbility ModuleTag_11
    SpecialPowerTemplate = SpecialAbilityDisguiseAsVehicle
    UpdateModuleStartsAttack = Yes
    InitiateSound = BombTruckVoiceDisguise
  End
  Behavior = SpecialAbilityUpdate ModuleTag_12
    SpecialPowerTemplate = SpecialAbilityDisguiseAsVehicle
    StartAbilityRange = 1000000.0
    ApproachRequiresLOS = No
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_23
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_24
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_CrusaderTank_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_25
    CrateData = SalvageCrateData
  End

  Behavior = FlammableUpdate ModuleTag_28
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior = DestroyDie ModuleTag_29
    DeathTypes = NONE +CRUSHED +SPLATTED
  End

  Behavior = SlowDeathBehavior ModuleTag_30 // Empty Hulk sinking away
    DeathTypes = NONE +EXTRA_4

    SinkDelay = 1
    SinkRate = 2.5
    DestructionDelay = 5000
  End

  Geometry = BOX
  GeometryMajorRadius = 19.0
  GeometryMinorRadius = 8.0
  GeometryHeight = 11.5
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


































;------------------------------------------------------------------------------
;GLA Combat Bike
Object GC_Slth_GLAVehicleCombatBike

  ; *** ART Parameters ***
  SelectPortrait         = SUComBike_L
  ButtonImage            = SUComBike

  UpgradeCameo1 = Upgrade_GLAJunkRepair
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE


  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;Normal Bike
    ;------------------------------
    DefaultConditionState
      Model = UVComBike
      WeaponFireFXBone    = PRIMARY Muzzle_B
      WeaponLaunchBone    = PRIMARY RocketFX03
      WeaponMuzzleFlash   = PRIMARY MuzzleFX_B
      ParticleSysBone     = SMOKE CombatBikeSmokeLight
    End
    AliasConditionState RIDER1
    AliasConditionState RIDER1 MOVING
    AliasConditionState RIDER5
    AliasConditionState RIDER5 MOVING
    AliasConditionState RIDER6
    AliasConditionState RIDER6 MOVING
    AliasConditionState RIDER7
    AliasConditionState RIDER7 MOVING
    ConditionState = REALLYDAMAGED
      Model = UVComBike_d
    End
    AliasConditionState RIDER1 REALLYDAMAGED
    AliasConditionState RIDER1 MOVING REALLYDAMAGED
    AliasConditionState RIDER5 REALLYDAMAGED
    AliasConditionState RIDER5 MOVING REALLYDAMAGED
    AliasConditionState RIDER6 REALLYDAMAGED
    AliasConditionState RIDER6 MOVING REALLYDAMAGED
    AliasConditionState RIDER7 REALLYDAMAGED
    AliasConditionState RIDER7 MOVING REALLYDAMAGED

    ConditionState = TOPPLED
      Model = UVComBike_F
      Animation           = UVComBike_F.UVComBike_F
      AnimationMode       = ONCE
    End
    ConditionState = TOPPLED REALLYDAMAGED
      Model = UVComBike_dF
      Animation           = UVComBike_DF.UVComBike_DF
      AnimationMode       = ONCE
    End

    ConditionState = RIDER1 MOVING CENTER_TO_LEFT
      Model = UVComBike_A1
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING CENTER_TO_LEFT
    AliasConditionState RIDER6 MOVING CENTER_TO_LEFT
    AliasConditionState RIDER7 MOVING CENTER_TO_LEFT
    ConditionState = RIDER1 MOVING CENTER_TO_LEFT REALLYDAMAGED
      Model = UVComBike_A1d
      Animation           = UVComBike_A1D.UVComBike_A1D
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING CENTER_TO_LEFT REALLYDAMAGED
    AliasConditionState RIDER6 MOVING CENTER_TO_LEFT REALLYDAMAGED
    AliasConditionState RIDER7 MOVING CENTER_TO_LEFT REALLYDAMAGED

    ConditionState = RIDER1 MOVING LEFT_TO_CENTER
      Model = UVComBike_A1
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING LEFT_TO_CENTER
    AliasConditionState RIDER6 MOVING LEFT_TO_CENTER
    AliasConditionState RIDER7 MOVING LEFT_TO_CENTER
    ConditionState = RIDER1 MOVING LEFT_TO_CENTER REALLYDAMAGED
      Model = UVComBike_A1d
      Animation           = UVComBike_A1D.UVComBike_A1D
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING LEFT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER6 MOVING LEFT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER7 MOVING LEFT_TO_CENTER REALLYDAMAGED

    ConditionState = RIDER1 MOVING CENTER_TO_RIGHT
      Model = UVComBike_A2
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState  RIDER5 MOVING CENTER_TO_RIGHT
    AliasConditionState  RIDER6 MOVING CENTER_TO_RIGHT
    AliasConditionState  RIDER7 MOVING CENTER_TO_RIGHT
    ConditionState = RIDER1 MOVING CENTER_TO_RIGHT REALLYDAMAGED
      Model = UVComBike_A2d
      Animation           = UVComBike_A2D.UVComBike_A2D
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState  RIDER5 MOVING CENTER_TO_RIGHT REALLYDAMAGED
    AliasConditionState  RIDER6 MOVING CENTER_TO_RIGHT REALLYDAMAGED
    AliasConditionState  RIDER7 MOVING CENTER_TO_RIGHT REALLYDAMAGED

    ConditionState = RIDER1 MOVING RIGHT_TO_CENTER
      Model = UVComBike_A2
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING RIGHT_TO_CENTER
    AliasConditionState RIDER6 MOVING RIGHT_TO_CENTER
    AliasConditionState RIDER7 MOVING RIGHT_TO_CENTER
    ConditionState = RIDER1 MOVING RIGHT_TO_CENTER REALLYDAMAGED
      Model = UVComBike_A2d
      Animation           = UVComBike_A2D.UVComBike_A2D
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING RIGHT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER6 MOVING RIGHT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER7 MOVING RIGHT_TO_CENTER REALLYDAMAGED


    ;Gun Bike
    ;------------------------------
    ConditionState = RIDER2
      Model = UVComBikeG
    End
    AliasConditionState RIDER2 MOVING
    AliasConditionState RIDER4
    AliasConditionState RIDER4 MOVING
    ConditionState = RIDER2 REALLYDAMAGED
      Model = UVComBikeG_d
    End
    AliasConditionState RIDER2 MOVING REALLYDAMAGED
    AliasConditionState RIDER4 REALLYDAMAGED
    AliasConditionState RIDER4 MOVING REALLYDAMAGED

    ConditionState = RIDER2 MOVING CENTER_TO_LEFT
      Model = UVComBikeG
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_LEFT
    ConditionState = RIDER2 MOVING CENTER_TO_LEFT REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_LEFT REALLYDAMAGED

    ConditionState = RIDER2 MOVING LEFT_TO_CENTER
      Model = UVComBikeG
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING LEFT_TO_CENTER
    ConditionState = RIDER2 MOVING LEFT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING LEFT_TO_CENTER REALLYDAMAGED

    ConditionState = RIDER2 MOVING CENTER_TO_RIGHT
      Model = UVComBikeG
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_RIGHT
    ConditionState = RIDER2 MOVING CENTER_TO_RIGHT REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_RIGHT REALLYDAMAGED

    ConditionState = RIDER2 MOVING RIGHT_TO_CENTER
      Model = UVComBikeG
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING RIGHT_TO_CENTER
    ConditionState = RIDER2 MOVING RIGHT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING RIGHT_TO_CENTER REALLYDAMAGED

    ;Missile Bike
    ;------------------------------
    ConditionState = RIDER3
      Model = UVComBikeTN
    End
    AliasConditionState RIDER3 MOVING
    ConditionState = RIDER3 REALLYDAMAGED
      Model = UVComBikeTN_d
    End
    AliasConditionState RIDER3 MOVING REALLYDAMAGED

    ConditionState = RIDER3 MOVING CENTER_TO_LEFT
      Model = UVComBikeTN_A1
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING CENTER_TO_LEFT REALLYDAMAGED
      Model = UVComBikeTN_A1d
      Animation           = UVComBikeTN_A1D.UVComBikeTN_A1D
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    ConditionState = RIDER3 MOVING LEFT_TO_CENTER
      Model = UVComBikeTN_A1
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING LEFT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeTN_A1d
      Animation           = UVComBikeTN_A1D.UVComBikeTN_A1D
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    ConditionState = RIDER3 MOVING CENTER_TO_RIGHT
      Model = UVComBikeTN_A2
      Animation           = UVComBikeTN_A2D.UVComBikeTN_A2D
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING CENTER_TO_RIGHT REALLYDAMAGED
      Model = UVComBikeTN_A2d
      Animation           = UVComBikeTN_A2D.UVComBikeTN_A2D
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    ConditionState = RIDER3 MOVING RIGHT_TO_CENTER
      Model = UVComBikeTN_A2
      Animation           = UVComBikeTN_A2.UVComBikeTN_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING RIGHT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeTN_A2d
      Animation           = UVComBikeTN_A2D.UVComBikeTN_A2D
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    TrackMarks = EXTireTrack03.tga

    Dust                        = CombatBikeDust
    DirtSpray                   = CombatBikeDirtSpray
    PowerslideSpray             = CombatBikeDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire01
    LeftRearTireBone            = Tire00
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5   ; This speed is added to the rotation speed when powersliding.

  End

  Draw = W3DModelDraw ModuleTag_Rider01
    OkToChangeModelColor = Yes

    DefaultConditionState
      ;**************************************************
      ;*** Must have a default model in order to see
      ;*** house color!!!
      ;**************************************************
      Model = UIWrkr_SKN
      ;WeaponFireFXBone    = PRIMARY Muzzle
      ;WeaponLaunchBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    AliasConditionState MOVING

    ;Worker animations
    ;-----------------------
    ConditionState = RIDER1
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER1 MOVING
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER1 MOVING CENTER_TO_LEFT
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER1 MOVING LEFT_TO_CENTER
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER1 MOVING CENTER_TO_RIGHT
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER1 MOVING RIGHT_TO_CENTER
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End


    ;Rebel animations
    ;-----------------------
    ConditionState = RIDER2
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER2 MOVING
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER2 MOVING CENTER_TO_LEFT
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER2 MOVING LEFT_TO_CENTER
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER2 MOVING CENTER_TO_RIGHT
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER2 MOVING RIGHT_TO_CENTER
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;RPG Trooper animations
    ;-----------------------
    ConditionState = RIDER3
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER3 MOVING
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER3 MOVING CENTER_TO_LEFT
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER3 MOVING LEFT_TO_CENTER
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER3 MOVING CENTER_TO_RIGHT
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER3 MOVING RIGHT_TO_CENTER
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Jarmen Kell animations
    ;-----------------------
    ConditionState = RIDER4
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER4 MOVING
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER4 MOVING CENTER_TO_LEFT
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER4 MOVING LEFT_TO_CENTER
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER4 MOVING CENTER_TO_RIGHT
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER4 MOVING RIGHT_TO_CENTER
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Terrorist animations
    ;-----------------------
    ConditionState = RIDER5
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER5 MOVING
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER5 MOVING CENTER_TO_LEFT
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER5 MOVING LEFT_TO_CENTER
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER5 MOVING CENTER_TO_RIGHT
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER5 MOVING RIGHT_TO_CENTER
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Hijacker animations
    ;-----------------------
    ConditionState = RIDER6
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER6 MOVING
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER6 MOVING CENTER_TO_LEFT
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER6 MOVING LEFT_TO_CENTER
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER6 MOVING CENTER_TO_RIGHT
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER6 MOVING RIGHT_TO_CENTER
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Saboteur animations
    ;-----------------------
    ConditionState = RIDER7
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER7 MOVING
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER7 MOVING CENTER_TO_LEFT
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER7 MOVING LEFT_TO_CENTER
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER7 MOVING CENTER_TO_RIGHT
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER7 MOVING RIGHT_TO_CENTER
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ConditionState = TOPPLED
      Model = None
    End
    AliasConditionState TOPPLED MOVING
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CombatBike
  Side                = GLAStealthGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY NONE
  End
  WeaponSet
    Conditions = WEAPON_RIDER2
    Weapon = PRIMARY GLARebelBikerMachineGun
  End
  WeaponSet
    Conditions = WEAPON_RIDER3
    Weapon = PRIMARY TunnelDefenderBikerRocketWeapon
  End
  WeaponSet
    Conditions = WEAPON_RIDER4
    Weapon = PRIMARY GLABikerKellSniperRifle
    Weapon = SECONDARY GLAJarmenKellVehiclePilotSniperRifle
    AutoChooseSources = SECONDARY NONE
  End
  WeaponSet
    ;Kill himself so we can use FireWeaponWhenDead to fire the real weapon -- and use UNRESISTABLE
    ;damage to do ini logic for type of death to play -- unresistable for success.
    Conditions = WEAPON_RIDER5
    Weapon = PRIMARY TerroristSuicideWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 500
  BuildTime       = 8.0          ;in seconds
  VisionRange     = 180
  ShroudClearingRange = 300
  Prerequisites
    Object = GC_Slth_GLAArmsDealer
    Object = GC_Slth_GLAPalace
  End

  ExperienceValue       = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired    = 0 200 400 800  ;Experience points needed to gain each level
  IsTrainable           = Yes             ;Can gain experience
  ;CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ;CommandSet            = GLAVehicleCombatBikeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RocketBuggyVoiceSelect
  ;VoiceMove = RocketBuggyVoiceMove
  VoiceAttack = RocketBuggyVoiceAttack
  SoundMoveStart = CombatBikeMoveStart
  SoundMoveStartDamaged = CombatBikeMoveStart
  VoiceGuard = RocketBuggyVoiceMove


  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = RocketBuggyVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = CombatBikeMoveStart
    VoiceCrush      = RocketBuggyVoiceCrush
    VoiceEnter = RocketBuggyVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE CLIFF_JUMPER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100
    InitialHealth   = 100
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 0       ; turn rate, in degrees per sec
      NaturalTurretAngle = 0
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = No
  End
  Locomotor = SET_NORMAL CombatBikeGroundLocomotor CombatBikeCliffLocomotor
  Locomotor = SET_SLUGGISH CombatBikeTerroristGroundLocomotor CombatBikeTerroristCliffLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 15.0
  End

  Behavior = SlowDeathBehavior DeathTag_04
    ExemptStatus = STATUS_RIDER1 STATUS_RIDER2 STATUS_RIDER3 STATUS_RIDER4 STATUS_RIDER5 STATUS_RIDER6 STATUS_RIDER7
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_05
    RequiredStatus = STATUS_RIDER1
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_WorkerFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_06
    RequiredStatus = STATUS_RIDER2
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_RebelFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_07
    RequiredStatus = STATUS_RIDER3
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_TunnelDefenderFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_08
    RequiredStatus = STATUS_RIDER4
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_JarmenKellFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_09
    RequiredStatus = STATUS_RIDER5
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_TerroristFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_10
    RequiredStatus = STATUS_RIDER6
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_HijackerFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End

  Behavior = AutoHealBehavior ModuleTag_08
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = WeaponSetUpgrade ModuleTag_09
    TriggeredBy = Upgrade_GLABuggyAmmo
  End

  ;Create the hulk after the toppling is complete (not killed until topple anim finished).
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +TOPPLED
    CreationList = OCL_CombatBike_ToppledHulk
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED +TOPPLED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_RocketBuggy_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_14
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior                 = TransitionDamageFX ModuleTag_15
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = RiderChangeContain ModuleTag_16
    ;A list of each valid rider that is allowed to ride this object. Each rider is
    ;assigned a modelcondition state, a weaponset flag, an object status bit, and
    ;a commandset override. The actual object is hidden inside the container so the
    ;visible rider is fluff. Also riders are deleted (not killed) when the bike is
    ;destroyed, so all deaths must be OCLs on the bike.
    Rider1 = GC_Slth_GLAInfantryWorker         RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider2 = GC_Slth_GLAInfantryRebel          RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider3 = GC_Slth_GLAInfantryTunnelDefender RIDER3 WEAPON_RIDER3 STATUS_RIDER3 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider4 = GC_Slth_GLAInfantryJarmenKell     RIDER4 WEAPON_RIDER4 STATUS_RIDER4 GLAVehicleCombatBikeJarmenKellCommandSet SET_NORMAL
    Rider5 = GC_Slth_GLAInfantryTerrorist      RIDER5 WEAPON_RIDER5 STATUS_RIDER5 GLAVehicleCombatBikeDefaultCommandSet SET_SLUGGISH
    Rider6 = GC_Slth_GLAInfantryHijacker       RIDER6 WEAPON_RIDER6 STATUS_RIDER6 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider7 = GLAInfantrySaboteur               RIDER7 WEAPON_RIDER7 STATUS_RIDER7 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    ScuttleDelay          = 1500
    ScuttleStatus         = TOPPLED

    ;Standard TransportContain stuff
    Slots                 = 1
    InitialPayload        = GC_Slth_GLAInfantryRebel 1
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 0
    DamagePercentToUnits  = 100%  ; This module will Delete the rider on death, but we need to kill him as well so he doesn't pick up the bike's salvage crate.
    BurnedDeathToUnits    = No    ; And no Burned death.
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = AnimationSteeringUpdate ModuleTag_17
    MinTransitionTime = 300
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_Death18
    RequiredStatus  = STATUS_RIDER5
    DeathWeapon     = SuicideBikeBomb
    StartsActive    = Yes
    DeathTypes      = NONE +SUICIDED +CRUSHED +SPLATTED +LASERED +BURNED +EXPLODED
  End

  Behavior = StealthUpdate ModuleTag_19
    ;UseRiderStealth             = Yes
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 11.0
  GeometryMinorRadius = 2.5
  GeometryHeight = 7.5
  GeometryIsSmall = Yes

  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
;GLA Combat Bike Rocket
Object GC_Slth_GLAVehicleCombatBikeRocket

  ; *** ART Parameters ***
  SelectPortrait         = SUComBike_L
  ButtonImage            = SUComBike

  UpgradeCameo1 = Upgrade_GLAJunkRepair
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE


  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;Normal Bike
    ;------------------------------
    DefaultConditionState
      Model = UVComBike
      WeaponFireFXBone    = PRIMARY Muzzle_B
      WeaponLaunchBone    = PRIMARY RocketFX03
      WeaponMuzzleFlash   = PRIMARY MuzzleFX_B
      ParticleSysBone     = SMOKE CombatBikeSmokeLight
    End
    AliasConditionState RIDER1
    AliasConditionState RIDER1 MOVING
    AliasConditionState RIDER5
    AliasConditionState RIDER5 MOVING
    AliasConditionState RIDER6
    AliasConditionState RIDER6 MOVING
    AliasConditionState RIDER7
    AliasConditionState RIDER7 MOVING
    ConditionState = REALLYDAMAGED
      Model = UVComBike_d
    End
    AliasConditionState RIDER1 REALLYDAMAGED
    AliasConditionState RIDER1 MOVING REALLYDAMAGED
    AliasConditionState RIDER5 REALLYDAMAGED
    AliasConditionState RIDER5 MOVING REALLYDAMAGED
    AliasConditionState RIDER6 REALLYDAMAGED
    AliasConditionState RIDER6 MOVING REALLYDAMAGED
    AliasConditionState RIDER7 REALLYDAMAGED
    AliasConditionState RIDER7 MOVING REALLYDAMAGED

    ConditionState = TOPPLED
      Model = UVComBike
      Animation           = UVComBike_F.UVComBike_F
      AnimationMode       = ONCE
    End
    ConditionState = TOPPLED REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_F.UVComBike_F
      AnimationMode       = ONCE
    End

    ConditionState = RIDER1 MOVING CENTER_TO_LEFT
      Model = UVComBike
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING CENTER_TO_LEFT
    AliasConditionState RIDER6 MOVING CENTER_TO_LEFT
    AliasConditionState RIDER7 MOVING CENTER_TO_LEFT
    ConditionState = RIDER1 MOVING CENTER_TO_LEFT REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING CENTER_TO_LEFT REALLYDAMAGED
    AliasConditionState RIDER6 MOVING CENTER_TO_LEFT REALLYDAMAGED
    AliasConditionState RIDER7 MOVING CENTER_TO_LEFT REALLYDAMAGED

    ConditionState = RIDER1 MOVING LEFT_TO_CENTER
      Model = UVComBike
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING LEFT_TO_CENTER
    AliasConditionState RIDER6 MOVING LEFT_TO_CENTER
    AliasConditionState RIDER7 MOVING LEFT_TO_CENTER
    ConditionState = RIDER1 MOVING LEFT_TO_CENTER REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING LEFT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER6 MOVING LEFT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER7 MOVING LEFT_TO_CENTER REALLYDAMAGED

    ConditionState = RIDER1 MOVING CENTER_TO_RIGHT
      Model = UVComBike
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState  RIDER5 MOVING CENTER_TO_RIGHT
    AliasConditionState  RIDER6 MOVING CENTER_TO_RIGHT
    AliasConditionState  RIDER7 MOVING CENTER_TO_RIGHT
    ConditionState = RIDER1 MOVING CENTER_TO_RIGHT REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState  RIDER5 MOVING CENTER_TO_RIGHT REALLYDAMAGED
    AliasConditionState  RIDER6 MOVING CENTER_TO_RIGHT REALLYDAMAGED
    AliasConditionState  RIDER7 MOVING CENTER_TO_RIGHT REALLYDAMAGED

    ConditionState = RIDER1 MOVING RIGHT_TO_CENTER
      Model = UVComBike
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING RIGHT_TO_CENTER
    AliasConditionState RIDER6 MOVING RIGHT_TO_CENTER
    AliasConditionState RIDER7 MOVING RIGHT_TO_CENTER
    ConditionState = RIDER1 MOVING RIGHT_TO_CENTER REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING RIGHT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER6 MOVING RIGHT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER7 MOVING RIGHT_TO_CENTER REALLYDAMAGED


    ;Gun Bike
    ;------------------------------
    ConditionState = RIDER2
      Model = UVComBikeG
    End
    AliasConditionState RIDER2 MOVING
    AliasConditionState RIDER4
    AliasConditionState RIDER4 MOVING
    ConditionState = RIDER2 REALLYDAMAGED
      Model = UVComBikeG_d
    End
    AliasConditionState RIDER2 MOVING REALLYDAMAGED
    AliasConditionState RIDER4 REALLYDAMAGED
    AliasConditionState RIDER4 MOVING REALLYDAMAGED

    ConditionState = RIDER2 MOVING CENTER_TO_LEFT
      Model = UVComBikeG
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_LEFT
    ConditionState = RIDER2 MOVING CENTER_TO_LEFT REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_LEFT REALLYDAMAGED

    ConditionState = RIDER2 MOVING LEFT_TO_CENTER
      Model = UVComBikeG
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING LEFT_TO_CENTER
    ConditionState = RIDER2 MOVING LEFT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING LEFT_TO_CENTER REALLYDAMAGED

    ConditionState = RIDER2 MOVING CENTER_TO_RIGHT
      Model = UVComBikeG
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_RIGHT
    ConditionState = RIDER2 MOVING CENTER_TO_RIGHT REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_RIGHT REALLYDAMAGED

    ConditionState = RIDER2 MOVING RIGHT_TO_CENTER
      Model = UVComBikeG
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING RIGHT_TO_CENTER
    ConditionState = RIDER2 MOVING RIGHT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING RIGHT_TO_CENTER REALLYDAMAGED

    ;Missile Bike
    ;------------------------------
    ConditionState = RIDER3
      Model = UVComBikeTN
    End
    AliasConditionState RIDER3 MOVING
    ConditionState = RIDER3 REALLYDAMAGED
      Model = UVComBikeTN_d
    End
    AliasConditionState RIDER3 MOVING REALLYDAMAGED

    ConditionState = RIDER3 MOVING CENTER_TO_LEFT
      Model = UVComBikeTN
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING CENTER_TO_LEFT REALLYDAMAGED
      Model = UVComBikeTN_d
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    ConditionState = RIDER3 MOVING LEFT_TO_CENTER
      Model = UVComBikeTN
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING LEFT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeTN_d
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    ConditionState = RIDER3 MOVING CENTER_TO_RIGHT
      Model = UVComBikeTN
      Animation           = UVComBikeTN_A2.UVComBikeTN_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING CENTER_TO_RIGHT REALLYDAMAGED
      Model = UVComBikeTN_d
      Animation           = UVComBikeTN_A2.UVComBikeTN_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    ConditionState = RIDER3 MOVING RIGHT_TO_CENTER
      Model = UVComBikeTN
      Animation           = UVComBikeTN_A2.UVComBikeTN_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING RIGHT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeTN_d
      Animation           = UVComBikeTN_A2.UVComBikeTN_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    TrackMarks = EXTireTrack03.tga

    Dust                        = CombatBikeDust
    DirtSpray                   = CombatBikeDirtSpray
    PowerslideSpray             = CombatBikeDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire01
    LeftRearTireBone            = Tire00
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5   ; This speed is added to the rotation speed when powersliding.

  End

  Draw = W3DModelDraw ModuleTag_Rider01
    OkToChangeModelColor = Yes

    DefaultConditionState
      ;**************************************************
      ;*** Must have a default model in order to see
      ;*** house color!!!
      ;**************************************************
      Model = UIWrkr_SKN
      ;WeaponFireFXBone    = PRIMARY Muzzle
      ;WeaponLaunchBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    AliasConditionState MOVING

    ;Worker animations
    ;-----------------------
    ConditionState = RIDER1
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER1 MOVING
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER1 MOVING CENTER_TO_LEFT
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER1 MOVING LEFT_TO_CENTER
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER1 MOVING CENTER_TO_RIGHT
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER1 MOVING RIGHT_TO_CENTER
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End


    ;Rebel animations
    ;-----------------------
    ConditionState = RIDER2
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER2 MOVING
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER2 MOVING CENTER_TO_LEFT
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER2 MOVING LEFT_TO_CENTER
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER2 MOVING CENTER_TO_RIGHT
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER2 MOVING RIGHT_TO_CENTER
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;RPG Trooper animations
    ;-----------------------
    ConditionState = RIDER3
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER3 MOVING
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER3 MOVING CENTER_TO_LEFT
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER3 MOVING LEFT_TO_CENTER
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER3 MOVING CENTER_TO_RIGHT
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER3 MOVING RIGHT_TO_CENTER
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Jarmen Kell animations
    ;-----------------------
    ConditionState = RIDER4
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER4 MOVING
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER4 MOVING CENTER_TO_LEFT
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER4 MOVING LEFT_TO_CENTER
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER4 MOVING CENTER_TO_RIGHT
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER4 MOVING RIGHT_TO_CENTER
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Terrorist animations
    ;-----------------------
    ConditionState = RIDER5
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER5 MOVING
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER5 MOVING CENTER_TO_LEFT
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER5 MOVING LEFT_TO_CENTER
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER5 MOVING CENTER_TO_RIGHT
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER5 MOVING RIGHT_TO_CENTER
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Hijacker animations
    ;-----------------------
    ConditionState = RIDER6
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER6 MOVING
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER6 MOVING CENTER_TO_LEFT
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER6 MOVING LEFT_TO_CENTER
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER6 MOVING CENTER_TO_RIGHT
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER6 MOVING RIGHT_TO_CENTER
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Saboteur animations
    ;-----------------------
    ConditionState = RIDER7
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER7 MOVING
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER7 MOVING CENTER_TO_LEFT
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER7 MOVING LEFT_TO_CENTER
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER7 MOVING CENTER_TO_RIGHT
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER7 MOVING RIGHT_TO_CENTER
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ConditionState = TOPPLED
      Model = None
    End
    AliasConditionState TOPPLED MOVING
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CombatBike
  Side                = GLAStealthGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY NONE
  End
  WeaponSet
    Conditions = WEAPON_RIDER2
    Weapon = PRIMARY GLARebelBikerMachineGun
  End
  WeaponSet
    Conditions = WEAPON_RIDER3
    Weapon = PRIMARY TunnelDefenderBikerRocketWeapon
  End
  WeaponSet
    Conditions = WEAPON_RIDER4
    Weapon = PRIMARY GLABikerKellSniperRifle
    Weapon = SECONDARY GLAJarmenKellVehiclePilotSniperRifle
    AutoChooseSources = SECONDARY NONE
  End
  WeaponSet
    ;Kill himself so we can use FireWeaponWhenDead to fire the real weapon -- and use UNRESISTABLE
    ;damage to do ini logic for type of death to play -- unresistable for success.
    Conditions = WEAPON_RIDER5
    Weapon = PRIMARY TerroristSuicideWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 500
  BuildTime       = 8.0          ;in seconds
  VisionRange     = 180
  ShroudClearingRange = 300
  Prerequisites
    Object = GC_Slth_GLAArmsDealer
    Object = GC_Slth_GLAPalace
  End

  ExperienceValue       = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired    = 0 200 400 800  ;Experience points needed to gain each level
  IsTrainable           = Yes             ;Can gain experience
  ;CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ;CommandSet            = GLAVehicleCombatBikeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RocketBuggyVoiceSelect
  ;VoiceMove = RocketBuggyVoiceMove
  VoiceAttack = RocketBuggyVoiceAttack
  SoundMoveStart = CombatBikeMoveStart
  SoundMoveStartDamaged = CombatBikeMoveStart
  VoiceGuard = RocketBuggyVoiceMove


  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = RocketBuggyVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = CombatBikeMoveStart
    VoiceCrush      = RocketBuggyVoiceCrush
    VoiceEnter = RocketBuggyVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE CLIFF_JUMPER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100
    InitialHealth   = 100
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 0       ; turn rate, in degrees per sec
      NaturalTurretAngle = 0
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = No
  End
  Locomotor = SET_NORMAL CombatBikeGroundLocomotor CombatBikeCliffLocomotor
  Locomotor = SET_SLUGGISH CombatBikeTerroristGroundLocomotor CombatBikeTerroristCliffLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 15.0
  End

  Behavior = SlowDeathBehavior DeathTag_04
    ExemptStatus = STATUS_RIDER1 STATUS_RIDER2 STATUS_RIDER3 STATUS_RIDER4 STATUS_RIDER5 STATUS_RIDER6 STATUS_RIDER7
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_05
    RequiredStatus = STATUS_RIDER1
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_WorkerFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_06
    RequiredStatus = STATUS_RIDER2
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_RebelFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_07
    RequiredStatus = STATUS_RIDER3
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_TunnelDefenderFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_08
    RequiredStatus = STATUS_RIDER4
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_JarmenKellFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_09
    RequiredStatus = STATUS_RIDER5
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_TerroristFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_10
    RequiredStatus = STATUS_RIDER6
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_HijackerFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End

  Behavior = AutoHealBehavior ModuleTag_08
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = WeaponSetUpgrade ModuleTag_09
    TriggeredBy = Upgrade_GLABuggyAmmo
  End

  ;Create the hulk after the toppling is complete (not killed until topple anim finished).
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +TOPPLED
    CreationList = OCL_CombatBike_ToppledHulk
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED +TOPPLED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_RocketBuggy_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_14
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior                 = TransitionDamageFX ModuleTag_15
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = RiderChangeContain ModuleTag_16
    ;A list of each valid rider that is allowed to ride this object. Each rider is
    ;assigned a modelcondition state, a weaponset flag, an object status bit, and
    ;a commandset override. The actual object is hidden inside the container so the
    ;visible rider is fluff. Also riders are deleted (not killed) when the bike is
    ;destroyed, so all deaths must be OCLs on the bike.
    Rider1 = GC_Slth_GLAInfantryWorker         RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider2 = GC_Slth_GLAInfantryRebel          RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider3 = GC_Slth_GLAInfantryTunnelDefender RIDER3 WEAPON_RIDER3 STATUS_RIDER3 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider4 = GC_Slth_GLAInfantryJarmenKell     RIDER4 WEAPON_RIDER4 STATUS_RIDER4 GLAVehicleCombatBikeJarmenKellCommandSet SET_NORMAL
    Rider5 = GC_Slth_GLAInfantryTerrorist      RIDER5 WEAPON_RIDER5 STATUS_RIDER5 GLAVehicleCombatBikeDefaultCommandSet SET_SLUGGISH
    Rider6 = GC_Slth_GLAInfantryHijacker       RIDER6 WEAPON_RIDER6 STATUS_RIDER6 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider7 = GLAInfantrySaboteur               RIDER7 WEAPON_RIDER7 STATUS_RIDER7 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    ScuttleDelay          = 1500
    ScuttleStatus         = TOPPLED

    ;Standard TransportContain stuff
    Slots                 = 1
    InitialPayload        = GC_Slth_GLAInfantryTunnelDefender 1
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 0
    DamagePercentToUnits  = 100%  ; This module will Delete the rider on death, but we need to kill him as well so he doesn't pick up the bike's salvage crate.
    BurnedDeathToUnits    = No    ; And no Burned death.
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = AnimationSteeringUpdate ModuleTag_17
    MinTransitionTime = 300
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_Death18
    RequiredStatus  = STATUS_RIDER5
    DeathWeapon     = SuicideBikeBomb
    StartsActive    = Yes
    DeathTypes      = NONE +SUICIDED +CRUSHED +SPLATTED +LASERED +BURNED +EXPLODED
  End

  Behavior = StealthUpdate ModuleTag_19
    ;UseRiderStealth             = Yes
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 11.0
  GeometryMinorRadius = 2.5
  GeometryHeight = 7.5
  GeometryIsSmall = Yes

  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


;------------------------------------------------------------------------------
;GLA Combat Bike Terrorist
Object GC_Slth_GLAVehicleCombatBikeTerrorist

  ; *** ART Parameters ***
  SelectPortrait         = SUComBike_L
  ButtonImage            = SUComBike

  UpgradeCameo1 = Upgrade_GLAJunkRepair
  ;UpgradeCameo2 = NONE
  ;UpgradeCameo3 = NONE
  ;UpgradeCameo4 = NONE
  ;UpgradeCameo5 = NONE


  Draw = W3DTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ;Normal Bike
    ;------------------------------
    DefaultConditionState
      Model = UVComBike
      WeaponFireFXBone    = PRIMARY Muzzle_B
      WeaponLaunchBone    = PRIMARY RocketFX03
      WeaponMuzzleFlash   = PRIMARY MuzzleFX_B
      ParticleSysBone     = SMOKE CombatBikeSmokeLight
    End
    AliasConditionState RIDER1
    AliasConditionState RIDER1 MOVING
    AliasConditionState RIDER5
    AliasConditionState RIDER5 MOVING
    AliasConditionState RIDER6
    AliasConditionState RIDER6 MOVING
    AliasConditionState RIDER7
    AliasConditionState RIDER7 MOVING
    ConditionState = REALLYDAMAGED
      Model = UVComBike_d
    End
    AliasConditionState RIDER1 REALLYDAMAGED
    AliasConditionState RIDER1 MOVING REALLYDAMAGED
    AliasConditionState RIDER5 REALLYDAMAGED
    AliasConditionState RIDER5 MOVING REALLYDAMAGED
    AliasConditionState RIDER6 REALLYDAMAGED
    AliasConditionState RIDER6 MOVING REALLYDAMAGED
    AliasConditionState RIDER7 REALLYDAMAGED
    AliasConditionState RIDER7 MOVING REALLYDAMAGED

    ConditionState = TOPPLED
      Model = UVComBike
      Animation           = UVComBike_F.UVComBike_F
      AnimationMode       = ONCE
    End
    ConditionState = TOPPLED REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_F.UVComBike_F
      AnimationMode       = ONCE
    End

    ConditionState = RIDER1 MOVING CENTER_TO_LEFT
      Model = UVComBike
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING CENTER_TO_LEFT
    AliasConditionState RIDER6 MOVING CENTER_TO_LEFT
    AliasConditionState RIDER7 MOVING CENTER_TO_LEFT
    ConditionState = RIDER1 MOVING CENTER_TO_LEFT REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING CENTER_TO_LEFT REALLYDAMAGED
    AliasConditionState RIDER6 MOVING CENTER_TO_LEFT REALLYDAMAGED
    AliasConditionState RIDER7 MOVING CENTER_TO_LEFT REALLYDAMAGED

    ConditionState = RIDER1 MOVING LEFT_TO_CENTER
      Model = UVComBike
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING LEFT_TO_CENTER
    AliasConditionState RIDER6 MOVING LEFT_TO_CENTER
    AliasConditionState RIDER7 MOVING LEFT_TO_CENTER
    ConditionState = RIDER1 MOVING LEFT_TO_CENTER REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_A1.UVComBike_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING LEFT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER6 MOVING LEFT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER7 MOVING LEFT_TO_CENTER REALLYDAMAGED

    ConditionState = RIDER1 MOVING CENTER_TO_RIGHT
      Model = UVComBike
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState  RIDER5 MOVING CENTER_TO_RIGHT
    AliasConditionState  RIDER6 MOVING CENTER_TO_RIGHT
    AliasConditionState  RIDER7 MOVING CENTER_TO_RIGHT
    ConditionState = RIDER1 MOVING CENTER_TO_RIGHT REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState  RIDER5 MOVING CENTER_TO_RIGHT REALLYDAMAGED
    AliasConditionState  RIDER6 MOVING CENTER_TO_RIGHT REALLYDAMAGED
    AliasConditionState  RIDER7 MOVING CENTER_TO_RIGHT REALLYDAMAGED

    ConditionState = RIDER1 MOVING RIGHT_TO_CENTER
      Model = UVComBike
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING RIGHT_TO_CENTER
    AliasConditionState RIDER6 MOVING RIGHT_TO_CENTER
    AliasConditionState RIDER7 MOVING RIGHT_TO_CENTER
    ConditionState = RIDER1 MOVING RIGHT_TO_CENTER REALLYDAMAGED
      Model = UVComBike_d
      Animation           = UVComBike_A2.UVComBike_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER5 MOVING RIGHT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER6 MOVING RIGHT_TO_CENTER REALLYDAMAGED
    AliasConditionState RIDER7 MOVING RIGHT_TO_CENTER REALLYDAMAGED


    ;Gun Bike
    ;------------------------------
    ConditionState = RIDER2
      Model = UVComBikeG
    End
    AliasConditionState RIDER2 MOVING
    AliasConditionState RIDER4
    AliasConditionState RIDER4 MOVING
    ConditionState = RIDER2 REALLYDAMAGED
      Model = UVComBikeG_d
    End
    AliasConditionState RIDER2 MOVING REALLYDAMAGED
    AliasConditionState RIDER4 REALLYDAMAGED
    AliasConditionState RIDER4 MOVING REALLYDAMAGED

    ConditionState = RIDER2 MOVING CENTER_TO_LEFT
      Model = UVComBikeG
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_LEFT
    ConditionState = RIDER2 MOVING CENTER_TO_LEFT REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_LEFT REALLYDAMAGED

    ConditionState = RIDER2 MOVING LEFT_TO_CENTER
      Model = UVComBikeG
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING LEFT_TO_CENTER
    ConditionState = RIDER2 MOVING LEFT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A1.UVComBikeG_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING LEFT_TO_CENTER REALLYDAMAGED

    ConditionState = RIDER2 MOVING CENTER_TO_RIGHT
      Model = UVComBikeG
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_RIGHT
    ConditionState = RIDER2 MOVING CENTER_TO_RIGHT REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING CENTER_TO_RIGHT REALLYDAMAGED

    ConditionState = RIDER2 MOVING RIGHT_TO_CENTER
      Model = UVComBikeG
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING RIGHT_TO_CENTER
    ConditionState = RIDER2 MOVING RIGHT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeG_d
      Animation           = UVComBikeG_A2.UVComBikeG_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    AliasConditionState RIDER4 MOVING RIGHT_TO_CENTER REALLYDAMAGED

    ;Missile Bike
    ;------------------------------
    ConditionState = RIDER3
      Model = UVComBikeTN
    End
    AliasConditionState RIDER3 MOVING
    ConditionState = RIDER3 REALLYDAMAGED
      Model = UVComBikeTN_d
    End
    AliasConditionState RIDER3 MOVING REALLYDAMAGED

    ConditionState = RIDER3 MOVING CENTER_TO_LEFT
      Model = UVComBikeTN
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING CENTER_TO_LEFT REALLYDAMAGED
      Model = UVComBikeTN_d
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    ConditionState = RIDER3 MOVING LEFT_TO_CENTER
      Model = UVComBikeTN
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING LEFT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeTN_d
      Animation           = UVComBikeTN_A1.UVComBikeTN_A1
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    ConditionState = RIDER3 MOVING CENTER_TO_RIGHT
      Model = UVComBikeTN
      Animation           = UVComBikeTN_A2.UVComBikeTN_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING CENTER_TO_RIGHT REALLYDAMAGED
      Model = UVComBikeTN_d
      Animation           = UVComBikeTN_A2.UVComBikeTN_A2
      AnimationMode       = ONCE
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    ConditionState = RIDER3 MOVING RIGHT_TO_CENTER
      Model = UVComBikeTN
      Animation           = UVComBikeTN_A2.UVComBikeTN_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End
    ConditionState = RIDER3 MOVING RIGHT_TO_CENTER REALLYDAMAGED
      Model = UVComBikeTN_d
      Animation           = UVComBikeTN_A2.UVComBikeTN_A2
      AnimationMode       = ONCE_BACKWARDS
      ParticleSysBone     = SMOKE CombatBikeSmokeHeavy
    End

    TrackMarks = EXTireTrack03.tga

    Dust                        = CombatBikeDust
    DirtSpray                   = CombatBikeDirtSpray
    PowerslideSpray             = CombatBikeDirtPowerSlide

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone           = Tire01
    LeftRearTireBone            = Tire00
    TireRotationMultiplier      = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition  = 2.5   ; This speed is added to the rotation speed when powersliding.

  End

  Draw = W3DModelDraw ModuleTag_Rider01
    OkToChangeModelColor = Yes

    DefaultConditionState
      ;**************************************************
      ;*** Must have a default model in order to see
      ;*** house color!!!
      ;**************************************************
      Model = UIWrkr_SKN
      ;WeaponFireFXBone    = PRIMARY Muzzle
      ;WeaponLaunchBone    = PRIMARY Muzzle
      WeaponMuzzleFlash   = PRIMARY MuzzleFX
    End
    AliasConditionState MOVING

    ;Worker animations
    ;-----------------------
    ConditionState = RIDER1
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER1 MOVING
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER1 MOVING CENTER_TO_LEFT
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER1 MOVING LEFT_TO_CENTER
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER1 MOVING CENTER_TO_RIGHT
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER1 MOVING RIGHT_TO_CENTER
      Model = UIWrkr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End


    ;Rebel animations
    ;-----------------------
    ConditionState = RIDER2
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER2 MOVING
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER2 MOVING CENTER_TO_LEFT
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER2 MOVING LEFT_TO_CENTER
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER2 MOVING CENTER_TO_RIGHT
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER2 MOVING RIGHT_TO_CENTER
      Model = UIRGrd_SKN
      Animation           = UIRGrd_SKL.UIRGrd_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;RPG Trooper animations
    ;-----------------------
    ConditionState = RIDER3
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER3 MOVING
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER3 MOVING CENTER_TO_LEFT
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER3 MOVING LEFT_TO_CENTER
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER3 MOVING CENTER_TO_RIGHT
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER3 MOVING RIGHT_TO_CENTER
      Model = UITunF_SKN2
      Animation           = UITunF_SKL.UITunF_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Jarmen Kell animations
    ;-----------------------
    ConditionState = RIDER4
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER4 MOVING
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER4 MOVING CENTER_TO_LEFT
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER4 MOVING LEFT_TO_CENTER
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER4 MOVING CENTER_TO_RIGHT
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER4 MOVING RIGHT_TO_CENTER
      Model = UIHERO_SKN
      Animation           = UIHERO_SKL.UIHERO_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Terrorist animations
    ;-----------------------
    ConditionState = RIDER5
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER5 MOVING
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER5 MOVING CENTER_TO_LEFT
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER5 MOVING LEFT_TO_CENTER
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER5 MOVING CENTER_TO_RIGHT
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER5 MOVING RIGHT_TO_CENTER
      Model = UITRST_SKN
      Animation           = UITRST_SKL.UITER_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Hijacker animations
    ;-----------------------
    ConditionState = RIDER6
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER6 MOVING
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER6 MOVING CENTER_TO_LEFT
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER6 MOVING LEFT_TO_CENTER
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER6 MOVING CENTER_TO_RIGHT
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER6 MOVING RIGHT_TO_CENTER
      Model = UIHJCK_SKN
      Animation           = UIHJCK_SKL.UIHJACK_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ;Saboteur animations
    ;-----------------------
    ConditionState = RIDER7
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A5
      AnimationMode = LOOP
    End
    ConditionState = RIDER7 MOVING
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A4
      AnimationMode = LOOP
    End
    ConditionState = RIDER7 MOVING CENTER_TO_LEFT
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE
    End
    ConditionState = RIDER7 MOVING LEFT_TO_CENTER
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A1
      AnimationMode       = ONCE_BACKWARDS
    End
    ConditionState = RIDER7 MOVING CENTER_TO_RIGHT
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE
    End
    ConditionState = RIDER7 MOVING RIGHT_TO_CENTER
      Model = UISabotr_SKN
      Animation           = UIWrkr_SKL.UIWrkr_CmBk_A2
      AnimationMode       = ONCE_BACKWARDS
    End

    ConditionState = TOPPLED
      Model = None
    End
    AliasConditionState TOPPLED MOVING
  End

  ; ***DESIGN parameters ***
  DisplayName         = OBJECT:CombatBike
  Side                = GLAStealthGeneral
  EditorSorting       = VEHICLE
  TransportSlotCount  = 1                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY NONE
  End
  WeaponSet
    Conditions = WEAPON_RIDER2
    Weapon = PRIMARY GLARebelBikerMachineGun
  End
  WeaponSet
    Conditions = WEAPON_RIDER3
    Weapon = PRIMARY TunnelDefenderBikerRocketWeapon
  End
  WeaponSet
    Conditions = WEAPON_RIDER4
    Weapon = PRIMARY GLABikerKellSniperRifle
    Weapon = SECONDARY GLAJarmenKellVehiclePilotSniperRifle
    AutoChooseSources = SECONDARY NONE
  End
  WeaponSet
    ;Kill himself so we can use FireWeaponWhenDead to fire the real weapon -- and use UNRESISTABLE
    ;damage to do ini logic for type of death to play -- unresistable for success.
    Conditions = WEAPON_RIDER5
    Weapon = PRIMARY TerroristSuicideWeapon
  End
  ArmorSet
    Conditions      = None
    Armor           = TruckArmor
    DamageFX        = TankDamageFX
  End
  BuildCost       = 500
  BuildTime       = 8.0          ;in seconds
  VisionRange     = 180
  ShroudClearingRange = 300
  Prerequisites
    Object = GC_Slth_GLAArmsDealer
    Object = GC_Slth_GLAPalace
  End

  ExperienceValue       = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired    = 0 200 400 800  ;Experience points needed to gain each level
  IsTrainable           = Yes             ;Can gain experience
  ;CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles
  ;CommandSet            = GLAVehicleCombatBikeCommandSet

  ; *** AUDIO Parameters ***
  VoiceSelect = RocketBuggyVoiceSelect
  ;VoiceMove = RocketBuggyVoiceMove
  VoiceAttack = RocketBuggyVoiceAttack
  SoundMoveStart = CombatBikeMoveStart
  SoundMoveStartDamaged = CombatBikeMoveStart
  VoiceGuard = RocketBuggyVoiceMove


  UnitSpecificSounds
    ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate          = RocketBuggyVoiceCreate
    TurretMoveStart = NoSound
    TurretMoveLoop = TurretMoveLoop
  ; Required for the W3DTruckDraw module
    TruckLandingSound = RocketBuggyLand
    TruckPowerslideSound = CombatBikeMoveStart
    VoiceCrush      = RocketBuggyVoiceCrush
    VoiceEnter = RocketBuggyVoiceMove
  End

  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK DONT_AUTO_CRUSH_INFANTRY ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS VEHICLE SALVAGER SCORE CLIFF_JUMPER

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 100
    InitialHealth   = 100
  End
  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 0       ; turn rate, in degrees per sec
      NaturalTurretAngle = 0
      ControlledWeaponSlots = PRIMARY SECONDARY
    End
    AutoAcquireEnemiesWhenIdle = No
  End
  Locomotor = SET_NORMAL CombatBikeGroundLocomotor CombatBikeCliffLocomotor
  Locomotor = SET_SLUGGISH CombatBikeTerroristGroundLocomotor CombatBikeTerroristCliffLocomotor
  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 15.0
  End

  Behavior = SlowDeathBehavior DeathTag_04
    ExemptStatus = STATUS_RIDER1 STATUS_RIDER2 STATUS_RIDER3 STATUS_RIDER4 STATUS_RIDER5 STATUS_RIDER6 STATUS_RIDER7
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_05
    RequiredStatus = STATUS_RIDER1
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_WorkerFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_06
    RequiredStatus = STATUS_RIDER2
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_RebelFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_07
    RequiredStatus = STATUS_RIDER3
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_TunnelDefenderFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_08
    RequiredStatus = STATUS_RIDER4
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_JarmenKellFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_09
    RequiredStatus = STATUS_RIDER5
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_TerroristFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End
  Behavior = SlowDeathBehavior DeathTag_10
    RequiredStatus = STATUS_RIDER6
    DeathTypes = ALL -CRUSHED -SPLATTED -TOPPLED
    DestructionDelay = 0
    FX = INITIAL FX_BuggyNewDeathExplosion
    OCL = INITIAL OCL_HijackerFlyingOffBikeDeathStart
    OCL = FINAL OCL_CombatBikeAirDeathStart
  End

  Behavior = AutoHealBehavior ModuleTag_08
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = WeaponSetUpgrade ModuleTag_09
    TriggeredBy = Upgrade_GLABuggyAmmo
  End

  ;Create the hulk after the toppling is complete (not killed until topple anim finished).
  Behavior = CreateObjectDie ModuleTag_10
    DeathTypes = NONE +TOPPLED
    CreationList = OCL_CombatBike_ToppledHulk
  End

  Behavior = DestroyDie ModuleTag_11
    DeathTypes = NONE +CRUSHED +SPLATTED +TOPPLED
  End

  ; A crushing defeat
  Behavior = FXListDie ModuleTag_12
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End
  Behavior = CreateObjectDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
    CreationList = OCL_RocketBuggy_CrushEffect
  End
  Behavior = CreateCrateDie ModuleTag_14
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior                 = TransitionDamageFX ModuleTag_15
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End

  Behavior = RiderChangeContain ModuleTag_16
    ;A list of each valid rider that is allowed to ride this object. Each rider is
    ;assigned a modelcondition state, a weaponset flag, an object status bit, and
    ;a commandset override. The actual object is hidden inside the container so the
    ;visible rider is fluff. Also riders are deleted (not killed) when the bike is
    ;destroyed, so all deaths must be OCLs on the bike.
    Rider1 = GC_Slth_GLAInfantryWorker         RIDER1 WEAPON_RIDER1 STATUS_RIDER1 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider2 = GC_Slth_GLAInfantryRebel          RIDER2 WEAPON_RIDER2 STATUS_RIDER2 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider3 = GC_Slth_GLAInfantryTunnelDefender RIDER3 WEAPON_RIDER3 STATUS_RIDER3 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider4 = GC_Slth_GLAInfantryJarmenKell     RIDER4 WEAPON_RIDER4 STATUS_RIDER4 GLAVehicleCombatBikeJarmenKellCommandSet SET_NORMAL
    Rider5 = GC_Slth_GLAInfantryTerrorist      RIDER5 WEAPON_RIDER5 STATUS_RIDER5 GLAVehicleCombatBikeDefaultCommandSet SET_SLUGGISH
    Rider6 = GC_Slth_GLAInfantryHijacker       RIDER6 WEAPON_RIDER6 STATUS_RIDER6 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    Rider7 = GLAInfantrySaboteur               RIDER7 WEAPON_RIDER7 STATUS_RIDER7 GLAVehicleCombatBikeDefaultCommandSet SET_NORMAL
    ScuttleDelay          = 1500
    ScuttleStatus         = TOPPLED

    ;Standard TransportContain stuff
    Slots                 = 1
    InitialPayload        = GC_Slth_GLAInfantryTerrorist 1
    ScatterNearbyOnExit   = No
    HealthRegen%PerSec    = 0
    DamagePercentToUnits  = 100%  ; This module will Delete the rider on death, but we need to kill him as well so he doesn't pick up the bike's salvage crate.
    BurnedDeathToUnits    = No    ; And no Burned death.
    AllowInsideKindOf     = INFANTRY
    ExitDelay         = 250
    NumberOfExitPaths = 1 ; Defaults to 1.  Set 0 to not use ExitStart/ExitEnd, set higher than 1 to use ExitStart01-nn/ExitEnd01-nn
    GoAggressiveOnExit = Yes ; AI Will tell people to set their mood to Aggressive on exiting
  End

  Behavior = AnimationSteeringUpdate ModuleTag_17
    MinTransitionTime = 300
  End

  Behavior = FireWeaponWhenDeadBehavior ModuleTag_Death18
    RequiredStatus  = STATUS_RIDER5
    DeathWeapon     = SuicideBikeBomb
    StartsActive    = Yes
    DeathTypes      = NONE +SUICIDED +CRUSHED +SPLATTED +LASERED +BURNED +EXPLODED
  End

  Behavior = StealthUpdate ModuleTag_19
    ;UseRiderStealth             = Yes
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = ATTACKING
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End

  Behavior = FlammableUpdate ModuleTag_21
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Geometry = BOX
  GeometryMajorRadius = 11.0
  GeometryMinorRadius = 2.5
  GeometryHeight = 7.5
  GeometryIsSmall = Yes

  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End


















;------------------------------------------------------------------------------
Object GC_Slth_GLAVehicleQuadCannon

  ; *** ART Parameters ***
  SelectPortrait         = SUQuadCannon_L
  ButtonImage            = SUQuadCannon

  UpgradeCameo1 = Upgrade_GLAAPBullets
  UpgradeCameo2 = Upgrade_GLAJunkRepair
  UpgradeCameo3 = GC_Slth_Upgrade_GLAQuadCannonSnipe
  ;UpgradeCameo4 = XXX
  ;UpgradeCameo5 = XXX

  Draw = W3DTankTruckDraw ModuleTag_01
    OkToChangeModelColor = Yes

    ConditionState = NONE
      Model = UVQuadCann
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponFireFXBone  = PRIMARY   BarrelMS
      WeaponMuzzleFlash = PRIMARY   BarrelFX
      WeaponRecoilBone  = PRIMARY   Barrel
      WeaponFireFXBone  = SECONDARY BarrelMS
      WeaponMuzzleFlash = SECONDARY BarrelFX
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = TERTIARY   BarrelMS
      WeaponMuzzleFlash = TERTIARY   BarrelFX
      WeaponRecoilBone  = TERTIARY   Barrel
      ShowSubObject = TURRET
      HideSubObject = TURRETUP01 TURRETUP02 BarrelFX01 BarrelFX02 BarrelFX03 BarrelFX04  ; Since we are showing one of three turrets, we need to then hide the subobject muzzleflash
    End

    ConditionState = REALLYDAMAGED
      Model = UVQuadCann_D
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponFireFXBone  = PRIMARY   BarrelMS
      WeaponMuzzleFlash = PRIMARY   BarrelFX
      WeaponRecoilBone  = PRIMARY   Barrel
      WeaponFireFXBone  = SECONDARY BarrelMS
      WeaponMuzzleFlash = SECONDARY BarrelFX
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = TERTIARY   BarrelMS
      WeaponMuzzleFlash = TERTIARY   BarrelFX
      WeaponRecoilBone  = TERTIARY   Barrel
      ShowSubObject = TURRET
      HideSubObject = TURRETUP01 TURRETUP02 BarrelFX01 BarrelFX02 BarrelFX03 BarrelFX04
    End

    ConditionState = RUBBLE
      Model = UVQuadCann_D
      Turret = TURRET
      TurretPitch = TURRETEL
      WeaponFireFXBone  = PRIMARY   BarrelMS
      WeaponMuzzleFlash = PRIMARY   BarrelFX
      WeaponRecoilBone  = PRIMARY   Barrel
      WeaponFireFXBone  = SECONDARY BarrelMS
      WeaponMuzzleFlash = SECONDARY BarrelFX
      WeaponRecoilBone  = SECONDARY Barrel
      WeaponFireFXBone  = TERTIARY   BarrelMS
      WeaponMuzzleFlash = TERTIARY   BarrelFX
      WeaponRecoilBone  = TERTIARY   Barrel
      ShowSubObject = TURRET
      HideSubObject = TURRETUP01 TURRETUP02 BarrelFX01 BarrelFX02 BarrelFX03 BarrelFX04
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE
      Model = UVQuadCann
      Turret = TURRETUP01
      TurretPitch = TURRETEL01
      WeaponFireFXBone  = PRIMARY   BarrelUp01MS
      WeaponMuzzleFlash = PRIMARY   BarrelUp01FX
      WeaponRecoilBone  = PRIMARY   BarrelUp01
      WeaponFireFXBone  = SECONDARY BarrelUp01MS
      WeaponMuzzleFlash = SECONDARY BarrelUp01FX
      WeaponRecoilBone  = SECONDARY BarrelUp01
      WeaponFireFXBone  = TERTIARY   BarrelMS
      WeaponMuzzleFlash = TERTIARY   BarrelFX
      WeaponRecoilBone  = TERTIARY   Barrel
      ShowSubObject = TURRETUP01
      HideSubObject = TURRET TURRETUP02 BarrelUp01FX01 BarrelUp01FX02 BarrelUp01FX03 BarrelUp01FX04
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE REALLYDAMAGED
      Model = UVQuadCann
      Turret = TURRETUP01
      TurretPitch = TURRETEL01
      WeaponFireFXBone  = PRIMARY   BarrelUp01MS
      WeaponMuzzleFlash = PRIMARY   BarrelUp01FX
      WeaponRecoilBone  = PRIMARY   BarrelUp01
      WeaponFireFXBone  = SECONDARY BarrelUp01MS
      WeaponMuzzleFlash = SECONDARY BarrelUp01FX
      WeaponRecoilBone  = SECONDARY BarrelUp01
      WeaponFireFXBone  = TERTIARY   BarrelMS
      WeaponMuzzleFlash = TERTIARY   BarrelFX
      WeaponRecoilBone  = TERTIARY   Barrel
      ShowSubObject = TURRETUP01
      HideSubObject = TURRET TURRETUP02 BarrelUp01FX01 BarrelUp01FX02 BarrelUp01FX03 BarrelUp01FX04
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_ONE RUBBLE
      Model = UVQuadCann
      Turret = TURRETUP01
      TurretPitch = TURRETEL01
      WeaponFireFXBone  = PRIMARY   BarrelUp01MS
      WeaponMuzzleFlash = PRIMARY   BarrelUp01FX
      WeaponRecoilBone  = PRIMARY   BarrelUp01
      WeaponFireFXBone  = SECONDARY BarrelUp01MS
      WeaponMuzzleFlash = SECONDARY BarrelUp01FX
      WeaponRecoilBone  = SECONDARY BarrelUp01
      WeaponFireFXBone  = TERTIARY   BarrelMS
      WeaponMuzzleFlash = TERTIARY   BarrelFX
      WeaponRecoilBone  = TERTIARY   Barrel
      ShowSubObject = TURRETUP01
      HideSubObject = TURRET TURRETUP02 BarrelUp01FX01 BarrelUp01FX02 BarrelUp01FX03 BarrelUp01FX04
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO
      Model = UVQuadCann
      Turret = TURRETUP02
      TurretPitch = TURRETEL02
      WeaponFireFXBone  = PRIMARY   BarrelUp02MS
      WeaponMuzzleFlash = PRIMARY   BarrelUp02FX
      WeaponRecoilBone  = PRIMARY   BarrelUp02
      WeaponFireFXBone  = SECONDARY BarrelUp02MS
      WeaponMuzzleFlash = SECONDARY BarrelUp02FX
      WeaponRecoilBone  = SECONDARY BarrelUp02
      WeaponFireFXBone  = TERTIARY   BarrelMS
      WeaponMuzzleFlash = TERTIARY   BarrelFX
      WeaponRecoilBone  = TERTIARY   Barrel
      ShowSubObject = TURRETUP02
      HideSubObject = TURRETUP01 TURRET BarrelUp02FX01 BarrelUp02FX02 BarrelUp02FX03 BarrelUp02FX04
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO REALLYDAMAGED
      Model = UVQuadCann_D
      Turret = TURRETUP02
      TurretPitch = TURRETEL02
      WeaponFireFXBone  = PRIMARY   BarrelUp02MS
      WeaponMuzzleFlash = PRIMARY   BarrelUp02FX
      WeaponRecoilBone  = PRIMARY   BarrelUp02
      WeaponFireFXBone  = SECONDARY BarrelUp02MS
      WeaponMuzzleFlash = SECONDARY BarrelUp02FX
      WeaponRecoilBone  = SECONDARY BarrelUp02
      WeaponFireFXBone  = TERTIARY   BarrelMS
      WeaponMuzzleFlash = TERTIARY   BarrelFX
      WeaponRecoilBone  = TERTIARY   Barrel
      ShowSubObject = TURRETUP02
      HideSubObject = TURRETUP01 TURRET BarrelUp02FX01 BarrelUp02FX02 BarrelUp02FX03 BarrelUp02FX04
    End

    ConditionState = WEAPONSET_CRATEUPGRADE_TWO RUBBLE
      Model = UVQuadCann_D
      Turret = TURRETUP02
      TurretPitch = TURRETEL02
      WeaponFireFXBone  = PRIMARY   BarrelUp02MS
      WeaponMuzzleFlash = PRIMARY   BarrelUp02FX
      WeaponRecoilBone  = PRIMARY   BarrelUp02
      WeaponFireFXBone  = SECONDARY BarrelUp02MS
      WeaponMuzzleFlash = SECONDARY BarrelUp02FX
      WeaponRecoilBone  = SECONDARY BarrelUp02
      WeaponFireFXBone  = TERTIARY   BarrelMS
      WeaponMuzzleFlash = TERTIARY   BarrelFX
      WeaponRecoilBone  = TERTIARY   Barrel
      ShowSubObject = TURRETUP02
      HideSubObject = TURRETUP01 TURRET BarrelUp02FX01 BarrelUp02FX02 BarrelUp02FX03 BarrelUp02FX04
    End

    TrackMarks = EXTnkTrack.tga

    TreadAnimationRate = 2.0;  amount of tread texture to move per second
    TreadDriveSpeedFraction = 0.3  ; fraction of locomotor speed below which treads stop moving.
    TreadPivotSpeedFraction = 0.6  ; fraction of locomotor speed below which we allow pivoting.

    Dust = RocketBuggyDust
    DirtSpray = RocketBuggyDirtSpray

    ; These parameters are only used if the model has a separate suspension,
    ; and the locomotor has HasSuspension = Yes.
    LeftFrontTireBone = Tire01
    RightFrontTireBone = Tire02
    TireRotationMultiplier = 0.2   ; this * speed = rotation.
    PowerslideRotationAddition = 0   ; This unit doesn't powerslide.
  End

  ; ***DESIGN parameters ***
  DisplayName      = OBJECT:QuadCannon
  Side = GLAStealthGeneral
  EditorSorting   = VEHICLE
  TransportSlotCount = 3                 ;how many "slots" we take in a transport (0 == not transportable)
  WeaponSet
    Conditions = None
    Weapon = PRIMARY QuadCannonGun
    Weapon = SECONDARY QuadCannonGunAir
    Weapon = TERTIARY None
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE
    Weapon = PRIMARY QuadCannonGunUpgradeOne
    Weapon = SECONDARY QuadCannonGunUpgradeOneAir
    Weapon = TERTIARY None
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO
    Weapon = PRIMARY QuadCannonGunUpgradeTwo
    Weapon = SECONDARY QuadCannonGunUpgradeTwoAir
    Weapon = TERTIARY None
  End
  WeaponSet
    Conditions = PLAYER_UPGRADE
    Weapon = PRIMARY QuadCannonGun
    Weapon = SECONDARY QuadCannonGunAir
    Weapon = TERTIARY GC_Slth_QuadCannonSnipeGun
  End
  WeaponSet
    Conditions = CRATEUPGRADE_ONE PLAYER_UPGRADE
    Weapon = PRIMARY QuadCannonGunUpgradeOne
    Weapon = SECONDARY QuadCannonGunUpgradeOneAir
    Weapon = TERTIARY GC_Slth_QuadCannonSnipeGun
  End
  WeaponSet
    Conditions = CRATEUPGRADE_TWO PLAYER_UPGRADE
    Weapon = PRIMARY QuadCannonGunUpgradeTwo
    Weapon = SECONDARY QuadCannonGunUpgradeTwoAir
    Weapon = TERTIARY GC_Slth_QuadCannonSnipeGun
  End
  ArmorSet
    Conditions      = None
    Armor           = AntiAirVehicle
    DamageFX        = TankDamageFX
  End
  BuildCost       = 700
  BuildTime       = 10.0          ;in seconds
  VisionRange     = 150
  ShroudClearingRange = 300
  Prerequisites
    Object = GC_Slth_GLAArmsDealer
  End

  CommandSet          = GLAVehicleQuadCannon

  ExperienceValue = 50 50 100 150    ;Experience point value at each level
  ExperienceRequired = 0 100 150 300  ;Experience points needed to gain each level
  IsTrainable = Yes             ;Can gain experience
  CrusherLevel           = 2  ;What can I crush?: 1 = infantry, 2 = trees, 3 = vehicles
  CrushableLevel         = 2  ;What am I?:        0 = for infantry, 1 = for trees, 2 = general vehicles

  ; *** AUDIO Parameters ***
  VoiceSelect           = QuadCannonVoiceSelect
  VoiceMove             = QuadCannonVoiceMove
  VoiceAttack           = QuadCannonVoiceAttack
  VoiceAttackAir        = QuadCannonVoiceAttackAir
  SoundMoveStart        = QuadCannonMoveStart
  SoundMoveStartDamaged = QuadCannonMoveStart
  VoiceGuard             = QuadCannonVoiceMove
  UnitSpecificSounds
   ; These have the syntax of SomeNameSomewhereInCode = SomeNameSomewhereInLookupINIs
    VoiceCreate         = QuadCannonVoiceCreate
   TurretMoveStart      = NoSound
   TurretMoveLoop       = TurretMoveLoop
   ; Required for the W3DTruckDraw module
   TruckLandingSound    = NoSound
   TruckPowerslideSound = NoSound
   VoiceSalvage         = QuadCannonVoiceSalvage
   VoiceCrush           = QuadCannonVoiceCrush
   VoiceEnter             = QuadCannonVoiceMove
  End


  ; *** ENGINEERING Parameters ***
  RadarPriority = UNIT
  KindOf = PRELOAD SELECTABLE CAN_ATTACK ATTACK_NEEDS_LINE_OF_SIGHT CAN_CAST_REFLECTIONS SALVAGER WEAPON_SALVAGER VEHICLE SCORE

  Body = ActiveBody ModuleTag_02
    MaxHealth       = 220.0
    InitialHealth   = 220.0
  End

  Behavior = AIUpdateInterface ModuleTag_03
    Turret
      TurretTurnRate = 360
      TurretPitchRate = 360
      AllowsPitch = Yes
      ControlledWeaponSlots = PRIMARY SECONDARY TERTIARY
    End
    AutoAcquireEnemiesWhenIdle = Yes
    MoodAttackCheckRate        = 250
  End

  Locomotor = SET_NORMAL QuadCannonLocomotor

  Behavior = PhysicsBehavior ModuleTag_04
    Mass = 40.0
  End

  ; Catch fire, and explode death
  Behavior = SlowDeathBehavior ModuleTag_05
    DeathTypes = ALL -CRUSHED -SPLATTED
    ProbabilityModifier = 411
    DestructionDelay = 150
    DestructionDelayVariance = 250
    OCL = FINAL    OCL_QuadCannonDeathEffect
    FX  = FINAL    FX_BattleMasterExplosionOneFinal
  End

  Behavior = AutoHealBehavior ModuleTag_06
    HealingAmount = 2
    HealingDelay = 1000 ; msec
    TriggeredBy = Upgrade_GLAJunkRepair
  End

  Behavior = FlammableUpdate ModuleTag_08
    AflameDuration = 5000         ; If I catch fire, I'll burn for this long...
    AflameDamageAmount = 3       ; taking this much damage...
    AflameDamageDelay = 500       ; this often.
  End

  Behavior                 = TransitionDamageFX ModuleTag_09
    ReallyDamagedParticleSystem1 = Bone:Smoke RandomBone:Yes PSys:SmallLightSmokeColumn
    ReallyDamagedFXList1 = Loc: X:0 Y:0 Z:0 FXList:FX_BattleMasterDamageTransition
  End


  ; A crushing defeat
  Behavior = FXListDie ModuleTag_10
    DeathTypes = NONE +CRUSHED +SPLATTED
    DeathFX = FX_CarCrush
  End

  Behavior = CreateCrateDie ModuleTag_11
    CrateData = SalvageCrateData
    ;CrateData = EliteTankCrateData
    ;CrateData = HeroicTankCrateData
  End

  Behavior = WeaponBonusUpgrade ModuleTag_12
    TriggeredBy = Upgrade_GLAAPBullets
  End

  Behavior = DestroyDie ModuleTag_13
    DeathTypes = NONE +CRUSHED +SPLATTED
  End
  Behavior = StealthUpdate ModuleTag_14
    StealthDelay                = 2000 ; msec
    StealthForbiddenConditions  = FIRING_PRIMARY
    HintDetectableConditions    = IS_FIRING_WEAPON
    FriendlyOpacityMin          = 50.0%
    FriendlyOpacityMax          = 100.0%
    InnateStealth               = Yes
    OrderIdleEnemiesToAttackMeUponReveal  = Yes
  End
  Behavior = WeaponSetUpgrade ModuleTag_15
    TriggeredBy = GC_Slth_Upgrade_GLAQuadCannonSnipe
  End
  Geometry = BOX
  GeometryMajorRadius = 18.0
  GeometryMinorRadius = 7.0
  GeometryHeight = 11.5
  GeometryIsSmall = No
  Shadow = SHADOW_VOLUME
  ShadowSizeX = 45  ; minimum elevation angle above horizon. Used to limit shadow length

End
